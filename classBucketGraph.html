<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BALDES: BucketGraph Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">BALDES
   </div>
   <div id="projectbrief">Bucket Graph Labeling Algorithm for Vehicle Routing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classBucketGraph.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classBucketGraph-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">BucketGraph Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Represents a graph structure used for bucket-based optimization in a solver.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for BucketGraph:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph__coll__graph.png" border="0" usemap="#aBucketGraph_coll__map" alt="Collaboration graph"/></div>
<map name="aBucketGraph_coll__map" id="aBucketGraph_coll__map">
<area shape="rect" title="Represents a graph structure used for bucket&#45;based optimization in a solver." alt="" coords="363,286,460,312"/>
<area shape="rect" href="classCostFunction.html" title=" " alt="" coords="5,183,104,208"/>
<area shape="poly" title=" " alt="" coords="75,219,98,241,126,260,170,272,233,282,363,293,363,298,233,287,169,278,124,265,95,245,71,223"/>
<area shape="rect" href="structBucketOptions.html" title=" " alt="" coords="128,183,235,208"/>
<area shape="poly" title=" " alt="" coords="206,217,234,240,267,260,315,278,363,289,362,294,314,283,264,265,231,244,202,221"/>
<area shape="rect" href="structPSTEPDuals.html" title="A structure to manage dual values for arcs and nodes in a network." alt="" coords="259,183,356,208"/>
<area shape="poly" title=" " alt="" coords="316,223,323,243,335,261,352,274,371,283,369,288,349,278,332,264,319,245,311,225"/>
<area shape="rect" href="classArcList.html" title=" " alt="" coords="380,183,444,208"/>
<area shape="poly" title=" " alt="" coords="414,224,414,286,409,286,409,224"/>
<area shape="rect" href="classIteratedLocalSearch.html" title=" " alt="" coords="468,183,606,208"/>
<area shape="poly" title=" " alt="" coords="528,224,514,245,496,264,476,278,454,288,452,283,473,273,493,260,510,242,523,221"/>
<area shape="rect" href="structInstanceData.html" title="A structure to hold various data related to an instance of a problem." alt="" coords="328,94,426,120"/>
<area shape="poly" title=" " alt="" coords="407,127,454,156,506,180,503,184,452,161,404,131"/>
<area shape="rect" href="classCutStorage.html" title="Manages the storage and operations related to cuts in a solver." alt="" coords="605,94,691,120"/>
<area shape="poly" title=" " alt="" coords="648,136,639,173,621,210,586,243,545,267,501,283,461,293,460,288,500,278,542,262,583,239,616,207,634,171,643,134"/>
<area shape="poly" title=" " alt="" coords="593,129,567,146,552,164,544,183,539,181,548,161,563,142,590,124"/>
<area shape="rect" href="structCutStorage_1_1SegmentMasks.html" title=" " alt="" coords="556,5,740,31"/>
<area shape="poly" title=" " alt="" coords="650,47,650,94,645,94,645,47"/>
<area shape="rect" href="classXoroshiro128Plus.html" title=" " alt="" coords="450,94,574,120"/>
<area shape="poly" title=" " alt="" coords="513,135,516,158,529,181,525,184,511,160,507,136"/>
<area shape="rect" href="classUnionFind.html" title=" " alt="" coords="749,183,829,208"/>
<area shape="poly" title=" " alt="" coords="762,220,721,244,674,265,618,280,561,290,461,299,461,294,560,285,617,275,672,260,719,239,759,215"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:afe491ade830c057e9508df46cc5bf33a" id="r_afe491ade830c057e9508df46cc5bf33a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe491ade830c057e9508df46cc5bf33a">BranchingDualsPtr</a> = std::shared_ptr&lt;<a class="el" href="classBranchingDuals.html">BranchingDuals</a>&gt;</td></tr>
<tr class="separator:afe491ade830c057e9508df46cc5bf33a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3e754f9357ca106ac7f610d12039e3" id="r_a8f3e754f9357ca106ac7f610d12039e3"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f3e754f9357ca106ac7f610d12039e3">LabelPoolPtr</a> = std::shared_ptr&lt;<a class="el" href="classLabelPool.html">LabelPool</a>&gt;</td></tr>
<tr class="separator:a8f3e754f9357ca106ac7f610d12039e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936c0260cd027c71e69c8f8003a45f30" id="r_a936c0260cd027c71e69c8f8003a45f30"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a936c0260cd027c71e69c8f8003a45f30">AdjList</a></td></tr>
<tr class="separator:a936c0260cd027c71e69c8f8003a45f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a089363d826484da9b9af636fe4ea5ce4" id="r_a089363d826484da9b9af636fe4ea5ce4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a089363d826484da9b9af636fe4ea5ce4">mono_initialization</a> ()</td></tr>
<tr class="memdesc:a089363d826484da9b9af636fe4ea5ce4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> for the mono-directional case.  <br /></td></tr>
<tr class="separator:a089363d826484da9b9af636fe4ea5ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b81e9c2de5aedf02450125a3350c89" id="r_ad6b81e9c2de5aedf02450125a3350c89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLabel.html">Label</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6b81e9c2de5aedf02450125a3350c89">compute_mono_label</a> (const <a class="el" href="structLabel.html">Label</a> *L)</td></tr>
<tr class="memdesc:ad6b81e9c2de5aedf02450125a3350c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the mono label for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>.  <br /></td></tr>
<tr class="separator:ad6b81e9c2de5aedf02450125a3350c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481033b40b7ccf857422bcad842039f0" id="r_a481033b40b7ccf857422bcad842039f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a481033b40b7ccf857422bcad842039f0">setPSTEPduals</a> (const <a class="el" href="structPSTEPDuals.html">PSTEPDuals</a> &amp;arc_duals)</td></tr>
<tr class="separator:a481033b40b7ccf857422bcad842039f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a143c987497e70d470d770508f7e62bc1" id="r_a143c987497e70d470d770508f7e62bc1"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a143c987497e70d470d770508f7e62bc1">solveTSP</a> (std::vector&lt; std::vector&lt; uint16_t &gt; &gt; &amp;paths, std::vector&lt; double &gt; &amp;path_costs, std::vector&lt; int &gt; &amp;firsts, std::vector&lt; int &gt; &amp;lasts, std::vector&lt; std::vector&lt; double &gt; &gt; &amp;cost_matrix, bool first_time=false)</td></tr>
<tr class="separator:a143c987497e70d470d770508f7e62bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d8d1d4235adcb64d7cd6e1b6ddb826" id="r_a63d8d1d4235adcb64d7cd6e1b6ddb826"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63d8d1d4235adcb64d7cd6e1b6ddb826">solveTSPTW</a> (std::vector&lt; std::vector&lt; uint16_t &gt; &gt; &amp;paths, std::vector&lt; double &gt; &amp;path_costs, std::vector&lt; int &gt; &amp;firsts, std::vector&lt; int &gt; &amp;lasts, std::vector&lt; std::vector&lt; double &gt; &gt; &amp;cost_matrix, std::vector&lt; double &gt; &amp;service_times, std::vector&lt; double &gt; &amp;time_windows_start, std::vector&lt; double &gt; &amp;time_windows_end, bool first_time=false)</td></tr>
<tr class="separator:a63d8d1d4235adcb64d7cd6e1b6ddb826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac9620cd3bd3f83c506efe893973b4f2" id="r_aac9620cd3bd3f83c506efe893973b4f2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac9620cd3bd3f83c506efe893973b4f2">solvePSTEP</a> (<a class="el" href="structPSTEPDuals.html">PSTEPDuals</a> &amp;inner_pstep_duals)</td></tr>
<tr class="memdesc:aac9620cd3bd3f83c506efe893973b4f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Solves the PSTEP problem and returns a vector of labels representing paths.  <br /></td></tr>
<tr class="separator:aac9620cd3bd3f83c506efe893973b4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc98fb458f5730b4e5a99d97344c4b1" id="r_aebc98fb458f5730b4e5a99d97344c4b1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aebc98fb458f5730b4e5a99d97344c4b1">solvePSTEP_by_MTZ</a> ()</td></tr>
<tr class="separator:aebc98fb458f5730b4e5a99d97344c4b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32cbe9be5575f60c44e11442d75eafd0" id="r_a32cbe9be5575f60c44e11442d75eafd0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32cbe9be5575f60c44e11442d75eafd0">solveTSPTW_by_MTZ</a> ()</td></tr>
<tr class="separator:a32cbe9be5575f60c44e11442d75eafd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0327d3b5366beacc84a51f21a3e318c9" id="r_a0327d3b5366beacc84a51f21a3e318c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0327d3b5366beacc84a51f21a3e318c9">setOptions</a> (const <a class="el" href="structBucketOptions.html">BucketOptions</a> &amp;<a class="el" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>)</td></tr>
<tr class="separator:a0327d3b5366beacc84a51f21a3e318c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67cccb92628b4a0a95e7924fdb07598b" id="r_a67cccb92628b4a0a95e7924fdb07598b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67cccb92628b4a0a95e7924fdb07598b">setManualArcs</a> (const <a class="el" href="classArcList.html">ArcList</a> &amp;<a class="el" href="#a94f440cfa11c57bba08c108e7caa048e">manual_arcs</a>)</td></tr>
<tr class="separator:a67cccb92628b4a0a95e7924fdb07598b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af129eff306551dc7cc7fe00b919bbbd0" id="r_af129eff306551dc7cc7fe00b919bbbd0"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:af129eff306551dc7cc7fe00b919bbbd0"><td class="memTemplItemLeft" align="right" valign="top">constexpr auto &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets</a> (auto &amp;FW, auto &amp;BW) noexcept</td></tr>
<tr class="memdesc:af129eff306551dc7cc7fe00b919bbbd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns the buckets based on the specified direction.  <br /></td></tr>
<tr class="separator:af129eff306551dc7cc7fe00b919bbbd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3084429e997dbd4341b9d02316006f3e" id="r_a3084429e997dbd4341b9d02316006f3e"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a3084429e997dbd4341b9d02316006f3e"><td class="memTemplItemLeft" align="right" valign="top">constexpr const auto &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a3084429e997dbd4341b9d02316006f3e">assign_buckets</a> (const auto &amp;FW, const auto &amp;BW) const noexcept</td></tr>
<tr class="separator:a3084429e997dbd4341b9d02316006f3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a66984a5d0225286c0598b884772f8c" id="r_a2a66984a5d0225286c0598b884772f8c"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </td></tr>
<tr class="memitem:a2a66984a5d0225286c0598b884772f8c"><td class="memTemplItemLeft" align="right" valign="top">constexpr auto &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2a66984a5d0225286c0598b884772f8c">assign_symmetry</a> (auto &amp;FW, auto &amp;BW) noexcept</td></tr>
<tr class="separator:a2a66984a5d0225286c0598b884772f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dc49c1b40dadbde429e084c455ee655" id="r_a7dc49c1b40dadbde429e084c455ee655"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </td></tr>
<tr class="memitem:a7dc49c1b40dadbde429e084c455ee655"><td class="memTemplItemLeft" align="right" valign="top">constexpr const auto &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a7dc49c1b40dadbde429e084c455ee655">assign_symmetry</a> (const auto &amp;FW, const auto &amp;BW) const noexcept</td></tr>
<tr class="separator:a7dc49c1b40dadbde429e084c455ee655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2436dd7416920cc8f4bed442dc84c86" id="r_af2436dd7416920cc8f4bed442dc84c86"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, typename Gamma, typename <a class="el" href="structVRPNode.html">VRPNode</a>&gt; </td></tr>
<tr class="memitem:af2436dd7416920cc8f4bed442dc84c86"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#af2436dd7416920cc8f4bed442dc84c86">process_all_resources</a> (std::vector&lt; double &gt; &amp;new_resources, const std::array&lt; double, R_SIZE &gt; &amp;initial_resources, const Gamma &amp;gamma, const <a class="el" href="structVRPNode.html">VRPNode</a> &amp;theNode, size_t N)</td></tr>
<tr class="memdesc:af2436dd7416920cc8f4bed442dc84c86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes all resources by iterating through them and applying constraints.  <br /></td></tr>
<tr class="separator:af2436dd7416920cc8f4bed442dc84c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fe5356bece2368da36fdd47258d60df" id="r_a1fe5356bece2368da36fdd47258d60df"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, typename Gamma, typename <a class="el" href="structVRPNode.html">VRPNode</a>&gt; </td></tr>
<tr class="memitem:a1fe5356bece2368da36fdd47258d60df"><td class="memTemplItemLeft" align="right" valign="top">constexpr bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a1fe5356bece2368da36fdd47258d60df">process_resource</a> (double &amp;new_resource, const std::array&lt; double, R_SIZE &gt; &amp;initial_resources, const Gamma &amp;gamma, const <a class="el" href="structVRPNode.html">VRPNode</a> &amp;theNode, size_t I)</td></tr>
<tr class="memdesc:a1fe5356bece2368da36fdd47258d60df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes a resource based on its disposability type and direction.  <br /></td></tr>
<tr class="separator:a1fe5356bece2368da36fdd47258d60df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae49c918d798a101d41caf5dd5e6f7283" id="r_ae49c918d798a101d41caf5dd5e6f7283"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae49c918d798a101d41caf5dd5e6f7283">~BucketGraph</a> ()</td></tr>
<tr class="separator:ae49c918d798a101d41caf5dd5e6f7283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ffbc9d76efacdae82ed10f5b7009348" id="r_a7ffbc9d76efacdae82ed10f5b7009348"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ffbc9d76efacdae82ed10f5b7009348">is_arc_fixed</a> (int from, int to) const noexcept</td></tr>
<tr class="separator:a7ffbc9d76efacdae82ed10f5b7009348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78748283e2afde93c765b113b991d76c" id="r_a78748283e2afde93c765b113b991d76c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78748283e2afde93c765b113b991d76c">is_arc_not_fixed</a> (int from, int to) const noexcept</td></tr>
<tr class="separator:a78748283e2afde93c765b113b991d76c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8abd2e954b1f55ea9d1da79f4df33244" id="r_a8abd2e954b1f55ea9d1da79f4df33244"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8abd2e954b1f55ea9d1da79f4df33244">fix_arc</a> (int from, int to) noexcept</td></tr>
<tr class="separator:a8abd2e954b1f55ea9d1da79f4df33244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78be6c04ca36f1ad7b2e3a594898c335" id="r_a78be6c04ca36f1ad7b2e3a594898c335"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a78be6c04ca36f1ad7b2e3a594898c335"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a78be6c04ca36f1ad7b2e3a594898c335">is_bucket_not_fixed</a> (int from, int to) const noexcept</td></tr>
<tr class="separator:a78be6c04ca36f1ad7b2e3a594898c335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491d87e43d4a6ec6ed9557be1769cd29" id="r_a491d87e43d4a6ec6ed9557be1769cd29"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a491d87e43d4a6ec6ed9557be1769cd29">is_bucket_not_fixed_forward</a> (int from, int to) const noexcept</td></tr>
<tr class="separator:a491d87e43d4a6ec6ed9557be1769cd29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ce1e861b31ed9c05e36aa3f9ab6743" id="r_a90ce1e861b31ed9c05e36aa3f9ab6743"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a90ce1e861b31ed9c05e36aa3f9ab6743">is_bucket_not_fixed_backward</a> (int from, int to) const noexcept</td></tr>
<tr class="separator:a90ce1e861b31ed9c05e36aa3f9ab6743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1272b542e38efd60f4fe2ba7fc01d52" id="r_aa1272b542e38efd60f4fe2ba7fc01d52"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:aa1272b542e38efd60f4fe2ba7fc01d52"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aa1272b542e38efd60f4fe2ba7fc01d52">is_bucket_fixed</a> (int from, int to) const noexcept</td></tr>
<tr class="separator:aa1272b542e38efd60f4fe2ba7fc01d52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3425fb8e2340ddde4be8faefd8656865" id="r_a3425fb8e2340ddde4be8faefd8656865"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3425fb8e2340ddde4be8faefd8656865">define_elementarity_sets</a> ()</td></tr>
<tr class="separator:a3425fb8e2340ddde4be8faefd8656865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd7d40f2575e0465f9960497afbe7f7a" id="r_acd7d40f2575e0465f9960497afbe7f7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd7d40f2575e0465f9960497afbe7f7a">define_packing_sets</a> ()</td></tr>
<tr class="separator:acd7d40f2575e0465f9960497afbe7f7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc0d8ca70e8e41226068e7072e7bcfdb" id="r_abc0d8ca70e8e41226068e7072e7bcfdb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc0d8ca70e8e41226068e7072e7bcfdb">BucketGraph</a> ()=default</td></tr>
<tr class="separator:abc0d8ca70e8e41226068e7072e7bcfdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b033289ff750610032f247e2acda96" id="r_a78b033289ff750610032f247e2acda96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78b033289ff750610032f247e2acda96">BucketGraph</a> (const std::vector&lt; <a class="el" href="structVRPNode.html">VRPNode</a> &gt; &amp;nodes, int horizon, int bucket_interval, int capacity, int capacity_interval)</td></tr>
<tr class="memdesc:a78b033289ff750610032f247e2acda96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> object.  <br /></td></tr>
<tr class="separator:a78b033289ff750610032f247e2acda96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8f484b3e417bf03ae4c991496b8a21f" id="r_ab8f484b3e417bf03ae4c991496b8a21f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8f484b3e417bf03ae4c991496b8a21f">BucketGraph</a> (const std::vector&lt; <a class="el" href="structVRPNode.html">VRPNode</a> &gt; &amp;nodes, int horizon, int bucket_interval)</td></tr>
<tr class="memdesc:ab8f484b3e417bf03ae4c991496b8a21f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> object.  <br /></td></tr>
<tr class="separator:ab8f484b3e417bf03ae4c991496b8a21f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a40f10a7c5be4b1bba90286d2d67efc" id="r_a9a40f10a7c5be4b1bba90286d2d67efc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a40f10a7c5be4b1bba90286d2d67efc">BucketGraph</a> (const std::vector&lt; <a class="el" href="structVRPNode.html">VRPNode</a> &gt; &amp;nodes, std::vector&lt; int &gt; &amp;bounds, std::vector&lt; int &gt; &amp;bucket_intervals)</td></tr>
<tr class="separator:a9a40f10a7c5be4b1bba90286d2d67efc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797cf9af28f113281dde61dfd555bfe2" id="r_a797cf9af28f113281dde61dfd555bfe2"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM = Symmetry::Asymmetric&gt; </td></tr>
<tr class="memitem:a797cf9af28f113281dde61dfd555bfe2"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a797cf9af28f113281dde61dfd555bfe2">solve</a> (bool trigger=false)</td></tr>
<tr class="separator:a797cf9af28f113281dde61dfd555bfe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93d8f84606acfa24f42da6f8f5fd2671" id="r_a93d8f84606acfa24f42da6f8f5fd2671"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93d8f84606acfa24f42da6f8f5fd2671">solveHeuristic</a> ()</td></tr>
<tr class="separator:a93d8f84606acfa24f42da6f8f5fd2671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b934dd825af2c3536269ac190b398b3" id="r_a8b934dd825af2c3536269ac190b398b3"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a8b934dd825af2c3536269ac190b398b3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a8b934dd825af2c3536269ac190b398b3">common_initialization</a> ()</td></tr>
<tr class="memdesc:a8b934dd825af2c3536269ac190b398b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> by clearing previous data and setting up forward and backward buckets.  <br /></td></tr>
<tr class="separator:a8b934dd825af2c3536269ac190b398b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66be852d4827d04e368e208b63f9240" id="r_ae66be852d4827d04e368e208b63f9240"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae66be852d4827d04e368e208b63f9240">common_initialization</a> ()</td></tr>
<tr class="separator:ae66be852d4827d04e368e208b63f9240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26aac5e0b890fae05be807e72fa59826" id="r_a26aac5e0b890fae05be807e72fa59826"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a26aac5e0b890fae05be807e72fa59826">setup</a> ()</td></tr>
<tr class="memdesc:a26aac5e0b890fae05be807e72fa59826"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up the initial configuration for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>.  <br /></td></tr>
<tr class="separator:a26aac5e0b890fae05be807e72fa59826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb38012ec5706ee287302028b28d0d94" id="r_aeb38012ec5706ee287302028b28d0d94"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb38012ec5706ee287302028b28d0d94">print_statistics</a> ()</td></tr>
<tr class="memdesc:aeb38012ec5706ee287302028b28d0d94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the statistics of the bucket graph.  <br /></td></tr>
<tr class="separator:aeb38012ec5706ee287302028b28d0d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78afa4d3e7c6078f874480c68f43caff" id="r_a78afa4d3e7c6078f874480c68f43caff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78afa4d3e7c6078f874480c68f43caff">generate_arcs</a> ()</td></tr>
<tr class="memdesc:a78afa4d3e7c6078f874480c68f43caff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates arcs in both forward and backward directions in parallel.  <br /></td></tr>
<tr class="separator:a78afa4d3e7c6078f874480c68f43caff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6b54fdc1e45c15dce61742706087dac" id="r_af6b54fdc1e45c15dce61742706087dac"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM = Symmetry::Asymmetric&gt; </td></tr>
<tr class="memitem:af6b54fdc1e45c15dce61742706087dac"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#af6b54fdc1e45c15dce61742706087dac">set_adjacency_list</a> ()</td></tr>
<tr class="separator:af6b54fdc1e45c15dce61742706087dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0767e796faf854335073ceb773f288b" id="r_af0767e796faf854335073ceb773f288b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0767e796faf854335073ceb773f288b">set_adjacency_list_manual</a> ()</td></tr>
<tr class="separator:af0767e796faf854335073ceb773f288b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa36fdca6e5bdc9d2f081247808852b34" id="r_aa36fdca6e5bdc9d2f081247808852b34"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa36fdca6e5bdc9d2f081247808852b34">knapsackBound</a> (const <a class="el" href="structLabel.html">Label</a> *l)</td></tr>
<tr class="separator:aa36fdca6e5bdc9d2f081247808852b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d2d975e13b1fdeaafca99aa6fb29486" id="r_a7d2d975e13b1fdeaafca99aa6fb29486"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </td></tr>
<tr class="memitem:a7d2d975e13b1fdeaafca99aa6fb29486"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structLabel.html">Label</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a7d2d975e13b1fdeaafca99aa6fb29486">compute_label</a> (const <a class="el" href="structLabel.html">Label</a> *L, const <a class="el" href="structLabel.html">Label</a> *L_prime, double cost=0.0)</td></tr>
<tr class="separator:a7d2d975e13b1fdeaafca99aa6fb29486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe2a770a9a76c478a2a0c300ff6fd86d" id="r_abe2a770a9a76c478a2a0c300ff6fd86d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe2a770a9a76c478a2a0c300ff6fd86d">BucketSetContains</a> (const std::set&lt; int &gt; &amp;bucket_set, const int &amp;bucket)</td></tr>
<tr class="separator:abe2a770a9a76c478a2a0c300ff6fd86d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8315694fc17b928dfa937aba8d8d0f4b" id="r_a8315694fc17b928dfa937aba8d8d0f4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8315694fc17b928dfa937aba8d8d0f4b">setSplit</a> (const std::vector&lt; double &gt; <a class="el" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>)</td></tr>
<tr class="separator:a8315694fc17b928dfa937aba8d8d0f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d5f2f83ae5e3849e002e335b749f59f" id="r_a9d5f2f83ae5e3849e002e335b749f59f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d5f2f83ae5e3849e002e335b749f59f">getStage</a> () const</td></tr>
<tr class="separator:a9d5f2f83ae5e3849e002e335b749f59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba744326ee9d94a097b5a60775c5822a" id="r_aba744326ee9d94a097b5a60775c5822a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70b">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba744326ee9d94a097b5a60775c5822a">getStatus</a> () const</td></tr>
<tr class="separator:aba744326ee9d94a097b5a60775c5822a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ef36ef1f1276342c17231dc693f95b" id="r_ab6ef36ef1f1276342c17231dc693f95b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6ef36ef1f1276342c17231dc693f95b">forbidCycle</a> (const std::vector&lt; int &gt; &amp;cycle, bool aggressive)</td></tr>
<tr class="separator:ab6ef36ef1f1276342c17231dc693f95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044362566d724349a2c40edfa1ea10f9" id="r_a044362566d724349a2c40edfa1ea10f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a044362566d724349a2c40edfa1ea10f9">augment_ng_memories</a> (std::vector&lt; double &gt; &amp;solution, std::vector&lt; <a class="el" href="structPath.html">Path</a> &gt; &amp;paths, bool aggressive, int eta1, int eta2, int eta_max, int nC)</td></tr>
<tr class="separator:a044362566d724349a2c40edfa1ea10f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad15267e0cffaa8dc5222028409c9e082" id="r_ad15267e0cffaa8dc5222028409c9e082"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a> (int i, int j) const</td></tr>
<tr class="separator:ad15267e0cffaa8dc5222028409c9e082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3160d6080b72e85c61734d1fe59427" id="r_add3160d6080b72e85c61734d1fe59427"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#add3160d6080b72e85c61734d1fe59427">calculate_neighborhoods</a> (size_t num_closest)</td></tr>
<tr class="separator:add3160d6080b72e85c61734d1fe59427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32da6366cb0593f095b3e74c5dd545e9" id="r_a32da6366cb0593f095b3e74c5dd545e9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structVRPNode.html">VRPNode</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a32da6366cb0593f095b3e74c5dd545e9">getNodes</a> () const</td></tr>
<tr class="separator:a32da6366cb0593f095b3e74c5dd545e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9eea9800ea6652e736b960a729f2c14" id="r_aa9eea9800ea6652e736b960a729f2c14"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9eea9800ea6652e736b960a729f2c14">computePhi</a> (int &amp;bucket, bool fw)</td></tr>
<tr class="separator:aa9eea9800ea6652e736b960a729f2c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66484f0fb3c999584f77880b3dd54f7c" id="r_a66484f0fb3c999584f77880b3dd54f7c"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> state, <a class="el" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0">Full</a> fullness&gt; </td></tr>
<tr class="memitem:a66484f0fb3c999584f77880b3dd54f7c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a66484f0fb3c999584f77880b3dd54f7c">run_labeling_algorithms</a> (std::vector&lt; double &gt; &amp;forward_cbar, std::vector&lt; double &gt; &amp;backward_cbar)</td></tr>
<tr class="memdesc:a66484f0fb3c999584f77880b3dd54f7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs forward and backward labeling algorithms in parallel and synchronizes the results.  <br /></td></tr>
<tr class="separator:a66484f0fb3c999584f77880b3dd54f7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adea4cf77fe1775dac8bb3aa80b4c0dd4" id="r_adea4cf77fe1775dac8bb3aa80b4c0dd4"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </td></tr>
<tr class="memitem:adea4cf77fe1775dac8bb3aa80b4c0dd4"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#adea4cf77fe1775dac8bb3aa80b4c0dd4">bucket_fixing</a> ()</td></tr>
<tr class="memdesc:adea4cf77fe1775dac8bb3aa80b4c0dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixes the bucket arcs for the specified stage.  <br /></td></tr>
<tr class="separator:adea4cf77fe1775dac8bb3aa80b4c0dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06036b30388d0f91c677340bff2c6b6a" id="r_a06036b30388d0f91c677340bff2c6b6a"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </td></tr>
<tr class="memitem:a06036b30388d0f91c677340bff2c6b6a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a06036b30388d0f91c677340bff2c6b6a">heuristic_fixing</a> ()</td></tr>
<tr class="memdesc:a06036b30388d0f91c677340bff2c6b6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies heuristic fixing to the current solution.  <br /></td></tr>
<tr class="separator:a06036b30388d0f91c677340bff2c6b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70676504af16413f5587e87c4f1f3427" id="r_a70676504af16413f5587e87c4f1f3427"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70676504af16413f5587e87c4f1f3427">redefine</a> (int bucketInterval)</td></tr>
<tr class="memdesc:a70676504af16413f5587e87c4f1f3427"><td class="mdescLeft">&#160;</td><td class="mdescRight">Redefines the bucket intervals and reinitializes various data structures.  <br /></td></tr>
<tr class="separator:a70676504af16413f5587e87c4f1f3427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c624bb43ab269d05e8cf6d97386bbe6" id="r_a0c624bb43ab269d05e8cf6d97386bbe6"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a0c624bb43ab269d05e8cf6d97386bbe6"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a0c624bb43ab269d05e8cf6d97386bbe6">split_buckets</a> ()</td></tr>
<tr class="separator:a0c624bb43ab269d05e8cf6d97386bbe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e1492bb1589d5edb06e80a753d000dd" id="r_a3e1492bb1589d5edb06e80a753d000dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e1492bb1589d5edb06e80a753d000dd">reset_pool</a> ()</td></tr>
<tr class="memdesc:a3e1492bb1589d5edb06e80a753d000dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the forward and backward label pools.  <br /></td></tr>
<tr class="separator:a3e1492bb1589d5edb06e80a753d000dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a227e25383480be62479becdf9f8f778a" id="r_a227e25383480be62479becdf9f8f778a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a227e25383480be62479becdf9f8f778a">setDuals</a> (const std::vector&lt; double &gt; &amp;duals)</td></tr>
<tr class="memdesc:a227e25383480be62479becdf9f8f778a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the dual values for the nodes.  <br /></td></tr>
<tr class="separator:a227e25383480be62479becdf9f8f778a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7327dc5d51a2133df91e17da212625e" id="r_ad7327dc5d51a2133df91e17da212625e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7327dc5d51a2133df91e17da212625e">set_distance_matrix</a> (const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;distanceMatrix, int n_ng=8)</td></tr>
<tr class="memdesc:ad7327dc5d51a2133df91e17da212625e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the distance matrix and calculates neighborhoods.  <br /></td></tr>
<tr class="separator:ad7327dc5d51a2133df91e17da212625e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2379392ccc37be9a4a27800b116465d2" id="r_a2379392ccc37be9a4a27800b116465d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2379392ccc37be9a4a27800b116465d2">reset_fixed</a> ()</td></tr>
<tr class="memdesc:a2379392ccc37be9a4a27800b116465d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all fixed arcs in the graph.  <br /></td></tr>
<tr class="separator:a2379392ccc37be9a4a27800b116465d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b278d6d639910a628446a2be038d41e" id="r_a2b278d6d639910a628446a2be038d41e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b278d6d639910a628446a2be038d41e">reset_fixed_buckets</a> ()</td></tr>
<tr class="separator:a2b278d6d639910a628446a2be038d41e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a858b68317a9a0a60723698509d78d575" id="r_a858b68317a9a0a60723698509d78d575"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a858b68317a9a0a60723698509d78d575">check_feasibility</a> (const <a class="el" href="structLabel.html">Label</a> *fw_label, const <a class="el" href="structLabel.html">Label</a> *bw_label)</td></tr>
<tr class="memdesc:a858b68317a9a0a60723698509d78d575"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks the feasibility of a given forward and backward label.  <br /></td></tr>
<tr class="separator:a858b68317a9a0a60723698509d78d575"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4af3d0a5cb4eefd400b213d93e86fe82" id="r_a4af3d0a5cb4eefd400b213d93e86fe82"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4af3d0a5cb4eefd400b213d93e86fe82">updateSplit</a> ()</td></tr>
<tr class="separator:a4af3d0a5cb4eefd400b213d93e86fe82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8cd0fdce60f818ea1f0455d0048a981" id="r_ae8cd0fdce60f818ea1f0455d0048a981"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8cd0fdce60f818ea1f0455d0048a981">updateStepSize</a> ()</td></tr>
<tr class="separator:ae8cd0fdce60f818ea1f0455d0048a981"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e016ec947d0a75ffa73ceab03207d7" id="r_a42e016ec947d0a75ffa73ceab03207d7"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a42e016ec947d0a75ffa73ceab03207d7"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a42e016ec947d0a75ffa73ceab03207d7">add_arc</a> (int from_bucket, int to_bucket, const std::vector&lt; double &gt; &amp;res_inc, double cost_inc)</td></tr>
<tr class="memdesc:a42e016ec947d0a75ffa73ceab03207d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a bucket in the <a class="el" href="structBucket.html" title="Represents a bucket.">Bucket</a> Graph. Adds an arc to the bucket graph.  <br /></td></tr>
<tr class="separator:a42e016ec947d0a75ffa73ceab03207d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07a40f85014b0f13739e20d5d6dc547b" id="r_a07a40f85014b0f13739e20d5d6dc547b"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a07a40f85014b0f13739e20d5d6dc547b"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a07a40f85014b0f13739e20d5d6dc547b">generate_arcs</a> ()</td></tr>
<tr class="memdesc:a07a40f85014b0f13739e20d5d6dc547b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates arcs in the bucket graph based on the specified direction.  <br /></td></tr>
<tr class="separator:a07a40f85014b0f13739e20d5d6dc547b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2925857b35aa31c3c5af4a2795840b98" id="r_a2925857b35aa31c3c5af4a2795840b98"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a2925857b35aa31c3c5af4a2795840b98"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2925857b35aa31c3c5af4a2795840b98">SCC_handler</a> ()</td></tr>
<tr class="memdesc:a2925857b35aa31c3c5af4a2795840b98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles the computation of Strongly Connected Components (SCCs) for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>.  <br /></td></tr>
<tr class="separator:a2925857b35aa31c3c5af4a2795840b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05e883574a58a277e1dbf8cfcdcde11" id="r_aa05e883574a58a277e1dbf8cfcdcde11"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S, <a class="el" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0">Full</a> F&gt; </td></tr>
<tr class="memitem:aa05e883574a58a277e1dbf8cfcdcde11"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aa05e883574a58a277e1dbf8cfcdcde11">labeling_algorithm</a> ()</td></tr>
<tr class="separator:aa05e883574a58a277e1dbf8cfcdcde11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb791c45d27a9425607480e3101f7d28" id="r_abb791c45d27a9425607480e3101f7d28"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:abb791c45d27a9425607480e3101f7d28"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#abb791c45d27a9425607480e3101f7d28">get_bucket_number</a> (int node, std::vector&lt; double &gt; &amp;values) noexcept</td></tr>
<tr class="separator:abb791c45d27a9425607480e3101f7d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af122bd2a719b0557ff2371addf5aa448" id="r_af122bd2a719b0557ff2371addf5aa448"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:af122bd2a719b0557ff2371addf5aa448"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#af122bd2a719b0557ff2371addf5aa448">get_static_bucket_number</a> (int node, std::vector&lt; double &gt; &amp;resource_values_vec) noexcept</td></tr>
<tr class="separator:af122bd2a719b0557ff2371addf5aa448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc324fb45e794482eb642adb8b0f664d" id="r_abc324fb45e794482eb642adb8b0f664d"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:abc324fb45e794482eb642adb8b0f664d"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structLabel.html">Label</a> *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#abc324fb45e794482eb642adb8b0f664d">get_best_label</a> (const std::vector&lt; int &gt; &amp;topological_order, const std::vector&lt; double &gt; &amp;c_bar, const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;sccs)</td></tr>
<tr class="memdesc:abc324fb45e794482eb642adb8b0f664d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the best label from the bucket graph based on the given topological order, c_bar values, and strongly connected components.  <br /></td></tr>
<tr class="separator:abc324fb45e794482eb642adb8b0f664d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d04c8a2da52796e87c1b443aa221a76" id="r_a5d04c8a2da52796e87c1b443aa221a76"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a5d04c8a2da52796e87c1b443aa221a76"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a5d04c8a2da52796e87c1b443aa221a76">define_buckets</a> ()</td></tr>
<tr class="memdesc:a5d04c8a2da52796e87c1b443aa221a76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the buckets for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>.  <br /></td></tr>
<tr class="separator:a5d04c8a2da52796e87c1b443aa221a76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8349140e5144647cfc32a12c9834a16f" id="r_a8349140e5144647cfc32a12c9834a16f"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </td></tr>
<tr class="memitem:a8349140e5144647cfc32a12c9834a16f"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a8349140e5144647cfc32a12c9834a16f">DominatedInCompWiseSmallerBuckets</a> (const <a class="el" href="structLabel.html">Label</a> *L, int bucket, const std::vector&lt; double &gt; &amp;c_bar, std::vector&lt; uint64_t &gt; &amp;Bvisited, uint &amp;stat_n_dom) noexcept</td></tr>
<tr class="separator:a8349140e5144647cfc32a12c9834a16f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36d91be18f5093577ee00a38ceb771e" id="r_ac36d91be18f5093577ee00a38ceb771e"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S, <a class="el" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9d">ArcType</a> A, <a class="el" href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179d">Mutability</a> M, <a class="el" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0">Full</a> F&gt; </td></tr>
<tr class="memitem:ac36d91be18f5093577ee00a38ceb771e"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ac36d91be18f5093577ee00a38ceb771e">Extend</a> (const std::conditional_t&lt; M==<a class="el" href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179daebb87a770abac0e394d963d20ed574b7">Mutability::Mut</a>, <a class="el" href="structLabel.html">Label</a> *, const <a class="el" href="structLabel.html">Label</a> * &gt; L_prime, const std::conditional_t&lt; A==<a class="el" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">ArcType::Bucket</a>, <a class="el" href="structBucketArc.html">BucketArc</a>, std::conditional_t&lt; A==<a class="el" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da101f693f72287a2819a364f64ca1c0ed">ArcType::Jump</a>, <a class="el" href="structJumpArc.html">JumpArc</a>, <a class="el" href="structArc.html">Arc</a> &gt; &gt; &amp;gamma, int <a class="el" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a>=0) noexcept</td></tr>
<tr class="separator:ac36d91be18f5093577ee00a38ceb771e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a469baec04539f3c8ae984f5558fbfc25" id="r_a469baec04539f3c8ae984f5558fbfc25"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </td></tr>
<tr class="memitem:a469baec04539f3c8ae984f5558fbfc25"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated</a> (const <a class="el" href="structLabel.html">Label</a> *new_label, const <a class="el" href="structLabel.html">Label</a> *labels) noexcept</td></tr>
<tr class="separator:a469baec04539f3c8ae984f5558fbfc25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8153a13e14a6233434a3f7ef3230f8b8" id="r_a8153a13e14a6233434a3f7ef3230f8b8"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S, <a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM = Symmetry::Asymmetric&gt; </td></tr>
<tr class="memitem:a8153a13e14a6233434a3f7ef3230f8b8"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a8153a13e14a6233434a3f7ef3230f8b8">bi_labeling_algorithm</a> ()</td></tr>
<tr class="separator:a8153a13e14a6233434a3f7ef3230f8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1546f6d1eec5a80afaed3be7ccda0d4a" id="r_a1546f6d1eec5a80afaed3be7ccda0d4a"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S, <a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM = Symmetry::Asymmetric&gt; </td></tr>
<tr class="memitem:a1546f6d1eec5a80afaed3be7ccda0d4a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a1546f6d1eec5a80afaed3be7ccda0d4a">ConcatenateLabel</a> (const <a class="el" href="structLabel.html">Label</a> *L, int &amp;b, std::atomic&lt; double &gt; &amp;best_cost)</td></tr>
<tr class="separator:a1546f6d1eec5a80afaed3be7ccda0d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394e55293111f386caf44ed9e67c5653" id="r_a394e55293111f386caf44ed9e67c5653"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a394e55293111f386caf44ed9e67c5653"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a394e55293111f386caf44ed9e67c5653">UpdateBucketsSet</a> (double theta, const <a class="el" href="structLabel.html">Label</a> *label, ankerl::unordered_dense::set&lt; int &gt; &amp;Bbidi, int &amp;current_bucket, std::vector&lt; uint64_t &gt; &amp;Bvisited)</td></tr>
<tr class="separator:a394e55293111f386caf44ed9e67c5653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84a8345b541e0e44e44e6215a9cdc779" id="r_a84a8345b541e0e44e44e6215a9cdc779"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a84a8345b541e0e44e44e6215a9cdc779"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a84a8345b541e0e44e44e6215a9cdc779">ObtainJumpBucketArcs</a> ()</td></tr>
<tr class="memdesc:a84a8345b541e0e44e44e6215a9cdc779"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtains jump bucket arcs for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>.  <br /></td></tr>
<tr class="separator:a84a8345b541e0e44e44e6215a9cdc779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395e609a3dcdb495e2a43da1742af7bd" id="r_a395e609a3dcdb495e2a43da1742af7bd"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a395e609a3dcdb495e2a43da1742af7bd"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a395e609a3dcdb495e2a43da1742af7bd">BucketArcElimination</a> (double theta)</td></tr>
<tr class="memdesc:a395e609a3dcdb495e2a43da1742af7bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eliminates bucket arcs based on a given threshold.  <br /></td></tr>
<tr class="separator:a395e609a3dcdb495e2a43da1742af7bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07082dcbaab12cbea07fbe16acee9bcf" id="r_a07082dcbaab12cbea07fbe16acee9bcf"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a07082dcbaab12cbea07fbe16acee9bcf"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a07082dcbaab12cbea07fbe16acee9bcf">get_opposite_bucket_number</a> (int current_bucket_index, std::vector&lt; double &gt; &amp;inc)</td></tr>
<tr class="memdesc:a07082dcbaab12cbea07fbe16acee9bcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the opposite bucket number for a given bucket index.  <br /></td></tr>
<tr class="separator:a07082dcbaab12cbea07fbe16acee9bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56e6edbfed53fe1c67d25c1392806ef6" id="r_a56e6edbfed53fe1c67d25c1392806ef6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a56e6edbfed53fe1c67d25c1392806ef6">update_neighborhoods</a> (const std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt; &amp;conflicts)</td></tr>
<tr class="separator:a56e6edbfed53fe1c67d25c1392806ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47765e452c071946b8669f7ee4e231d4" id="r_a47765e452c071946b8669f7ee4e231d4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47765e452c071946b8669f7ee4e231d4">is_in_neighborhood</a> (size_t i, size_t j) const</td></tr>
<tr class="separator:a47765e452c071946b8669f7ee4e231d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969616f31655bd99cbb35c1c863d1ef4" id="r_a969616f31655bd99cbb35c1c863d1ef4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a969616f31655bd99cbb35c1c863d1ef4">get_neighborhood_size</a> (size_t i) const</td></tr>
<tr class="separator:a969616f31655bd99cbb35c1c863d1ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4221aa973f92048f0518fd307f7e4ad0" id="r_a4221aa973f92048f0518fd307f7e4ad0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4221aa973f92048f0518fd307f7e4ad0">get_neighbors</a> (size_t i) const</td></tr>
<tr class="separator:a4221aa973f92048f0518fd307f7e4ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae34637b32022ced2fdbf4ba8a742ffd2" id="r_ae34637b32022ced2fdbf4ba8a742ffd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae34637b32022ced2fdbf4ba8a742ffd2">set_deleted_arcs</a> (const std::vector&lt; std::pair&lt; int, int &gt; &gt; &amp;arcs)</td></tr>
<tr class="separator:ae34637b32022ced2fdbf4ba8a742ffd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e3715398269e849bd2172508ef57245" id="r_a3e3715398269e849bd2172508ef57245"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e3715398269e849bd2172508ef57245">extend_path</a> (const std::vector&lt; int &gt; &amp;path, std::vector&lt; double &gt; &amp;resources)</td></tr>
<tr class="separator:a3e3715398269e849bd2172508ef57245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820c42b7e4fbfb599cdde7550ba3a12e" id="r_a820c42b7e4fbfb599cdde7550ba3a12e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLabel.html">Label</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a820c42b7e4fbfb599cdde7550ba3a12e">compute_red_cost</a> (<a class="el" href="structLabel.html">Label</a> *L, bool fw)</td></tr>
<tr class="separator:a820c42b7e4fbfb599cdde7550ba3a12e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7738ed00c7b51fb6787762b6b47133e" id="r_ab7738ed00c7b51fb6787762b6b47133e"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </td></tr>
<tr class="memitem:ab7738ed00c7b51fb6787762b6b47133e"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="#a936c0260cd027c71e69c8f8003a45f30">AdjList</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ab7738ed00c7b51fb6787762b6b47133e">get_adjacency_list</a> ()</td></tr>
<tr class="separator:ab7738ed00c7b51fb6787762b6b47133e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ff45fbe7a6e92146a45656dd63c20b" id="r_a58ff45fbe7a6e92146a45656dd63c20b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a58ff45fbe7a6e92146a45656dd63c20b">shallUpdateStep</a> ()</td></tr>
<tr class="separator:a58ff45fbe7a6e92146a45656dd63c20b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81eab196dbca0caf987ff14899abe843" id="r_a81eab196dbca0caf987ff14899abe843"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </td></tr>
<tr class="memitem:a81eab196dbca0caf987ff14899abe843"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a81eab196dbca0caf987ff14899abe843">define_buckets</a> (const int fixed_num_buckets)</td></tr>
<tr class="separator:a81eab196dbca0caf987ff14899abe843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae73a46d652283690ebe471cec4fef2e2" id="r_ae73a46d652283690ebe471cec4fef2e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae73a46d652283690ebe471cec4fef2e2">prune_ng_cycles</a> (int max_age, int min_usage, int current_iteration)</td></tr>
<tr class="separator:ae73a46d652283690ebe471cec4fef2e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25d9320c73e809c5d3f57c86d7b50727" id="r_a25d9320c73e809c5d3f57c86d7b50727"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </td></tr>
<tr class="memitem:a25d9320c73e809c5d3f57c86d7b50727"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a25d9320c73e809c5d3f57c86d7b50727">is_dominated</a> (const <a class="el" href="structLabel.html">Label</a> *__restrict new_label, const <a class="el" href="structLabel.html">Label</a> *__restrict label) noexcept</td></tr>
<tr class="memdesc:a25d9320c73e809c5d3f57c86d7b50727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a label is dominated by a new label based on cost and resource conditions.  <br /></td></tr>
<tr class="separator:a25d9320c73e809c5d3f57c86d7b50727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99cf37f55610682c8bc8c3d1a9e05d83" id="r_a99cf37f55610682c8bc8c3d1a9e05d83"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </td></tr>
<tr class="memitem:a99cf37f55610682c8bc8c3d1a9e05d83"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a99cf37f55610682c8bc8c3d1a9e05d83">DominatedInCompWiseSmallerBuckets</a> (const <a class="el" href="structLabel.html">Label</a> *__restrict__ L, int bucket, const std::vector&lt; double &gt; &amp;__restrict__ c_bar, std::vector&lt; uint64_t &gt; &amp;__restrict__ Bvisited, uint &amp;stat_n_dom) noexcept</td></tr>
<tr class="memdesc:a99cf37f55610682c8bc8c3d1a9e05d83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines if a label is dominated in component-wise smaller buckets.  <br /></td></tr>
<tr class="separator:a99cf37f55610682c8bc8c3d1a9e05d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a2394876fca68fed0a417eba0e73711e4" id="r_a2394876fca68fed0a417eba0e73711e4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2394876fca68fed0a417eba0e73711e4">initInfo</a> ()</td></tr>
<tr class="memdesc:a2394876fca68fed0a417eba0e73711e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints the configuration information of the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>.  <br /></td></tr>
<tr class="separator:a2394876fca68fed0a417eba0e73711e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac3c165dfb9837288ad63ac34ad91041" id="r_aac3c165dfb9837288ad63ac34ad91041"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac3c165dfb9837288ad63ac34ad91041">is_node_visited</a> (const std::array&lt; uint64_t, <a class="el" href="Definitions_8h.html#a38c168723ff0872970a49c6ee54e9bf7">num_words</a> &gt; &amp;bitmap, int node_id)</td></tr>
<tr class="memdesc:aac3c165dfb9837288ad63ac34ad91041"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a node has been visited based on a bitmap.  <br /></td></tr>
<tr class="separator:aac3c165dfb9837288ad63ac34ad91041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36a543a58c7d3cd4ded313dd5069f03" id="r_ad36a543a58c7d3cd4ded313dd5069f03"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad36a543a58c7d3cd4ded313dd5069f03">set_node_visited</a> (std::array&lt; uint64_t, <a class="el" href="Definitions_8h.html#a38c168723ff0872970a49c6ee54e9bf7">num_words</a> &gt; &amp;bitmap, int node_id)</td></tr>
<tr class="memdesc:ad36a543a58c7d3cd4ded313dd5069f03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks a node as visited in the bitmap.  <br /></td></tr>
<tr class="separator:ad36a543a58c7d3cd4ded313dd5069f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf61c428e5b1b74655d8b6762a6f4612" id="r_adf61c428e5b1b74655d8b6762a6f4612"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf61c428e5b1b74655d8b6762a6f4612">is_node_unreachable</a> (const std::array&lt; uint64_t, <a class="el" href="Definitions_8h.html#a38c168723ff0872970a49c6ee54e9bf7">num_words</a> &gt; &amp;bitmap, int node_id)</td></tr>
<tr class="memdesc:adf61c428e5b1b74655d8b6762a6f4612"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a node is unreachable based on a bitmap.  <br /></td></tr>
<tr class="separator:adf61c428e5b1b74655d8b6762a6f4612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb7b845b8a4d452a0ac15daad1df3927" id="r_acb7b845b8a4d452a0ac15daad1df3927"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb7b845b8a4d452a0ac15daad1df3927">set_node_unreachable</a> (std::array&lt; uint64_t, <a class="el" href="Definitions_8h.html#a38c168723ff0872970a49c6ee54e9bf7">num_words</a> &gt; &amp;bitmap, int node_id)</td></tr>
<tr class="memdesc:acb7b845b8a4d452a0ac15daad1df3927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Marks a node as unreachable in the given bitmap.  <br /></td></tr>
<tr class="separator:acb7b845b8a4d452a0ac15daad1df3927"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afa087af81831da7d55a3a5e017b257e3" id="r_afa087af81831da7d55a3a5e017b257e3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa087af81831da7d55a3a5e017b257e3">threshold</a> = -1.5</td></tr>
<tr class="separator:afa087af81831da7d55a3a5e017b257e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb8cdfcc1c2c900494c2a18aa5feb75" id="r_aabb8cdfcc1c2c900494c2a18aa5feb75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a> = 0</td></tr>
<tr class="separator:aabb8cdfcc1c2c900494c2a18aa5feb75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecdf486636f66e32e261b0ff146da36d" id="r_aecdf486636f66e32e261b0ff146da36d"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aecdf486636f66e32e261b0ff146da36d">merge_mutex</a></td></tr>
<tr class="separator:aecdf486636f66e32e261b0ff146da36d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6eb5a88d38f5316f4fc75853dbd2aa7" id="r_af6eb5a88d38f5316f4fc75853dbd2aa7"><td class="memItemLeft" align="right" valign="top">ankerl::unordered_dense::map&lt; std::pair&lt; int, int &gt;, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6eb5a88d38f5316f4fc75853dbd2aa7">fw_union_cache</a></td></tr>
<tr class="separator:af6eb5a88d38f5316f4fc75853dbd2aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa291b2863abe14e56b7645adb19c6894" id="r_aa291b2863abe14e56b7645adb19c6894"><td class="memItemLeft" align="right" valign="top">ankerl::unordered_dense::map&lt; std::pair&lt; int, int &gt;, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa291b2863abe14e56b7645adb19c6894">bw_union_cache</a></td></tr>
<tr class="separator:aa291b2863abe14e56b7645adb19c6894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ceea45f7a15a8541dd999e806ffe6d" id="r_a91ceea45f7a15a8541dd999e806ffe6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCostFunction.html">CostFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91ceea45f7a15a8541dd999e806ffe6d">cost_calculator</a></td></tr>
<tr class="separator:a91ceea45f7a15a8541dd999e806ffe6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96867ed156fc94da9d29ec576a42a071" id="r_a96867ed156fc94da9d29ec576a42a071"><td class="memItemLeft" align="right" valign="top">std::vector&lt; ankerl::unordered_dense::map&lt; <a class="el" href="structArc.html">Arc</a>, int, <a class="el" href="structarc__hash.html">arc_hash</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96867ed156fc94da9d29ec576a42a071">fw_arc_scores</a></td></tr>
<tr class="separator:a96867ed156fc94da9d29ec576a42a071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb88d24b16f8a7b9a4a6d2ec300f6d2" id="r_abeb88d24b16f8a7b9a4a6d2ec300f6d2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; ankerl::unordered_dense::map&lt; <a class="el" href="structArc.html">Arc</a>, int, <a class="el" href="structarc__hash.html">arc_hash</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abeb88d24b16f8a7b9a4a6d2ec300f6d2">bw_arc_scores</a></td></tr>
<tr class="separator:abeb88d24b16f8a7b9a4a6d2ec300f6d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a596938fef84ae5ab9d07c64bd98515f1" id="r_a596938fef84ae5ab9d07c64bd98515f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBucketOptions.html">BucketOptions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a></td></tr>
<tr class="separator:a596938fef84ae5ab9d07c64bd98515f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e35d250720ad2ec3210ea0cbedf7e8" id="r_a13e35d250720ad2ec3210ea0cbedf7e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13e35d250720ad2ec3210ea0cbedf7e8">just_fixed</a> = false</td></tr>
<tr class="separator:a13e35d250720ad2ec3210ea0cbedf7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38bf6e63a45004dba3e06846ea151983" id="r_a38bf6e63a45004dba3e06846ea151983"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#afe491ade830c057e9508df46cc5bf33a">BranchingDualsPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38bf6e63a45004dba3e06846ea151983">branching_duals</a> = std::make_shared&lt;<a class="el" href="classBranchingDuals.html">BranchingDuals</a>&gt;()</td></tr>
<tr class="separator:a38bf6e63a45004dba3e06846ea151983"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77cc1fc155ee1234301d754b1e32d1f1" id="r_a77cc1fc155ee1234301d754b1e32d1f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPSTEPDuals.html">PSTEPDuals</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77cc1fc155ee1234301d754b1e32d1f1">pstep_duals</a></td></tr>
<tr class="separator:a77cc1fc155ee1234301d754b1e32d1f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f440cfa11c57bba08c108e7caa048e" id="r_a94f440cfa11c57bba08c108e7caa048e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classArcList.html">ArcList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94f440cfa11c57bba08c108e7caa048e">manual_arcs</a></td></tr>
<tr class="separator:a94f440cfa11c57bba08c108e7caa048e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e8b5cdc1f1ddb1fe7cd748a0140b746" id="r_a2e8b5cdc1f1ddb1fe7cd748a0140b746"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e8b5cdc1f1ddb1fe7cd748a0140b746">s1</a> = true</td></tr>
<tr class="separator:a2e8b5cdc1f1ddb1fe7cd748a0140b746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28aa57cbb7d8802e78a4bc71850f4a87" id="r_a28aa57cbb7d8802e78a4bc71850f4a87"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a28aa57cbb7d8802e78a4bc71850f4a87">s2</a> = false</td></tr>
<tr class="separator:a28aa57cbb7d8802e78a4bc71850f4a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b166597f82abf21bbe2a51e8f21378" id="r_a30b166597f82abf21bbe2a51e8f21378"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30b166597f82abf21bbe2a51e8f21378">s3</a> = false</td></tr>
<tr class="separator:a30b166597f82abf21bbe2a51e8f21378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5d9485bc083081dca81bea86b92d37b" id="r_ad5d9485bc083081dca81bea86b92d37b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5d9485bc083081dca81bea86b92d37b">s4</a> = false</td></tr>
<tr class="separator:ad5d9485bc083081dca81bea86b92d37b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d3e4e82d8213ad4ba5308099342fd5" id="r_ae9d3e4e82d8213ad4ba5308099342fd5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae9d3e4e82d8213ad4ba5308099342fd5">s5</a> = false</td></tr>
<tr class="separator:ae9d3e4e82d8213ad4ba5308099342fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb517bce7adfe964278c41d48b8140a" id="r_a6cb517bce7adfe964278c41d48b8140a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cb517bce7adfe964278c41d48b8140a">ss</a> = false</td></tr>
<tr class="separator:a6cb517bce7adfe964278c41d48b8140a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9f682a4f77f436707be4b3726009ef8" id="r_ac9f682a4f77f436707be4b3726009ef8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9f682a4f77f436707be4b3726009ef8">stage</a> = 1</td></tr>
<tr class="separator:ac9f682a4f77f436707be4b3726009ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78ac6a82cd695de4548fa6af05ee4d0c" id="r_a78ac6a82cd695de4548fa6af05ee4d0c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a></td></tr>
<tr class="separator:a78ac6a82cd695de4548fa6af05ee4d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511741ab0c14b1b03ae517f954a3260b" id="r_a511741ab0c14b1b03ae517f954a3260b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a511741ab0c14b1b03ae517f954a3260b">iter</a> = 0</td></tr>
<tr class="separator:a511741ab0c14b1b03ae517f954a3260b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5f44a67587b3c2ff92903e0a824a233" id="r_aa5f44a67587b3c2ff92903e0a824a233"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa5f44a67587b3c2ff92903e0a824a233">transition</a> = false</td></tr>
<tr class="separator:aa5f44a67587b3c2ff92903e0a824a233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5929b489cdfe15a32c1e72e1e09f461b" id="r_a5929b489cdfe15a32c1e72e1e09f461b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70b">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a> = <a class="el" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba9acf053269da0d635abfb5d3c5359e8c">Status::NotOptimal</a></td></tr>
<tr class="separator:a5929b489cdfe15a32c1e72e1e09f461b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcf04cf7b8f393823e99dd7dbd1d5b2" id="r_a8bcf04cf7b8f393823e99dd7dbd1d5b2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8bcf04cf7b8f393823e99dd7dbd1d5b2">merged_labels_rih</a></td></tr>
<tr class="separator:a8bcf04cf7b8f393823e99dd7dbd1d5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99844125e9fa656e291a8f71ecc659f6" id="r_a99844125e9fa656e291a8f71ecc659f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99844125e9fa656e291a8f71ecc659f6">A_MAX</a> = N_SIZE</td></tr>
<tr class="separator:a99844125e9fa656e291a8f71ecc659f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1819bbff013d7997c46507619adb3d37" id="r_a1819bbff013d7997c46507619adb3d37"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1819bbff013d7997c46507619adb3d37">mtx</a></td></tr>
<tr class="separator:a1819bbff013d7997c46507619adb3d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4542d7fc2a7a659eec479e10d172fb73" id="r_a4542d7fc2a7a659eec479e10d172fb73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4542d7fc2a7a659eec479e10d172fb73">redefine_counter</a> = 0</td></tr>
<tr class="separator:a4542d7fc2a7a659eec479e10d172fb73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fdba8d38fd26043068b252223e8d73c" id="r_a2fdba8d38fd26043068b252223e8d73c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> = 0</td></tr>
<tr class="separator:a2fdba8d38fd26043068b252223e8d73c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8dc0767eff3e486b381aa65e0fd9a14" id="r_aa8dc0767eff3e486b381aa65e0fd9a14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classIteratedLocalSearch.html">IteratedLocalSearch</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8dc0767eff3e486b381aa65e0fd9a14">ils</a> = nullptr</td></tr>
<tr class="separator:aa8dc0767eff3e486b381aa65e0fd9a14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23934021718bd2ee544b29228fde708c" id="r_a23934021718bd2ee544b29228fde708c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> = -std::numeric_limits&lt;double&gt;::infinity()</td></tr>
<tr class="separator:a23934021718bd2ee544b29228fde708c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf4e37b839073ff25d96f21d597241c" id="r_accf4e37b839073ff25d96f21d597241c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#accf4e37b839073ff25d96f21d597241c">fw_ordered_sccs</a></td></tr>
<tr class="separator:accf4e37b839073ff25d96f21d597241c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc984d67eb18784f890ad2965cceecf0" id="r_acc984d67eb18784f890ad2965cceecf0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc984d67eb18784f890ad2965cceecf0">bw_ordered_sccs</a></td></tr>
<tr class="separator:acc984d67eb18784f890ad2965cceecf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54765fb92f241628a510eb63571c22a2" id="r_a54765fb92f241628a510eb63571c22a2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a54765fb92f241628a510eb63571c22a2">fw_topological_order</a></td></tr>
<tr class="separator:a54765fb92f241628a510eb63571c22a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c4f4665f8ab274f246fe01d24f51def" id="r_a4c4f4665f8ab274f246fe01d24f51def"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4c4f4665f8ab274f246fe01d24f51def">bw_topological_order</a></td></tr>
<tr class="separator:a4c4f4665f8ab274f246fe01d24f51def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b02edcfecd793303cd6a248e4f88b8f" id="r_a3b02edcfecd793303cd6a248e4f88b8f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b02edcfecd793303cd6a248e4f88b8f">fw_sccs</a></td></tr>
<tr class="separator:a3b02edcfecd793303cd6a248e4f88b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a345b497512a5c4643fdff296ee7cc3" id="r_a6a345b497512a5c4643fdff296ee7cc3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a345b497512a5c4643fdff296ee7cc3">bw_sccs</a></td></tr>
<tr class="separator:a6a345b497512a5c4643fdff296ee7cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac287ad78f9bc8de787196b4abbc88a57" id="r_ac287ad78f9bc8de787196b4abbc88a57"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac287ad78f9bc8de787196b4abbc88a57">fw_sccs_sorted</a></td></tr>
<tr class="separator:ac287ad78f9bc8de787196b4abbc88a57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c94817c07ee10346ec61799e55372b" id="r_a59c94817c07ee10346ec61799e55372b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59c94817c07ee10346ec61799e55372b">bw_sccs_sorted</a></td></tr>
<tr class="separator:a59c94817c07ee10346ec61799e55372b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a3ca20a9a373fbcc502f4511c18804" id="r_a09a3ca20a9a373fbcc502f4511c18804"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09a3ca20a9a373fbcc502f4511c18804">fw_base_intervals</a></td></tr>
<tr class="separator:a09a3ca20a9a373fbcc502f4511c18804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cdcc94e239da03ed454e94f819465e3" id="r_a6cdcc94e239da03ed454e94f819465e3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cdcc94e239da03ed454e94f819465e3">bw_base_intervals</a></td></tr>
<tr class="separator:a6cdcc94e239da03ed454e94f819465e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde574f4709bc762b0548829aa37a766" id="r_acde574f4709bc762b0548829aa37a766"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acde574f4709bc762b0548829aa37a766">incumbent</a> = std::numeric_limits&lt;double&gt;::infinity()</td></tr>
<tr class="separator:acde574f4709bc762b0548829aa37a766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af227da41aee6febd9cb4d2c3ba1d1cc4" id="r_af227da41aee6febd9cb4d2c3ba1d1cc4"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af227da41aee6febd9cb4d2c3ba1d1cc4">relaxation</a> = std::numeric_limits&lt;double&gt;::infinity()</td></tr>
<tr class="separator:af227da41aee6febd9cb4d2c3ba1d1cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0febdc3971ad6124d3c7cf689048bc4e" id="r_a0febdc3971ad6124d3c7cf689048bc4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0febdc3971ad6124d3c7cf689048bc4e">fixed</a> = false</td></tr>
<tr class="separator:a0febdc3971ad6124d3c7cf689048bc4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9c43a78f94648c954974cf849ab29e0" id="r_aa9c43a78f94648c954974cf849ab29e0"><td class="memItemLeft" align="right" valign="top">exec::static_thread_pool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa9c43a78f94648c954974cf849ab29e0">bi_pool</a> = exec::static_thread_pool(2)</td></tr>
<tr class="separator:aa9c43a78f94648c954974cf849ab29e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5092fde50d859a999132f8ec1c2cb8" id="r_aaa5092fde50d859a999132f8ec1c2cb8"><td class="memItemLeft" align="right" valign="top">exec::static_thread_pool::scheduler&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a> = bi_pool.get_scheduler()</td></tr>
<tr class="separator:aaa5092fde50d859a999132f8ec1c2cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afceedc00c849910d5eaf40a2a317d3c3" id="r_afceedc00c849910d5eaf40a2a317d3c3"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afceedc00c849910d5eaf40a2a317d3c3">MERGE_SCHED_CONCURRENCY</a> = std::thread::hardware_concurrency()</td></tr>
<tr class="separator:afceedc00c849910d5eaf40a2a317d3c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdce9b0c713df647b19f33e572ae6ba8" id="r_abdce9b0c713df647b19f33e572ae6ba8"><td class="memItemLeft" align="right" valign="top">exec::static_thread_pool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdce9b0c713df647b19f33e572ae6ba8">merge_pool</a></td></tr>
<tr class="separator:abdce9b0c713df647b19f33e572ae6ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c0da5a04679a6417e07ba50469c8c0c" id="r_a7c0da5a04679a6417e07ba50469c8c0c"><td class="memItemLeft" align="right" valign="top">exec::static_thread_pool::scheduler&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c0da5a04679a6417e07ba50469c8c0c">merge_sched</a></td></tr>
<tr class="separator:a7c0da5a04679a6417e07ba50469c8c0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe1a9250ac9527f6c4d7fc199c356a83" id="r_abe1a9250ac9527f6c4d7fc199c356a83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a> = 0</td></tr>
<tr class="separator:abe1a9250ac9527f6c4d7fc199c356a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24e94d447afd791b52fed701e928d1c2" id="r_a24e94d447afd791b52fed701e928d1c2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a> = 0</td></tr>
<tr class="separator:a24e94d447afd791b52fed701e928d1c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a619c4493e5de7a18f6f947b550025f78" id="r_a619c4493e5de7a18f6f947b550025f78"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a619c4493e5de7a18f6f947b550025f78">fixed_arcs_bitmap</a></td></tr>
<tr class="separator:a619c4493e5de7a18f6f947b550025f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e279c08b248c529a0efec509e8a5a47" id="r_a8e279c08b248c529a0efec509e8a5a47"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e279c08b248c529a0efec509e8a5a47">fw_fixed_buckets_bitmap</a></td></tr>
<tr class="separator:a8e279c08b248c529a0efec509e8a5a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf35ff56b8e466beb5b9699379d84e67" id="r_adf35ff56b8e466beb5b9699379d84e67"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf35ff56b8e466beb5b9699379d84e67">bw_fixed_buckets_bitmap</a></td></tr>
<tr class="separator:adf35ff56b8e466beb5b9699379d84e67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab58eac3d548656acb6b33da0d54b799" id="r_aab58eac3d548656acb6b33da0d54b799"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab58eac3d548656acb6b33da0d54b799">gap</a> = std::numeric_limits&lt;double&gt;::infinity()</td></tr>
<tr class="separator:aab58eac3d548656acb6b33da0d54b799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9142869eb3212337ffb092a14e0e0079" id="r_a9142869eb3212337ffb092a14e0e0079"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCutStorage.html">CutStorage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a> = new <a class="el" href="classCutStorage.html">CutStorage</a>()</td></tr>
<tr class="separator:a9142869eb3212337ffb092a14e0e0079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa10fde8c08eaf20c617537c2192ecd0" id="r_aaa10fde8c08eaf20c617537c2192ecd0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structBucket.html">Bucket</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a></td></tr>
<tr class="separator:aaa10fde8c08eaf20c617537c2192ecd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8496229500db7bd5714010d3c68f6e5d" id="r_a8496229500db7bd5714010d3c68f6e5d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structBucket.html">Bucket</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a></td></tr>
<tr class="separator:a8496229500db7bd5714010d3c68f6e5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122e64987e05917c0fa982a63228d2e6" id="r_a122e64987e05917c0fa982a63228d2e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a8f3e754f9357ca106ac7f610d12039e3">LabelPoolPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a122e64987e05917c0fa982a63228d2e6">label_pool_fw</a> = std::make_shared&lt;<a class="el" href="classLabelPool.html">LabelPool</a>&gt;(100)</td></tr>
<tr class="separator:a122e64987e05917c0fa982a63228d2e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4607757f8a773ef38967f88448cec5fd" id="r_a4607757f8a773ef38967f88448cec5fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#a8f3e754f9357ca106ac7f610d12039e3">LabelPoolPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4607757f8a773ef38967f88448cec5fd">label_pool_bw</a> = std::make_shared&lt;<a class="el" href="classLabelPool.html">LabelPool</a>&gt;(100)</td></tr>
<tr class="separator:a4607757f8a773ef38967f88448cec5fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44e84d49c5e953b5b38461dc74b8b277" id="r_a44e84d49c5e953b5b38461dc74b8b277"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structBucketArc.html">BucketArc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44e84d49c5e953b5b38461dc74b8b277">fw_arcs</a></td></tr>
<tr class="separator:a44e84d49c5e953b5b38461dc74b8b277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bbaac17b81ce02f093f4dff61978d3e" id="r_a4bbaac17b81ce02f093f4dff61978d3e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structBucketArc.html">BucketArc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4bbaac17b81ce02f093f4dff61978d3e">bw_arcs</a></td></tr>
<tr class="separator:a4bbaac17b81ce02f093f4dff61978d3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa72258eba03facf9417104e9377c8aa1" id="r_aa72258eba03facf9417104e9377c8aa1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a></td></tr>
<tr class="separator:aa72258eba03facf9417104e9377c8aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3c69f37f61a50f63572d8c52f8e6e49" id="r_aa3c69f37f61a50f63572d8c52f8e6e49"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3c69f37f61a50f63572d8c52f8e6e49">neighborhoods</a></td></tr>
<tr class="separator:aa3c69f37f61a50f63572d8c52f8e6e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f8ba4399d8ff94a6e29b27e84dfa58e" id="r_a2f8ba4399d8ff94a6e29b27e84dfa58e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">distance_matrix</a></td></tr>
<tr class="separator:a2f8ba4399d8ff94a6e29b27e84dfa58e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac521196275222e2de1486bff051f1c9d" id="r_ac521196275222e2de1486bff051f1c9d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a></td></tr>
<tr class="separator:ac521196275222e2de1486bff051f1c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a56b4c54f68ce0c2dd988f6f9eba41" id="r_a72a56b4c54f68ce0c2dd988f6f9eba41"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a></td></tr>
<tr class="separator:a72a56b4c54f68ce0c2dd988f6f9eba41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da46b294b52721c7272165c2bc468f7" id="r_a9da46b294b52721c7272165c2bc468f7"><td class="memItemLeft" align="right" valign="top">ankerl::unordered_dense::map&lt; int, std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9da46b294b52721c7272165c2bc468f7">fw_bucket_graph</a></td></tr>
<tr class="separator:a9da46b294b52721c7272165c2bc468f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab29c670775c3ff9fa3a9ca48444385e" id="r_aab29c670775c3ff9fa3a9ca48444385e"><td class="memItemLeft" align="right" valign="top">ankerl::unordered_dense::map&lt; int, std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab29c670775c3ff9fa3a9ca48444385e">bw_bucket_graph</a></td></tr>
<tr class="separator:aab29c670775c3ff9fa3a9ca48444385e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ad2f263fc468798163873408972df73" id="r_a2ad2f263fc468798163873408972df73"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ad2f263fc468798163873408972df73">fw_c_bar</a></td></tr>
<tr class="separator:a2ad2f263fc468798163873408972df73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a95ce9361bc4ee30c1e5a5b420f4fe0" id="r_a7a95ce9361bc4ee30c1e5a5b420f4fe0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">bw_c_bar</a></td></tr>
<tr class="separator:a7a95ce9361bc4ee30c1e5a5b420f4fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627a0f568abe2300fc890ade399580ab" id="r_a627a0f568abe2300fc890ade399580ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a627a0f568abe2300fc890ade399580ab">n_fw_labels</a> = 0</td></tr>
<tr class="separator:a627a0f568abe2300fc890ade399580ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ce737d29889971dd9163faa6052524d" id="r_a3ce737d29889971dd9163faa6052524d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ce737d29889971dd9163faa6052524d">n_bw_labels</a> = 0</td></tr>
<tr class="separator:a3ce737d29889971dd9163faa6052524d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a782519bd84892e3cb57bb237395dcfad" id="r_a782519bd84892e3cb57bb237395dcfad"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a782519bd84892e3cb57bb237395dcfad">num_buckets_fw</a></td></tr>
<tr class="separator:a782519bd84892e3cb57bb237395dcfad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeaf126e28cef7e5d242c91e6ffcc379" id="r_aaeaf126e28cef7e5d242c91e6ffcc379"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaeaf126e28cef7e5d242c91e6ffcc379">num_buckets_bw</a></td></tr>
<tr class="separator:aaeaf126e28cef7e5d242c91e6ffcc379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fbd815595b4216d50870f2c9ecb1fc3" id="r_a1fbd815595b4216d50870f2c9ecb1fc3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a></td></tr>
<tr class="separator:a1fbd815595b4216d50870f2c9ecb1fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb40cb64a6aeb38d1ec3044ce28fe240" id="r_acb40cb64a6aeb38d1ec3044ce28fe240"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a></td></tr>
<tr class="separator:acb40cb64a6aeb38d1ec3044ce28fe240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14021a42efc2a10246ddb4004f538a0f" id="r_a14021a42efc2a10246ddb4004f538a0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14021a42efc2a10246ddb4004f538a0f">stat_n_labels_fw</a> = 0</td></tr>
<tr class="separator:a14021a42efc2a10246ddb4004f538a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adccf2c5d28f7f38e189524998ef647eb" id="r_adccf2c5d28f7f38e189524998ef647eb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adccf2c5d28f7f38e189524998ef647eb">stat_n_labels_bw</a> = 0</td></tr>
<tr class="separator:adccf2c5d28f7f38e189524998ef647eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a946362de3ef65c33ec847f671caa89bf" id="r_a946362de3ef65c33ec847f671caa89bf"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a946362de3ef65c33ec847f671caa89bf">stat_n_dom_fw</a> = 0</td></tr>
<tr class="separator:a946362de3ef65c33ec847f671caa89bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e92704829aedd6e29ea78db17a5f725" id="r_a5e92704829aedd6e29ea78db17a5f725"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e92704829aedd6e29ea78db17a5f725">stat_n_dom_bw</a> = 0</td></tr>
<tr class="separator:a5e92704829aedd6e29ea78db17a5f725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac13f00269897a7cf12fbd3d163b36cff" id="r_ac13f00269897a7cf12fbd3d163b36cff"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a></td></tr>
<tr class="separator:ac13f00269897a7cf12fbd3d163b36cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48546d29c98eb6ade3bcdb9a1a26e690" id="r_a48546d29c98eb6ade3bcdb9a1a26e690"><td class="memItemLeft" align="right" valign="top">std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a></td></tr>
<tr class="separator:a48546d29c98eb6ade3bcdb9a1a26e690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1966749de29291018899e0857f9ab164" id="r_a1966749de29291018899e0857f9ab164"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; uint64_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a></td></tr>
<tr class="separator:a1966749de29291018899e0857f9ab164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e48b3401a5611676526b47489c9afc" id="r_a47e48b3401a5611676526b47489c9afc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; uint64_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a47e48b3401a5611676526b47489c9afc">elementarity_bitmap</a></td></tr>
<tr class="separator:a47e48b3401a5611676526b47489c9afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77972ca77209a8fad937cc84bf616eb8" id="r_a77972ca77209a8fad937cc84bf616eb8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; uint64_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77972ca77209a8fad937cc84bf616eb8">packing_bitmap</a></td></tr>
<tr class="separator:a77972ca77209a8fad937cc84bf616eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aff433ba355139b060e4f97ed90510e" id="r_a0aff433ba355139b060e4f97ed90510e"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0aff433ba355139b060e4f97ed90510e">min_red_cost</a> = std::numeric_limits&lt;double&gt;::infinity()</td></tr>
<tr class="separator:a0aff433ba355139b060e4f97ed90510e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16672757fb2f94970bbf068becb72181" id="r_a16672757fb2f94970bbf068becb72181"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16672757fb2f94970bbf068becb72181">first_reset</a> = true</td></tr>
<tr class="separator:a16672757fb2f94970bbf068becb72181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0337f4eec91163935cea2b512e508586" id="r_a0337f4eec91163935cea2b512e508586"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0337f4eec91163935cea2b512e508586">dominance_checks_per_bucket</a></td></tr>
<tr class="separator:a0337f4eec91163935cea2b512e508586"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b856c299c32015534f112d5c4d8ffbc" id="r_a7b856c299c32015534f112d5c4d8ffbc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b856c299c32015534f112d5c4d8ffbc">non_dominated_labels_per_bucket</a></td></tr>
<tr class="separator:a7b856c299c32015534f112d5c4d8ffbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dda85f087bb1fc1ec387c1010c6b8e0" id="r_a1dda85f087bb1fc1ec387c1010c6b8e0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classSplayTree.html">SplayTree</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1dda85f087bb1fc1ec387c1010c6b8e0">fw_node_interval_trees</a></td></tr>
<tr class="separator:a1dda85f087bb1fc1ec387c1010c6b8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cac4e84e8eb32f15e9f5516ded673b1" id="r_a9cac4e84e8eb32f15e9f5516ded673b1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classSplayTree.html">SplayTree</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cac4e84e8eb32f15e9f5516ded673b1">bw_node_interval_trees</a></td></tr>
<tr class="separator:a9cac4e84e8eb32f15e9f5516ded673b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29453db5192f93745dc7f71e05610e22" id="r_a29453db5192f93745dc7f71e05610e22"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29453db5192f93745dc7f71e05610e22">fw_warm_labels</a></td></tr>
<tr class="separator:a29453db5192f93745dc7f71e05610e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16cbe058b108b0501f946b8e96799fa3" id="r_a16cbe058b108b0501f946b8e96799fa3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a16cbe058b108b0501f946b8e96799fa3">bw_warm_labels</a></td></tr>
<tr class="separator:a16cbe058b108b0501f946b8e96799fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe7b8d8e40343998f39f03425c76009" id="r_a0fe7b8d8e40343998f39f03425c76009"><td class="memItemLeft" align="right" valign="top">ankerl::unordered_dense::map&lt; int, std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fe7b8d8e40343998f39f03425c76009">fw_bucket_splits</a></td></tr>
<tr class="separator:a0fe7b8d8e40343998f39f03425c76009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750c64166af5c5c0c351793fbad6cfb8" id="r_a750c64166af5c5c0c351793fbad6cfb8"><td class="memItemLeft" align="right" valign="top">ankerl::unordered_dense::map&lt; int, std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a750c64166af5c5c0c351793fbad6cfb8">bw_bucket_splits</a></td></tr>
<tr class="separator:a750c64166af5c5c0c351793fbad6cfb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a2da1c51413ab2df16bf3745fcf03b" id="r_a45a2da1c51413ab2df16bf3745fcf03b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45a2da1c51413ab2df16bf3745fcf03b">topHeurRoutes</a></td></tr>
<tr class="separator:a45a2da1c51413ab2df16bf3745fcf03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077e9ffa43523f437f55703fcae4a5b5" id="r_a077e9ffa43523f437f55703fcae4a5b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classUnionFind.html">UnionFind</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a077e9ffa43523f437f55703fcae4a5b5">fw_union_find</a></td></tr>
<tr class="separator:a077e9ffa43523f437f55703fcae4a5b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e73efd3e095762e2a7ab26357fe30ea" id="r_a0e73efd3e095762e2a7ab26357fe30ea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classUnionFind.html">UnionFind</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e73efd3e095762e2a7ab26357fe30ea">bw_union_find</a></td></tr>
<tr class="separator:a0e73efd3e095762e2a7ab26357fe30ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b7ecb3192a354e410f442029a3f2db" id="r_a89b7ecb3192a354e410f442029a3f2db"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structCycleData.html">CycleData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89b7ecb3192a354e410f442029a3f2db">ng_cycles</a></td></tr>
<tr class="separator:a89b7ecb3192a354e410f442029a3f2db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59219f1642f3b5b9c9cd574fb6992d3a" id="r_a59219f1642f3b5b9c9cd574fb6992d3a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59219f1642f3b5b9c9cd574fb6992d3a">ng_iteration_counter</a> = 0</td></tr>
<tr class="separator:a59219f1642f3b5b9c9cd574fb6992d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac8ef42169458fa3ce65c86652e4f1dd8" id="r_ac8ef42169458fa3ce65c86652e4f1dd8"><td class="memItemLeft" align="right" valign="top">static constexpr std::array&lt; uint64_t, 64 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8ef42169458fa3ce65c86652e4f1dd8">bit_mask_lookup</a></td></tr>
<tr class="separator:ac8ef42169458fa3ce65c86652e4f1dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f782296f0e3aeac272b3260f752d768" id="r_a7f782296f0e3aeac272b3260f752d768"><td class="memItemLeft" align="right" valign="top">static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7f782296f0e3aeac272b3260f752d768">max_buckets</a></td></tr>
<tr class="separator:a7f782296f0e3aeac272b3260f752d768"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a graph structure used for bucket-based optimization in a solver. </p>
<p>The <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> class provides various functionalities for managing and optimizing a graph structure using buckets. It includes methods for initialization, configuration printing, node visitation checks, statistics printing, bucket assignment, and more.</p>
<p>The class also supports parallel arc generation, label management, and feasibility checks. It is designed to work with different directions (Forward and Backward) and stages of the optimization process.</p>
<dl class="section note"><dt>Note</dt><dd>This class relies on several preprocessor directives (e.g., RIH, RCC, SRC) to conditionally enable or disable certain features.</dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname"><a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a></td><td>The direction of the graph (Forward or Backward). </td></tr>
    <tr><td class="paramname"><a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a></td><td>The stage of the optimization process. </td></tr>
    <tr><td class="paramname"><a class="el" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0">Full</a></td><td>Indicates whether the full labeling algorithm should be used. </td></tr>
    <tr><td class="paramname"><a class="el" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9d">ArcType</a></td><td>The type of arc (<a class="el" href="structBucket.html" title="Represents a bucket.">Bucket</a> or regular). </td></tr>
    <tr><td class="paramname"><a class="el" href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179d">Mutability</a></td><td>Indicates whether the label is mutable or immutable. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00079">79</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a936c0260cd027c71e69c8f8003a45f30" name="a936c0260cd027c71e69c8f8003a45f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a936c0260cd027c71e69c8f8003a45f30">&#9670;&#160;</a></span>AdjList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a936c0260cd027c71e69c8f8003a45f30">BucketGraph::AdjList</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"> </div>
<div class="line">        std::unordered_map&lt;int, std::vector&lt;std::tuple&lt;int, double, int&gt;&gt;&gt;</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01300">1300</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="afe491ade830c057e9508df46cc5bf33a" name="afe491ade830c057e9508df46cc5bf33a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe491ade830c057e9508df46cc5bf33a">&#9670;&#160;</a></span>BranchingDualsPtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#afe491ade830c057e9508df46cc5bf33a">BucketGraph::BranchingDualsPtr</a> = std::shared_ptr&lt;<a class="el" href="classBranchingDuals.html">BranchingDuals</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00112">112</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a8f3e754f9357ca106ac7f610d12039e3" name="a8f3e754f9357ca106ac7f610d12039e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f3e754f9357ca106ac7f610d12039e3">&#9670;&#160;</a></span>LabelPoolPtr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a8f3e754f9357ca106ac7f610d12039e3">BucketGraph::LabelPoolPtr</a> = std::shared_ptr&lt;<a class="el" href="classLabelPool.html">LabelPool</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00361">361</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae49c918d798a101d41caf5dd5e6f7283" name="ae49c918d798a101d41caf5dd5e6f7283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae49c918d798a101d41caf5dd5e6f7283">&#9670;&#160;</a></span>~BucketGraph()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BucketGraph::~BucketGraph </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00293">293</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>                   {</div>
<div class="line"><span class="lineno">  294</span>        <a class="code hl_variable" href="#aa9c43a78f94648c954974cf849ab29e0">bi_pool</a>.request_stop();</div>
<div class="line"><span class="lineno">  295</span>        <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.clear();</div>
<div class="line"><span class="lineno">  296</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_aa72258eba03facf9417104e9377c8aa1"><div class="ttname"><a href="#aa72258eba03facf9417104e9377c8aa1">BucketGraph::merged_labels</a></div><div class="ttdeci">std::vector&lt; Label * &gt; merged_labels</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00367">BucketGraph.h:367</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aa9c43a78f94648c954974cf849ab29e0"><div class="ttname"><a href="#aa9c43a78f94648c954974cf849ab29e0">BucketGraph::bi_pool</a></div><div class="ttdeci">exec::static_thread_pool bi_pool</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00284">BucketGraph.h:284</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abc0d8ca70e8e41226068e7072e7bcfdb" name="abc0d8ca70e8e41226068e7072e7bcfdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc0d8ca70e8e41226068e7072e7bcfdb">&#9670;&#160;</a></span>BucketGraph() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BucketGraph::BucketGraph </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel default">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a78b033289ff750610032f247e2acda96" name="a78b033289ff750610032f247e2acda96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b033289ff750610032f247e2acda96">&#9670;&#160;</a></span>BucketGraph() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BucketGraph::BucketGraph </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structVRPNode.html">VRPNode</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>nodes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>horizon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bucket_interval</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>capacity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>capacity_interval</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> object. </p>
<p>This constructor initializes a <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> with the given nodes, time horizon, and bucket interval. It sets up the forward and backward buckets, initializes the dual values for the CVRP separation, and defines the intervals and resource limits. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00111">111</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  114</span>    : <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>(),</div>
<div class="line"><span class="lineno">  115</span>      <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>(),</div>
<div class="line"><span class="lineno">  116</span>      nodes(nodes),</div>
<div class="line"><span class="lineno">  117</span>      horizon(horizon),</div>
<div class="line"><span class="lineno">  118</span>      capacity(capacity),</div>
<div class="line"><span class="lineno">  119</span>      bucket_interval(bucket_interval),</div>
<div class="line"><span class="lineno">  120</span>      best_cost(std::numeric_limits&lt;double&gt;::infinity()),</div>
<div class="line"><span class="lineno">  121</span>      fw_best_label() {</div>
<div class="line"><span class="lineno">  122</span>    <span class="comment">// initInfo();</span></div>
<div class="line"><span class="lineno">  123</span>    Interval intervalTime(bucket_interval, horizon);</div>
<div class="line"><span class="lineno">  124</span>    Interval intervalCap(capacity_interval, capacity);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>    intervals = {intervalTime, intervalCap};</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a> = {0, 0};</div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a> = {<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(horizon), <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(capacity)};</div>
<div class="line"><span class="lineno">  129</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a48546d29c98eb6ade3bcdb9a1a26e690"><div class="ttname"><a href="#a48546d29c98eb6ade3bcdb9a1a26e690">BucketGraph::R_min</a></div><div class="ttdeci">std::vector&lt; double &gt; R_min</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00395">BucketGraph.h:395</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a8496229500db7bd5714010d3c68f6e5d"><div class="ttname"><a href="#a8496229500db7bd5714010d3c68f6e5d">BucketGraph::bw_buckets</a></div><div class="ttdeci">std::vector&lt; Bucket &gt; bw_buckets</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00359">BucketGraph.h:359</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aaa10fde8c08eaf20c617537c2192ecd0"><div class="ttname"><a href="#aaa10fde8c08eaf20c617537c2192ecd0">BucketGraph::fw_buckets</a></div><div class="ttdeci">std::vector&lt; Bucket &gt; fw_buckets</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00358">BucketGraph.h:358</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_ac13f00269897a7cf12fbd3d163b36cff"><div class="ttname"><a href="#ac13f00269897a7cf12fbd3d163b36cff">BucketGraph::R_max</a></div><div class="ttdeci">std::vector&lt; double &gt; R_max</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00394">BucketGraph.h:394</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8f484b3e417bf03ae4c991496b8a21f" name="ab8f484b3e417bf03ae4c991496b8a21f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8f484b3e417bf03ae4c991496b8a21f">&#9670;&#160;</a></span>BucketGraph() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BucketGraph::BucketGraph </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structVRPNode.html">VRPNode</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>nodes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>horizon</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bucket_interval</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> object. </p>
<p>This constructor initializes a <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> with the given nodes, time horizon, and bucket interval. It sets up the forward and backward buckets, initializes the dual values for the CVRP separation, and defines the intervals and resource limits. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00140">140</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  142</span>    : <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>(),</div>
<div class="line"><span class="lineno">  143</span>      <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>(),</div>
<div class="line"><span class="lineno">  144</span>      nodes(nodes),</div>
<div class="line"><span class="lineno">  145</span>      horizon(horizon),</div>
<div class="line"><span class="lineno">  146</span>      bucket_interval(bucket_interval),</div>
<div class="line"><span class="lineno">  147</span>      best_cost(std::numeric_limits&lt;double&gt;::infinity()),</div>
<div class="line"><span class="lineno">  148</span>      fw_best_label() {</div>
<div class="line"><span class="lineno">  149</span><span class="preprocessor">#if defined(RCC) || defined(EXACT_RCC)</span></div>
<div class="line"><span class="lineno">  150</span>    <span class="comment">// cvrsep_duals.assign(nodes.size() + 2, std::vector&lt;double&gt;(nodes.size() +</span></div>
<div class="line"><span class="lineno">  151</span>    <span class="comment">// 2, 0.0));</span></div>
<div class="line"><span class="lineno">  152</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  153</span>    <span class="comment">// initInfo();</span></div>
<div class="line"><span class="lineno">  154</span>    Interval interval(bucket_interval, horizon);</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    intervals = {interval};</div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a> = {0};</div>
<div class="line"><span class="lineno">  158</span>    <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a> = {<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(horizon)};</div>
<div class="line"><span class="lineno">  159</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a40f10a7c5be4b1bba90286d2d67efc" name="a9a40f10a7c5be4b1bba90286d2d67efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a40f10a7c5be4b1bba90286d2d67efc">&#9670;&#160;</a></span>BucketGraph() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BucketGraph::BucketGraph </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structVRPNode.html">VRPNode</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>nodes</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bounds</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bucket_intervals</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00161">161</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  164</span>    : <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>(),</div>
<div class="line"><span class="lineno">  165</span>      <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>(),</div>
<div class="line"><span class="lineno">  166</span>      nodes(nodes),</div>
<div class="line"><span class="lineno">  167</span>      horizon(bounds[0]),</div>
<div class="line"><span class="lineno">  168</span>      bucket_interval(bucket_intervals[0]),</div>
<div class="line"><span class="lineno">  169</span>      best_cost(std::numeric_limits&lt;double&gt;::infinity()),</div>
<div class="line"><span class="lineno">  170</span>      fw_best_label() {</div>
<div class="line"><span class="lineno">  171</span><span class="preprocessor">#if defined(RCC) || defined(EXACT_RCC)</span></div>
<div class="line"><span class="lineno">  172</span>    <span class="comment">// cvrsep_duals.assign(nodes.size() + 2, std::vector&lt;double&gt;(nodes.size() +</span></div>
<div class="line"><span class="lineno">  173</span>    <span class="comment">// 2, 0.0));</span></div>
<div class="line"><span class="lineno">  174</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>    <span class="comment">// initInfo();</span></div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; bounds.size(); ++i) {</div>
<div class="line"><span class="lineno">  178</span>        Interval interval(bucket_intervals[i], bounds[i]);</div>
<div class="line"><span class="lineno">  179</span>        intervals.push_back(interval);</div>
<div class="line"><span class="lineno">  180</span>    }</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; bounds.size(); ++i) {</div>
<div class="line"><span class="lineno">  183</span>        <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>.push_back(0);</div>
<div class="line"><span class="lineno">  184</span>        <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>.push_back(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(bounds[i]));</div>
<div class="line"><span class="lineno">  185</span>    }</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    <a class="code hl_define" href="Definitions_8h.html#aae3681742ccc706b45390ec5d3392d58">PARALLEL_SECTIONS</a>(</div>
<div class="line"><span class="lineno">  188</span>        work, <a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>, <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> { <a class="code hl_function" href="#a5d04c8a2da52796e87c1b443aa221a76">define_buckets&lt;Direction::Forward&gt;</a>(); },</div>
<div class="line"><span class="lineno">  189</span>        <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> { <a class="code hl_function" href="#a5d04c8a2da52796e87c1b443aa221a76">define_buckets&lt;Direction::Backward&gt;</a>(); });</div>
<div class="line"><span class="lineno">  190</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_aae3681742ccc706b45390ec5d3392d58"><div class="ttname"><a href="Definitions_8h.html#aae3681742ccc706b45390ec5d3392d58">PARALLEL_SECTIONS</a></div><div class="ttdeci">#define PARALLEL_SECTIONS(NAME, SCHEDULER,...)</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00379">Definitions.h:379</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_ac5f41b3cefc075e35486583b52712b0d"><div class="ttname"><a href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a></div><div class="ttdeci">#define SECTION</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00384">Definitions.h:384</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a5d04c8a2da52796e87c1b443aa221a76"><div class="ttname"><a href="#a5d04c8a2da52796e87c1b443aa221a76">BucketGraph::define_buckets</a></div><div class="ttdeci">void define_buckets()</div><div class="ttdoc">Defines the buckets for the BucketGraph.</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l00174">BucketUtils.h:174</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aaa5092fde50d859a999132f8ec1c2cb8"><div class="ttname"><a href="#aaa5092fde50d859a999132f8ec1c2cb8">BucketGraph::bi_sched</a></div><div class="ttdeci">exec::static_thread_pool::scheduler bi_sched</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00285">BucketGraph.h:285</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a9a40f10a7c5be4b1bba90286d2d67efc_cgraph.png" border="0" usemap="#aclassBucketGraph_a9a40f10a7c5be4b1bba90286d2d67efc_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a9a40f10a7c5be4b1bba90286d2d67efc_cgraph" id="aclassBucketGraph_a9a40f10a7c5be4b1bba90286d2d67efc_cgraph">
<area shape="rect" title=" " alt="" coords="5,42,185,68"/>
<area shape="rect" href="classBucketGraph.html#a5d04c8a2da52796e87c1b443aa221a76" title="Defines the buckets for the BucketGraph." alt="" coords="233,35,370,75"/>
<area shape="poly" title=" " alt="" coords="185,52,217,52,217,58,185,58"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="438,5,579,46"/>
<area shape="poly" title=" " alt="" coords="370,43,422,35,423,40,371,48"/>
<area shape="rect" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf" title=" " alt="" coords="418,70,598,96"/>
<area shape="poly" title=" " alt="" coords="371,62,403,66,402,71,370,67"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a42e016ec947d0a75ffa73ceab03207d7" name="a42e016ec947d0a75ffa73ceab03207d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e016ec947d0a75ffa73ceab03207d7">&#9670;&#160;</a></span>add_arc()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::add_arc </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from_bucket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to_bucket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>res_inc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>cost_inc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Represents a bucket in the <a class="el" href="structBucket.html" title="Represents a bucket.">Bucket</a> Graph. Adds an arc to the bucket graph. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l00073">73</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>                                                                             {</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">   76</span>        <a class="code hl_variable" href="#a44e84d49c5e953b5b38461dc74b8b277">fw_arcs</a>.emplace_back(from_bucket, to_bucket, res_inc, cost_inc);</div>
<div class="line"><span class="lineno">   77</span>        <a class="code hl_variable" href="#a9da46b294b52721c7272165c2bc468f7">fw_bucket_graph</a>[from_bucket].push_back(to_bucket);</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Direction::Backward</a>) {</div>
<div class="line"><span class="lineno">   80</span>        <a class="code hl_variable" href="#a4bbaac17b81ce02f093f4dff61978d3e">bw_arcs</a>.emplace_back(from_bucket, to_bucket, res_inc, cost_inc);</div>
<div class="line"><span class="lineno">   81</span>        <a class="code hl_variable" href="#aab29c670775c3ff9fa3a9ca48444385e">bw_bucket_graph</a>[from_bucket].push_back(to_bucket);</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="line"><span class="lineno">   83</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481"><div class="ttname"><a href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a></div><div class="ttdeci">@ Forward</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00077">Definitions.h:77</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510"><div class="ttname"><a href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Direction::Backward</a></div><div class="ttdeci">@ Backward</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00077">Definitions.h:77</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a44e84d49c5e953b5b38461dc74b8b277"><div class="ttname"><a href="#a44e84d49c5e953b5b38461dc74b8b277">BucketGraph::fw_arcs</a></div><div class="ttdeci">std::vector&lt; BucketArc &gt; fw_arcs</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00365">BucketGraph.h:365</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a4bbaac17b81ce02f093f4dff61978d3e"><div class="ttname"><a href="#a4bbaac17b81ce02f093f4dff61978d3e">BucketGraph::bw_arcs</a></div><div class="ttdeci">std::vector&lt; BucketArc &gt; bw_arcs</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00366">BucketGraph.h:366</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a9da46b294b52721c7272165c2bc468f7"><div class="ttname"><a href="#a9da46b294b52721c7272165c2bc468f7">BucketGraph::fw_bucket_graph</a></div><div class="ttdeci">ankerl::unordered_dense::map&lt; int, std::vector&lt; int &gt; &gt; fw_bucket_graph</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00374">BucketGraph.h:374</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aab29c670775c3ff9fa3a9ca48444385e"><div class="ttname"><a href="#aab29c670775c3ff9fa3a9ca48444385e">BucketGraph::bw_bucket_graph</a></div><div class="ttdeci">ankerl::unordered_dense::map&lt; int, std::vector&lt; int &gt; &gt; bw_bucket_graph</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00375">BucketGraph.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af129eff306551dc7cc7fe00b919bbbd0" name="af129eff306551dc7cc7fe00b919bbbd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af129eff306551dc7cc7fe00b919bbbd0">&#9670;&#160;</a></span>assign_buckets() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto &amp; BucketGraph::assign_buckets </td>
          <td>(</td>
          <td class="paramtype">auto &amp;</td>          <td class="paramname"><span class="paramname"><em>FW</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">auto &amp;</td>          <td class="paramname"><span class="paramname"><em>BW</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel constexpr">constexpr</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assigns the buckets based on the specified direction. </p>
<p>This function returns a reference to the buckets based on the specified direction. If the direction is Forward, it returns a reference to the forward buckets. If the direction is Backward, it returns a reference to the backward buckets.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">D</td><td>The direction (Forward or Backward). </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FW</td><td>The forward buckets. </td></tr>
    <tr><td class="paramname">BW</td><td>The backward buckets. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the buckets based on the specified direction. </dd></dl>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00186">186</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  186</span>                                                                {</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">return</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) ? FW : BW;</div>
<div class="line"><span class="lineno">  188</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3084429e997dbd4341b9d02316006f3e" name="a3084429e997dbd4341b9d02316006f3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3084429e997dbd4341b9d02316006f3e">&#9670;&#160;</a></span>assign_buckets() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const auto &amp; BucketGraph::assign_buckets </td>
          <td>(</td>
          <td class="paramtype">const auto &amp;</td>          <td class="paramname"><span class="paramname"><em>FW</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const auto &amp;</td>          <td class="paramname"><span class="paramname"><em>BW</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel constexpr">constexpr</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00191">191</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  192</span>                                                                        {</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">return</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) ? FW : BW;</div>
<div class="line"><span class="lineno">  194</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a66984a5d0225286c0598b884772f8c" name="a2a66984a5d0225286c0598b884772f8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a66984a5d0225286c0598b884772f8c">&#9670;&#160;</a></span>assign_symmetry() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto &amp; BucketGraph::assign_symmetry </td>
          <td>(</td>
          <td class="paramtype">auto &amp;</td>          <td class="paramname"><span class="paramname"><em>FW</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">auto &amp;</td>          <td class="paramname"><span class="paramname"><em>BW</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel constexpr">constexpr</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00197">197</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  197</span>                                                                 {</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">return</span> (SYM == <a class="code hl_enumvalue" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10af334649ef5e5d0ffe200751d07012626">Symmetry::Symmetric</a>) ? FW : BW;</div>
<div class="line"><span class="lineno">  199</span>    }</div>
<div class="ttc" id="aDefinitions_8h_html_a06628c933faae6c56b5b4f71a3ea9e10af334649ef5e5d0ffe200751d07012626"><div class="ttname"><a href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10af334649ef5e5d0ffe200751d07012626">Symmetry::Symmetric</a></div><div class="ttdeci">@ Symmetric</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00087">Definitions.h:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7dc49c1b40dadbde429e084c455ee655" name="a7dc49c1b40dadbde429e084c455ee655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dc49c1b40dadbde429e084c455ee655">&#9670;&#160;</a></span>assign_symmetry() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const auto &amp; BucketGraph::assign_symmetry </td>
          <td>(</td>
          <td class="paramtype">const auto &amp;</td>          <td class="paramname"><span class="paramname"><em>FW</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const auto &amp;</td>          <td class="paramname"><span class="paramname"><em>BW</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel constexpr">constexpr</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00202">202</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  203</span>                                                                         {</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">return</span> (SYM == <a class="code hl_enumvalue" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10af334649ef5e5d0ffe200751d07012626">Symmetry::Symmetric</a>) ? FW : BW;</div>
<div class="line"><span class="lineno">  205</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a044362566d724349a2c40edfa1ea10f9" name="a044362566d724349a2c40edfa1ea10f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a044362566d724349a2c40edfa1ea10f9">&#9670;&#160;</a></span>augment_ng_memories()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::augment_ng_memories </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>solution</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structPath.html">Path</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>paths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>aggressive</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>eta1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>eta2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>eta_max</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nC</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Augments the memories in the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>.</p>
<p>This function takes a solution vector, a SparseModel, and several parameters to augment the memories in the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>. It identifies cycles in the SparseModel that meet certain conditions and forbids them in the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>. The function prioritizes smaller cycles and limits the number of forbidden cycles based on the given parameters. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00392">392</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  394</span>                                                                               {</div>
<div class="line"><span class="lineno">  395</span>    <span class="comment">// Pre-allocate an estimated number of cycles.</span></div>
<div class="line"><span class="lineno">  396</span>    std::vector&lt;CycleData&gt; cycles;</div>
<div class="line"><span class="lineno">  397</span>    cycles.reserve(paths.size() / 4);</div>
<div class="line"><span class="lineno">  398</span>    <a class="code hl_variable" href="#a59219f1642f3b5b9c9cd574fb6992d3a">ng_iteration_counter</a>++;</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>    <span class="comment">// Detect cycles in fractional paths.</span></div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> pathIndex = 0; pathIndex &lt; paths.size(); ++pathIndex) {</div>
<div class="line"><span class="lineno">  402</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> epsilon = 1e-3;</div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordtype">double</span> sol_val = solution[pathIndex];</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">if</span> (sol_val &lt;= epsilon) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  405</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;path = paths[pathIndex];</div>
<div class="line"><span class="lineno">  406</span>        ankerl::unordered_dense::map&lt;uint16_t, int&gt; visited_clients;</div>
<div class="line"><span class="lineno">  407</span>        visited_clients.reserve(path.size());</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>        <span class="comment">// Iterate over the nodes in the path to detect cycles.</span></div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; path.size(); ++i) {</div>
<div class="line"><span class="lineno">  411</span>            uint16_t client = path[i];</div>
<div class="line"><span class="lineno">  412</span>            <span class="comment">// Skip depot nodes.</span></div>
<div class="line"><span class="lineno">  413</span>            <span class="keywordflow">if</span> (client == 0 || client == N_SIZE - 1) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  414</span>            <span class="keyword">auto</span> it = visited_clients.find(client);</div>
<div class="line"><span class="lineno">  415</span>            <span class="keywordflow">if</span> (it != visited_clients.end()) {</div>
<div class="line"><span class="lineno">  416</span>                <span class="comment">// Cycle found: extract cycle from first occurrence to current</span></div>
<div class="line"><span class="lineno">  417</span>                <span class="comment">// index.</span></div>
<div class="line"><span class="lineno">  418</span>                std::vector&lt;uint16_t&gt; cycle;</div>
<div class="line"><span class="lineno">  419</span>                cycle.reserve(i - it-&gt;second + 1);</div>
<div class="line"><span class="lineno">  420</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = it-&gt;second; j &lt;= i; ++j)</div>
<div class="line"><span class="lineno">  421</span>                    cycle.push_back(path[j]);</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>                CycleData data;</div>
<div class="line"><span class="lineno">  424</span>                data.<a class="code hl_variable" href="structCycleData.html#a28845f0b166de3d53fb34450d601011f">cycle</a> = std::move(cycle);</div>
<div class="line"><span class="lineno">  425</span>                <span class="comment">// Option 1: Use raw solution value as violation score.</span></div>
<div class="line"><span class="lineno">  426</span>                <span class="comment">// data.metric = sol_val;</span></div>
<div class="line"><span class="lineno">  427</span>                <span class="comment">// Option 2: Use fractionality (how far is sol_val from an</span></div>
<div class="line"><span class="lineno">  428</span>                <span class="comment">// integer).</span></div>
<div class="line"><span class="lineno">  429</span>                data.<a class="code hl_variable" href="structCycleData.html#a01fe1de063d45ba9b44ed3b1390702ae">metric</a> = std::min(sol_val, 1.0 - sol_val);</div>
<div class="line"><span class="lineno">  430</span>                cycles.push_back(std::move(data));</div>
<div class="line"><span class="lineno">  431</span>                <span class="keywordflow">break</span>;  <span class="comment">// Process only one cycle per path.</span></div>
<div class="line"><span class="lineno">  432</span>            }</div>
<div class="line"><span class="lineno">  433</span>            visited_clients[client] = i;</div>
<div class="line"><span class="lineno">  434</span>        }</div>
<div class="line"><span class="lineno">  435</span>    }</div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordflow">if</span> (cycles.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>    <span class="comment">// Sort cycles by descending metric value (i.e. cycles with highest</span></div>
<div class="line"><span class="lineno">  439</span>    <span class="comment">// violation or fractionality first).</span></div>
<div class="line"><span class="lineno">  440</span>    pdqsort(cycles.begin(), cycles.end(),</div>
<div class="line"><span class="lineno">  441</span>            [](<span class="keyword">const</span> CycleData &amp;a, <span class="keyword">const</span> CycleData &amp;b) {</div>
<div class="line"><span class="lineno">  442</span>                return a.metric &gt; b.metric;</div>
<div class="line"><span class="lineno">  443</span>            });</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordtype">int</span> forbidden_count = 0;</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>    <span class="comment">// Cache neighborhood bit counts to avoid redundant __builtin_popcountll</span></div>
<div class="line"><span class="lineno">  448</span>    <span class="comment">// calls.</span></div>
<div class="line"><span class="lineno">  449</span>    std::vector&lt;int&gt; cached_counts(N_SIZE, -1);</div>
<div class="line"><span class="lineno">  450</span>    <span class="keyword">auto</span> count_neighborhood_bits = [<span class="keyword">this</span>, eta_max,</div>
<div class="line"><span class="lineno">  451</span>                                    &amp;cached_counts](uint16_t node) -&gt; <span class="keywordtype">int</span> {</div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">if</span> (cached_counts[node] &gt;= 0) <span class="keywordflow">return</span> cached_counts[node];</div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;segment : <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[node]) {</div>
<div class="line"><span class="lineno">  455</span>            count += __builtin_popcountll(segment);</div>
<div class="line"><span class="lineno">  456</span>            <span class="keywordflow">if</span> (count &gt;= eta_max) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  457</span>        }</div>
<div class="line"><span class="lineno">  458</span>        cached_counts[node] = count;</div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">return</span> count;</div>
<div class="line"><span class="lineno">  460</span>    };</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>    <span class="comment">// Adapt thresholds based on the aggressive flag.</span></div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordtype">int</span> effective_eta1 = eta1;</div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordtype">int</span> effective_eta2 = eta2;</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    <span class="comment">// Process each detected cycle.</span></div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;data : cycles) {</div>
<div class="line"><span class="lineno">  468</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;cycle = data.cycle;</div>
<div class="line"><span class="lineno">  469</span>        <span class="keywordflow">if</span> (cycle.empty()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordtype">bool</span> can_forbid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  472</span>        <span class="comment">// Check if any node in the cycle has too many neighbor bits.</span></div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordflow">for</span> (uint16_t node : cycle) {</div>
<div class="line"><span class="lineno">  474</span>            <span class="keywordflow">if</span> (count_neighborhood_bits(node) &gt;= eta_max) {</div>
<div class="line"><span class="lineno">  475</span>                can_forbid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  476</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  477</span>            }</div>
<div class="line"><span class="lineno">  478</span>        }</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>        <span class="comment">// If the cycle qualifies based on its size or our current count.</span></div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordflow">if</span> (can_forbid &amp;&amp; (<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(cycle.size()) &lt;= effective_eta1 ||</div>
<div class="line"><span class="lineno">  482</span>                           forbidden_count &lt; effective_eta2)) {</div>
<div class="line"><span class="lineno">  483</span>            std::vector&lt;int&gt; int_cycle(cycle.begin(), cycle.end());</div>
<div class="line"><span class="lineno">  484</span>            <a class="code hl_function" href="#ab6ef36ef1f1276342c17231dc693f95b">forbidCycle</a>(int_cycle, aggressive);</div>
<div class="line"><span class="lineno">  485</span>            ++forbidden_count;</div>
<div class="line"><span class="lineno">  486</span>            <span class="keywordflow">if</span> (forbidden_count &gt;= effective_eta2) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  487</span>        }</div>
<div class="line"><span class="lineno">  488</span>    }</div>
<div class="line"><span class="lineno">  489</span>    <span class="comment">// If no cycle was added, try again without the effective_eta1 restriction.</span></div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">if</span> (forbidden_count == 0) {</div>
<div class="line"><span class="lineno">  491</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;data : cycles) {</div>
<div class="line"><span class="lineno">  492</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;cycle = data.cycle;</div>
<div class="line"><span class="lineno">  493</span>            <span class="keywordflow">if</span> (cycle.empty()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>            <span class="keywordtype">bool</span> can_forbid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  496</span>            <span class="keywordflow">for</span> (uint16_t node : cycle) {</div>
<div class="line"><span class="lineno">  497</span>                <span class="keywordflow">if</span> (count_neighborhood_bits(node) &gt;= eta_max) {</div>
<div class="line"><span class="lineno">  498</span>                    can_forbid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  499</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  500</span>                }</div>
<div class="line"><span class="lineno">  501</span>            }</div>
<div class="line"><span class="lineno">  502</span>            <span class="keywordflow">if</span> (can_forbid &amp;&amp; forbidden_count &lt; effective_eta2) {</div>
<div class="line"><span class="lineno">  503</span>                std::vector&lt;int&gt; int_cycle(cycle.begin(), cycle.end());</div>
<div class="line"><span class="lineno">  504</span>                <a class="code hl_function" href="#ab6ef36ef1f1276342c17231dc693f95b">forbidCycle</a>(int_cycle, aggressive);</div>
<div class="line"><span class="lineno">  505</span>                ++forbidden_count;</div>
<div class="line"><span class="lineno">  506</span>                <span class="keywordflow">if</span> (forbidden_count &gt;= effective_eta2) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  507</span>            }</div>
<div class="line"><span class="lineno">  508</span>        }</div>
<div class="line"><span class="lineno">  509</span>    }</div>
<div class="line"><span class="lineno">  510</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a1966749de29291018899e0857f9ab164"><div class="ttname"><a href="#a1966749de29291018899e0857f9ab164">BucketGraph::neighborhoods_bitmap</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; uint64_t &gt; &gt; neighborhoods_bitmap</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00397">BucketGraph.h:397</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a59219f1642f3b5b9c9cd574fb6992d3a"><div class="ttname"><a href="#a59219f1642f3b5b9c9cd574fb6992d3a">BucketGraph::ng_iteration_counter</a></div><div class="ttdeci">int ng_iteration_counter</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l01587">BucketGraph.h:1587</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_ab6ef36ef1f1276342c17231dc693f95b"><div class="ttname"><a href="#ab6ef36ef1f1276342c17231dc693f95b">BucketGraph::forbidCycle</a></div><div class="ttdeci">void forbidCycle(const std::vector&lt; int &gt; &amp;cycle, bool aggressive)</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8cpp_source.html#l00521">BucketGraph.cpp:521</a></div></div>
<div class="ttc" id="astructCycleData_html_a01fe1de063d45ba9b44ed3b1390702ae"><div class="ttname"><a href="structCycleData.html#a01fe1de063d45ba9b44ed3b1390702ae">CycleData::metric</a></div><div class="ttdeci">double metric</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00032">Definitions.h:32</a></div></div>
<div class="ttc" id="astructCycleData_html_a28845f0b166de3d53fb34450d601011f"><div class="ttname"><a href="structCycleData.html#a28845f0b166de3d53fb34450d601011f">CycleData::cycle</a></div><div class="ttdeci">std::vector&lt; uint16_t &gt; cycle</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00029">Definitions.h:29</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a044362566d724349a2c40edfa1ea10f9_cgraph.png" border="0" usemap="#aclassBucketGraph_a044362566d724349a2c40edfa1ea10f9_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a044362566d724349a2c40edfa1ea10f9_cgraph" id="aclassBucketGraph_a044362566d724349a2c40edfa1ea10f9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,159,46"/>
<area shape="rect" href="classBucketGraph.html#ab6ef36ef1f1276342c17231dc693f95b" title=" " alt="" coords="207,13,374,38"/>
<area shape="poly" title=" " alt="" coords="159,23,191,23,191,28,159,28"/>
</map>
</div>

</div>
</div>
<a id="a8153a13e14a6233434a3f7ef3230f8b8" name="a8153a13e14a6233434a3f7ef3230f8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8153a13e14a6233434a3f7ef3230f8b8">&#9670;&#160;</a></span>bi_labeling_algorithm()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S, <a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt; BucketGraph::bi_labeling_algorithm </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketSolve_8h_source.html#l00615">615</a> of file <a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  615</span>                                                      {</div>
<div class="line"><span class="lineno">  616</span>    <span class="comment">// === Stage-specific Initializations ===</span></div>
<div class="line"><span class="lineno">  617</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604ebaca8a2087e5557e317599344687a57391">Stage::Three</a>) {</div>
<div class="line"><span class="lineno">  618</span>        <a class="code hl_function" href="#a06036b30388d0f91c677340bff2c6b6a">heuristic_fixing&lt;S&gt;</a>();</div>
<div class="line"><span class="lineno">  619</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a>) {</div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a16672757fb2f94970bbf068becb72181">first_reset</a>) {</div>
<div class="line"><span class="lineno">  621</span>            <a class="code hl_function" href="#a2379392ccc37be9a4a27800b116465d2">reset_fixed</a>();</div>
<div class="line"><span class="lineno">  622</span>            <a class="code hl_variable" href="#a16672757fb2f94970bbf068becb72181">first_reset</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  623</span>        }</div>
<div class="line"><span class="lineno">  624</span><span class="preprocessor">#ifdef FIX_BUCKETS</span></div>
<div class="line"><span class="lineno">  625</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.bucket_fixing) {</div>
<div class="line"><span class="lineno">  626</span>            <span class="comment">// heuristic_fixing&lt;S&gt;();</span></div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>            <a class="code hl_function" href="#adea4cf77fe1775dac8bb3aa80b4c0dd4">bucket_fixing&lt;S&gt;</a>();</div>
<div class="line"><span class="lineno">  629</span>        }</div>
<div class="line"><span class="lineno">  630</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  631</span>        <span class="comment">// heuristic_fixing&lt;S&gt;();</span></div>
<div class="line"><span class="lineno">  632</span>    }</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>    <span class="comment">// Reset pools and perform common initialization.</span></div>
<div class="line"><span class="lineno">  635</span>    <a class="code hl_function" href="#a3e1492bb1589d5edb06e80a753d000dd">reset_pool</a>();</div>
<div class="line"><span class="lineno">  636</span>    <a class="code hl_function" href="#a8b934dd825af2c3536269ac190b398b3">common_initialization</a>();</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>    <span class="comment">// Pre-allocate c-bar vectors for forward and backward buckets.</span></div>
<div class="line"><span class="lineno">  639</span>    std::vector&lt;double&gt; forward_cbar(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.size());</div>
<div class="line"><span class="lineno">  640</span>    std::vector&lt;double&gt; backward_cbar(<a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>.size());</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>    <span class="comment">// Run the labeling algorithms.</span></div>
<div class="line"><span class="lineno">  643</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (SYM == <a class="code hl_enumvalue" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10a314084a577b998d8089dff72c98c58b0">Symmetry::Asymmetric</a>) {</div>
<div class="line"><span class="lineno">  644</span>        <a class="code hl_function" href="#a66484f0fb3c999584f77880b3dd54f7c">run_labeling_algorithms&lt;S, Full::Partial&gt;</a>(forward_cbar, backward_cbar);</div>
<div class="line"><span class="lineno">  645</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  646</span>        forward_cbar =</div>
<div class="line"><span class="lineno">  647</span>            <a class="code hl_function" href="#aa05e883574a58a277e1dbf8cfcdcde11">labeling_algorithm&lt;Direction::Forward, S, Full::Partial&gt;</a>();</div>
<div class="line"><span class="lineno">  648</span>    }</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>    <span class="comment">// Acquire an initial best label from the forward label pool.</span></div>
<div class="line"><span class="lineno">  651</span>    <span class="keyword">auto</span> best_label = <a class="code hl_variable" href="#a122e64987e05917c0fa982a63228d2e6">label_pool_fw</a>-&gt;acquire();</div>
<div class="line"><span class="lineno">  652</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (SYM == <a class="code hl_enumvalue" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10a314084a577b998d8089dff72c98c58b0">Symmetry::Asymmetric</a>) {</div>
<div class="line"><span class="lineno">  653</span>        <span class="comment">// Compute the best label if the forward and backward labels are</span></div>
<div class="line"><span class="lineno">  654</span>        <span class="comment">// feasible.</span></div>
<div class="line"><span class="lineno">  655</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="#a858b68317a9a0a60723698509d78d575">check_feasibility</a>(fw_best_label, bw_best_label)) {</div>
<div class="line"><span class="lineno">  656</span>            best_label = <a class="code hl_function" href="#a7d2d975e13b1fdeaafca99aa6fb29486">compute_label&lt;S&gt;</a>(fw_best_label, bw_best_label);</div>
<div class="line"><span class="lineno">  657</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  658</span>            best_label-&gt;cost = 0.0;</div>
<div class="line"><span class="lineno">  659</span>            best_label-&gt;real_cost = std::numeric_limits&lt;double&gt;::infinity();</div>
<div class="line"><span class="lineno">  660</span>            best_label-&gt;nodes_covered.clear();</div>
<div class="line"><span class="lineno">  661</span>        }</div>
<div class="line"><span class="lineno">  662</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  663</span>        best_label-&gt;cost = best_label-&gt;real_cost;</div>
<div class="line"><span class="lineno">  664</span>        best_label-&gt;real_cost = std::numeric_limits&lt;double&gt;::infinity();</div>
<div class="line"><span class="lineno">  665</span>        best_label-&gt;nodes_covered.clear();</div>
<div class="line"><span class="lineno">  666</span>    }</div>
<div class="line"><span class="lineno">  667</span>    <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.push_back(best_label);</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    <span class="comment">// Declare atomics to track the best cost and non-dominated label</span></div>
<div class="line"><span class="lineno">  670</span>    <span class="comment">// count.</span></div>
<div class="line"><span class="lineno">  671</span>    std::atomic&lt;double&gt; best_cost{0.0};</div>
<div class="line"><span class="lineno">  672</span>    std::atomic&lt;size_t&gt; <a class="code hl_variable" href="#a7b856c299c32015534f112d5c4d8ffbc">non_dominated_labels_per_bucket</a>{0};</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>    <span class="comment">// === Parallel Bucket Processing ===</span></div>
<div class="line"><span class="lineno">  675</span>    <span class="comment">// Choose a chunk size based on hardware concurrency.</span></div>
<div class="line"><span class="lineno">  676</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> chunk_size =</div>
<div class="line"><span class="lineno">  677</span>        <a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a> / <a class="code hl_variable" href="#afceedc00c849910d5eaf40a2a317d3c3">MERGE_SCHED_CONCURRENCY</a>;  <span class="comment">// 1/4 of buckets per core</span></div>
<div class="line"><span class="lineno">  678</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> n_chunks = (<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a> + chunk_size - 1) / chunk_size;</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>    <span class="keyword">auto</span> bulk_sender = stdexec::bulk(</div>
<div class="line"><span class="lineno">  681</span>        stdexec::just(), n_chunks,</div>
<div class="line"><span class="lineno">  682</span>        [<span class="keyword">this</span>, chunk_size, &amp;best_cost,</div>
<div class="line"><span class="lineno">  683</span>         &amp;<a class="code hl_variable" href="#a7b856c299c32015534f112d5c4d8ffbc">non_dominated_labels_per_bucket</a>](std::size_t chunk_idx) {</div>
<div class="line"><span class="lineno">  684</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> start_bucket = chunk_idx * chunk_size;</div>
<div class="line"><span class="lineno">  685</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> end_bucket =</div>
<div class="line"><span class="lineno">  686</span>                std::min(start_bucket + chunk_size,</div>
<div class="line"><span class="lineno">  687</span>                         <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>));</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>            <span class="comment">// Process each bucket within the current chunk.</span></div>
<div class="line"><span class="lineno">  690</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> bucket = start_bucket; bucket &lt; end_bucket; ++bucket) {</div>
<div class="line"><span class="lineno">  691</span>                <span class="comment">// Process non-dominated labels in the current bucket.</span></div>
<div class="line"><span class="lineno">  692</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket_labels = <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>[bucket].get_labels();</div>
<div class="line"><span class="lineno">  693</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> Label *L : bucket_labels) {</div>
<div class="line"><span class="lineno">  694</span>                    <span class="keywordflow">if</span> (L-&gt;is_dominated) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>                    <a class="code hl_variable" href="#a7b856c299c32015534f112d5c4d8ffbc">non_dominated_labels_per_bucket</a>.fetch_add(</div>
<div class="line"><span class="lineno">  697</span>                        1, std::memory_order_relaxed);</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>                    <span class="comment">// Retrieve the outgoing arcs for the current label.</span></div>
<div class="line"><span class="lineno">  700</span>                    <span class="comment">// const auto &amp;to_arcs =</span></div>
<div class="line"><span class="lineno">  701</span>                    <span class="comment">// nodes[L-&gt;node_id].get_arcs&lt;Direction::Forward&gt;();</span></div>
<div class="line"><span class="lineno">  702</span>                    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;to_arcs =</div>
<div class="line"><span class="lineno">  703</span>                        <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>[bucket]</div>
<div class="line"><span class="lineno">  704</span>                            .template get_bucket_arcs&lt;Direction::Forward&gt;();</div>
<div class="line"><span class="lineno">  705</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;arc : to_arcs) {</div>
<div class="line"><span class="lineno">  706</span>                        <span class="keyword">const</span> <span class="keywordtype">int</span> to_node = <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>[arc.to_bucket].node_id;</div>
<div class="line"><span class="lineno">  707</span>                        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S &gt;= <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604ebaca8a2087e5557e317599344687a57391">Stage::Three</a> ||</div>
<div class="line"><span class="lineno">  708</span>                                      S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba3c451149fe91949f919d451b19f8c0f6">Stage::Eliminate</a>) {</div>
<div class="line"><span class="lineno">  709</span>                            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a7ffbc9d76efacdae82ed10f5b7009348">is_arc_fixed</a>(L-&gt;node_id, to_node)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  710</span>                        }</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>                        <span class="comment">// Extend the label along the current arc.</span></div>
<div class="line"><span class="lineno">  713</span>                        <span class="keyword">auto</span> L_prime =</div>
<div class="line"><span class="lineno">  714</span>                            <a class="code hl_function" href="#ac36d91be18f5093577ee00a38ceb771e">Extend</a>&lt;<a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>, S, <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">ArcType::Bucket</a>,</div>
<div class="line"><span class="lineno">  715</span>                                   <a class="code hl_enumvalue" href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179da79ceee9f8e3c1f0cc74223e05d2448bf">Mutability::Const</a>, <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>&gt;(L, arc);</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>                        <span class="comment">// Process each extended label.</span></div>
<div class="line"><span class="lineno">  718</span>                        <span class="keywordflow">if</span> (L_prime != -1) {</div>
<div class="line"><span class="lineno">  719</span>                            <span class="keywordtype">int</span> bucket_to_process = L_prime;</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>                            <span class="comment">// Concatenate the label with bucket</span></div>
<div class="line"><span class="lineno">  722</span>                            <span class="comment">// information, updating best_cost.</span></div>
<div class="line"><span class="lineno">  723</span>                            <a class="code hl_function" href="#a1546f6d1eec5a80afaed3be7ccda0d4a">ConcatenateLabel&lt;S, SYM&gt;</a>(L, bucket_to_process,</div>
<div class="line"><span class="lineno">  724</span>                                                     best_cost);</div>
<div class="line"><span class="lineno">  725</span>                        }</div>
<div class="line"><span class="lineno">  726</span>                    }</div>
<div class="line"><span class="lineno">  727</span>                }</div>
<div class="line"><span class="lineno">  728</span>            }</div>
<div class="line"><span class="lineno">  729</span>        });</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>    <span class="comment">// Submit the bulk work to the merge scheduler and wait for</span></div>
<div class="line"><span class="lineno">  732</span>    <span class="comment">// completion.</span></div>
<div class="line"><span class="lineno">  733</span>    <span class="keyword">auto</span> work = stdexec::starts_on(<a class="code hl_variable" href="#a7c0da5a04679a6417e07ba50469c8c0c">merge_sched</a>, bulk_sender);</div>
<div class="line"><span class="lineno">  734</span>    stdexec::sync_wait(std::move(work));</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    <span class="comment">// === Post-processing and Sorting ===</span></div>
<div class="line"><span class="lineno">  737</span>    <span class="comment">// Sort merged labels based on cost (ascending order).</span></div>
<div class="line"><span class="lineno">  738</span>    pdqsort(<a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.begin(), <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.end(),</div>
<div class="line"><span class="lineno">  739</span>            [](<span class="keyword">const</span> Label *a, <span class="keyword">const</span> Label *b) { return a-&gt;cost &lt; b-&gt;cost; });</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span><span class="preprocessor">#ifdef SCHRODINGER</span></div>
<div class="line"><span class="lineno">  742</span>    <span class="comment">// If using the Schrödinger approach, process additional paths.</span></div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.size() &gt; N_ADD) {</div>
<div class="line"><span class="lineno">  744</span>        std::vector&lt;Path&gt; paths;</div>
<div class="line"><span class="lineno">  745</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> labels_size = <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.size();</div>
<div class="line"><span class="lineno">  746</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> end_idx = std::min(N_ADD + N_ADD, labels_size);</div>
<div class="line"><span class="lineno">  747</span>        paths.reserve(end_idx - N_ADD);</div>
<div class="line"><span class="lineno">  748</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = N_ADD; i &lt; end_idx; ++i) {</div>
<div class="line"><span class="lineno">  749</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>[i]-&gt;nodes_covered.size() &lt;= 3) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  750</span>            paths.emplace_back(<a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>[i]-&gt;nodes_covered,</div>
<div class="line"><span class="lineno">  751</span>                               <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>[i]-&gt;real_cost);</div>
<div class="line"><span class="lineno">  752</span>        }</div>
<div class="line"><span class="lineno">  753</span>        sPool.add_paths(paths);</div>
<div class="line"><span class="lineno">  754</span>        sPool.iterate();</div>
<div class="line"><span class="lineno">  755</span>    }</div>
<div class="line"><span class="lineno">  756</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span><span class="preprocessor">#ifdef RIH</span></div>
<div class="line"><span class="lineno">  759</span>    <span class="comment">// If using RIH stage modifications, submit the top labels to ILS.</span></div>
<div class="line"><span class="lineno">  760</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a>) {</div>
<div class="line"><span class="lineno">  761</span>        std::vector&lt;Label *&gt; top_labels;</div>
<div class="line"><span class="lineno">  762</span>        top_labels.reserve(N_ADD);</div>
<div class="line"><span class="lineno">  763</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> n_candidates =</div>
<div class="line"><span class="lineno">  764</span>            std::min(N_ADD, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.size()));</div>
<div class="line"><span class="lineno">  765</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n_candidates; ++i) {</div>
<div class="line"><span class="lineno">  766</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>[i]-&gt;nodes_covered.size() &lt;= 3) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  767</span>            top_labels.push_back(<a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>[i]);</div>
<div class="line"><span class="lineno">  768</span>        }</div>
<div class="line"><span class="lineno">  769</span>        <a class="code hl_variable" href="#aa8dc0767eff3e486b381aa65e0fd9a14">ils</a>-&gt;submit_task(top_labels, nodes);</div>
<div class="line"><span class="lineno">  770</span>    }</div>
<div class="line"><span class="lineno">  771</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>    <span class="comment">// Store the cost of the best (first) merged label as the inner</span></div>
<div class="line"><span class="lineno">  774</span>    <span class="comment">// objective.</span></div>
<div class="line"><span class="lineno">  775</span>    <a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> = <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>[0]-&gt;cost;</div>
<div class="line"><span class="lineno">  776</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>;</div>
<div class="line"><span class="lineno">  777</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a06628c933faae6c56b5b4f71a3ea9e10a314084a577b998d8089dff72c98c58b0"><div class="ttname"><a href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10a314084a577b998d8089dff72c98c58b0">Symmetry::Asymmetric</a></div><div class="ttdeci">@ Asymmetric</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00087">Definitions.h:87</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c"><div class="ttname"><a href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">ArcType::Bucket</a></div><div class="ttdeci">@ Bucket</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00079">Definitions.h:79</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc"><div class="ttname"><a href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a></div><div class="ttdeci">@ Reverse</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00081">Definitions.h:81</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_aca8133200c1122e29b87b314d82604eba3c451149fe91949f919d451b19f8c0f6"><div class="ttname"><a href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba3c451149fe91949f919d451b19f8c0f6">Stage::Eliminate</a></div><div class="ttdeci">@ Eliminate</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00078">Definitions.h:78</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9"><div class="ttname"><a href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a></div><div class="ttdeci">@ Four</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00078">Definitions.h:78</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_aca8133200c1122e29b87b314d82604ebaca8a2087e5557e317599344687a57391"><div class="ttname"><a href="Definitions_8h.html#aca8133200c1122e29b87b314d82604ebaca8a2087e5557e317599344687a57391">Stage::Three</a></div><div class="ttdeci">@ Three</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00078">Definitions.h:78</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_ae89bd8b92ab73e02af41939d44a3179da79ceee9f8e3c1f0cc74223e05d2448bf"><div class="ttname"><a href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179da79ceee9f8e3c1f0cc74223e05d2448bf">Mutability::Const</a></div><div class="ttdeci">@ Const</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00080">Definitions.h:80</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a06036b30388d0f91c677340bff2c6b6a"><div class="ttname"><a href="#a06036b30388d0f91c677340bff2c6b6a">BucketGraph::heuristic_fixing</a></div><div class="ttdeci">void heuristic_fixing()</div><div class="ttdoc">Applies heuristic fixing to the current solution.</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l01143">BucketUtils.h:1143</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a122e64987e05917c0fa982a63228d2e6"><div class="ttname"><a href="#a122e64987e05917c0fa982a63228d2e6">BucketGraph::label_pool_fw</a></div><div class="ttdeci">LabelPoolPtr label_pool_fw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00363">BucketGraph.h:363</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a1546f6d1eec5a80afaed3be7ccda0d4a"><div class="ttname"><a href="#a1546f6d1eec5a80afaed3be7ccda0d4a">BucketGraph::ConcatenateLabel</a></div><div class="ttdeci">void ConcatenateLabel(const Label *L, int &amp;b, std::atomic&lt; double &gt; &amp;best_cost)</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l00655">BucketUtils.h:655</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a16672757fb2f94970bbf068becb72181"><div class="ttname"><a href="#a16672757fb2f94970bbf068becb72181">BucketGraph::first_reset</a></div><div class="ttdeci">bool first_reset</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00442">BucketGraph.h:442</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a2379392ccc37be9a4a27800b116465d2"><div class="ttname"><a href="#a2379392ccc37be9a4a27800b116465d2">BucketGraph::reset_fixed</a></div><div class="ttdeci">void reset_fixed()</div><div class="ttdoc">Resets all fixed arcs in the graph.</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00821">BucketGraph.h:821</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a23934021718bd2ee544b29228fde708c"><div class="ttname"><a href="#a23934021718bd2ee544b29228fde708c">BucketGraph::inner_obj</a></div><div class="ttdeci">double inner_obj</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00264">BucketGraph.h:264</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a3e1492bb1589d5edb06e80a753d000dd"><div class="ttname"><a href="#a3e1492bb1589d5edb06e80a753d000dd">BucketGraph::reset_pool</a></div><div class="ttdeci">void reset_pool()</div><div class="ttdoc">Resets the forward and backward label pools.</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00780">BucketGraph.h:780</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a596938fef84ae5ab9d07c64bd98515f1"><div class="ttname"><a href="#a596938fef84ae5ab9d07c64bd98515f1">BucketGraph::options</a></div><div class="ttdeci">BucketOptions options</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00108">BucketGraph.h:108</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a66484f0fb3c999584f77880b3dd54f7c"><div class="ttname"><a href="#a66484f0fb3c999584f77880b3dd54f7c">BucketGraph::run_labeling_algorithms</a></div><div class="ttdeci">void run_labeling_algorithms(std::vector&lt; double &gt; &amp;forward_cbar, std::vector&lt; double &gt; &amp;backward_cbar)</div><div class="ttdoc">Runs forward and backward labeling algorithms in parallel and synchronizes the results.</div><div class="ttdef"><b>Definition</b> <a href="BucketSolve_8h_source.html#l01376">BucketSolve.h:1376</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a7b856c299c32015534f112d5c4d8ffbc"><div class="ttname"><a href="#a7b856c299c32015534f112d5c4d8ffbc">BucketGraph::non_dominated_labels_per_bucket</a></div><div class="ttdeci">int non_dominated_labels_per_bucket</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00445">BucketGraph.h:445</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a7c0da5a04679a6417e07ba50469c8c0c"><div class="ttname"><a href="#a7c0da5a04679a6417e07ba50469c8c0c">BucketGraph::merge_sched</a></div><div class="ttdeci">exec::static_thread_pool::scheduler merge_sched</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00290">BucketGraph.h:290</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a7d2d975e13b1fdeaafca99aa6fb29486"><div class="ttname"><a href="#a7d2d975e13b1fdeaafca99aa6fb29486">BucketGraph::compute_label</a></div><div class="ttdeci">Label * compute_label(const Label *L, const Label *L_prime, double cost=0.0)</div><div class="ttdef"><b>Definition</b> <a href="BucketSolve_8h_source.html#l01408">BucketSolve.h:1408</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a7ffbc9d76efacdae82ed10f5b7009348"><div class="ttname"><a href="#a7ffbc9d76efacdae82ed10f5b7009348">BucketGraph::is_arc_fixed</a></div><div class="ttdeci">bool is_arc_fixed(int from, int to) const noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00307">BucketGraph.h:307</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a858b68317a9a0a60723698509d78d575"><div class="ttname"><a href="#a858b68317a9a0a60723698509d78d575">BucketGraph::check_feasibility</a></div><div class="ttdeci">bool check_feasibility(const Label *fw_label, const Label *bw_label)</div><div class="ttdoc">Checks the feasibility of a given forward and backward label.</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00847">BucketGraph.h:847</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a8b934dd825af2c3536269ac190b398b3"><div class="ttname"><a href="#a8b934dd825af2c3536269ac190b398b3">BucketGraph::common_initialization</a></div><div class="ttdeci">void common_initialization()</div><div class="ttdoc">Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets.</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l01480">BucketUtils.h:1480</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aa05e883574a58a277e1dbf8cfcdcde11"><div class="ttname"><a href="#aa05e883574a58a277e1dbf8cfcdcde11">BucketGraph::labeling_algorithm</a></div><div class="ttdeci">std::vector&lt; double &gt; labeling_algorithm()</div><div class="ttdef"><b>Definition</b> <a href="BucketSolve_8h_source.html#l00206">BucketSolve.h:206</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aa8dc0767eff3e486b381aa65e0fd9a14"><div class="ttname"><a href="#aa8dc0767eff3e486b381aa65e0fd9a14">BucketGraph::ils</a></div><div class="ttdeci">IteratedLocalSearch * ils</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00262">BucketGraph.h:262</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_abe1a9250ac9527f6c4d7fc199c356a83"><div class="ttname"><a href="#abe1a9250ac9527f6c4d7fc199c356a83">BucketGraph::fw_buckets_size</a></div><div class="ttdeci">int fw_buckets_size</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00298">BucketGraph.h:298</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_ac36d91be18f5093577ee00a38ceb771e"><div class="ttname"><a href="#ac36d91be18f5093577ee00a38ceb771e">BucketGraph::Extend</a></div><div class="ttdeci">auto Extend(const std::conditional_t&lt; M==Mutability::Mut, Label *, const Label * &gt; L_prime, const std::conditional_t&lt; A==ArcType::Bucket, BucketArc, std::conditional_t&lt; A==ArcType::Jump, JumpArc, Arc &gt; &gt; &amp;gamma, int depth=0) noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketSolve_8h_source.html#l00784">BucketSolve.h:784</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_adea4cf77fe1775dac8bb3aa80b4c0dd4"><div class="ttname"><a href="#adea4cf77fe1775dac8bb3aa80b4c0dd4">BucketGraph::bucket_fixing</a></div><div class="ttdeci">void bucket_fixing()</div><div class="ttdoc">Fixes the bucket arcs for the specified stage.</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l01075">BucketUtils.h:1075</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_afceedc00c849910d5eaf40a2a317d3c3"><div class="ttname"><a href="#afceedc00c849910d5eaf40a2a317d3c3">BucketGraph::MERGE_SCHED_CONCURRENCY</a></div><div class="ttdeci">const int MERGE_SCHED_CONCURRENCY</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00287">BucketGraph.h:287</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a8153a13e14a6233434a3f7ef3230f8b8_cgraph.png" border="0" usemap="#aclassBucketGraph_a8153a13e14a6233434a3f7ef3230f8b8_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a8153a13e14a6233434a3f7ef3230f8b8_cgraph" id="aclassBucketGraph_a8153a13e14a6233434a3f7ef3230f8b8_cgraph">
<area shape="rect" title=" " alt="" coords="5,655,170,696"/>
<area shape="rect" href="classBucketGraph.html#adea4cf77fe1775dac8bb3aa80b4c0dd4" title="Fixes the bucket arcs for the specified stage." alt="" coords="223,318,365,359"/>
<area shape="poly" title=" " alt="" coords="99,654,270,371,274,374,104,657"/>
<area shape="rect" href="classBucketGraph.html#a8b934dd825af2c3536269ac190b398b3" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="462,222,615,263"/>
<area shape="poly" title=" " alt="" coords="87,655,93,587,111,492,128,441,150,391,179,344,216,305,241,286,269,270,329,250,390,239,446,235,447,240,390,244,330,255,271,275,244,290,219,308,183,348,155,393,133,443,116,493,98,588,92,655"/>
<area shape="rect" href="classBucketGraph.html#a66484f0fb3c999584f77880b3dd54f7c" title="Runs forward and backward labeling algorithms in parallel and synchronizes the results." alt="" coords="452,157,625,197"/>
<area shape="poly" title=" " alt="" coords="86,655,90,580,96,529,106,472,122,414,145,356,176,302,216,255,239,236,266,220,322,196,381,182,437,175,437,180,382,187,324,201,268,224,243,240,220,259,180,305,150,358,127,415,111,473,101,529,95,580,91,655"/>
<area shape="rect" href="classBucketGraph.html#aa05e883574a58a277e1dbf8cfcdcde11" title=" " alt="" coords="740,6,888,47"/>
<area shape="poly" title=" " alt="" coords="85,655,87,572,92,515,101,451,117,384,140,318,173,257,216,202,272,154,335,116,403,86,473,63,543,46,610,35,725,25,725,30,610,40,544,52,475,68,405,91,338,121,275,159,220,206,177,259,145,321,122,386,106,452,97,515,92,572,91,655"/>
<area shape="rect" href="classBucketGraph.html#a858b68317a9a0a60723698509d78d575" title="Checks the feasibility of a given forward and backward label." alt="" coords="745,769,883,809"/>
<area shape="poly" title=" " alt="" coords="170,681,392,706,526,725,660,748,730,764,729,769,659,753,525,730,391,711,170,686"/>
<area shape="rect" href="classBucketGraph.html#a7d2d975e13b1fdeaafca99aa6fb29486" title=" " alt="" coords="737,883,891,924"/>
<area shape="poly" title=" " alt="" coords="118,695,164,726,219,756,284,783,352,806,489,845,617,872,722,889,721,895,616,877,488,850,350,811,282,788,217,761,161,731,115,699"/>
<area shape="rect" href="classBucketGraph.html#a1546f6d1eec5a80afaed3be7ccda0d4a" title=" " alt="" coords="450,762,627,803"/>
<area shape="poly" title=" " alt="" coords="146,694,218,717,330,743,436,764,435,769,329,749,217,722,144,699"/>
<area shape="rect" href="classBucketGraph.html#ac36d91be18f5093577ee00a38ceb771e" title=" " alt="" coords="743,619,885,645"/>
<area shape="poly" title=" " alt="" coords="170,668,727,634,727,640,170,674"/>
<area shape="rect" href="classBucketGraph.html#a7ffbc9d76efacdae82ed10f5b7009348" title=" " alt="" coords="983,497,1122,537"/>
<area shape="poly" title=" " alt="" coords="169,653,217,643,428,604,638,571,967,525,968,530,639,576,429,610,218,648,171,658"/>
<area shape="rect" href="classBucketGraph.html#a06036b30388d0f91c677340bff2c6b6a" title="Applies heuristic fixing to the current solution." alt="" coords="218,877,370,917"/>
<area shape="poly" title=" " alt="" coords="101,695,147,771,180,816,219,856,232,866,229,870,216,860,176,820,142,774,97,698"/>
<area shape="rect" href="classBucketGraph.html#a2379392ccc37be9a4a27800b116465d2" title="Resets all fixed arcs in the graph." alt="" coords="472,982,605,1023"/>
<area shape="poly" title=" " alt="" coords="96,696,109,744,133,807,169,872,192,902,219,927,246,945,275,960,338,982,400,994,457,1000,457,1005,399,999,336,987,273,965,243,950,216,931,188,905,164,875,128,809,104,746,91,697"/>
<area shape="rect" href="classBucketGraph.html#a3e1492bb1589d5edb06e80a753d000dd" title="Resets the forward and backward label pools." alt="" coords="457,1047,620,1073"/>
<area shape="poly" title=" " alt="" coords="93,696,102,756,123,837,139,880,160,922,187,961,219,994,244,1011,270,1025,327,1046,386,1057,441,1061,441,1066,385,1062,326,1051,268,1030,241,1016,216,998,183,964,156,925,134,882,118,839,97,757,88,697"/>
<area shape="rect" href="classBucketGraph.html#a395e609a3dcdb495e2a43da1742af7bd" title="Eliminates bucket arcs based on a given threshold." alt="" coords="425,428,652,454"/>
<area shape="poly" title=" " alt="" coords="345,357,493,419,491,424,343,362"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="777,287,851,313"/>
<area shape="poly" title=" " alt="" coords="365,328,418,322,761,300,761,305,418,328,366,333"/>
<area shape="poly" title=" " alt="" coords="336,315,417,279,453,266,454,271,419,284,338,320"/>
<area shape="rect" href="classBucketGraph.html#a84a8345b541e0e44e44e6215a9cdc779" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="418,338,659,363"/>
<area shape="poly" title=" " alt="" coords="365,339,403,341,402,346,365,345"/>
<area shape="poly" title=" " alt="" coords="307,316,352,262,382,233,417,208,437,198,440,203,419,213,386,237,356,266,311,320"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="1198,325,1340,365"/>
<area shape="poly" title=" " alt="" coords="567,452,630,480,668,493,708,503,767,512,814,516,861,513,920,503,944,494,968,483,1015,468,1053,460,1090,450,1135,432,1185,404,1228,373,1232,378,1188,408,1137,437,1091,455,1054,465,1016,473,970,488,946,499,921,508,862,518,814,521,767,518,707,508,667,498,628,485,565,457"/>
<area shape="rect" href="classBucketGraph.html#a07082dcbaab12cbea07fbe16acee9bcf" title="Get the opposite bucket number for a given bucket index." alt="" coords="725,453,903,493"/>
<area shape="poly" title=" " alt="" coords="653,452,710,458,710,464,653,457"/>
<area shape="rect" href="classBucketGraph.html#aa1272b542e38efd60f4fe2ba7fc01d52" title=" " alt="" coords="734,387,894,428"/>
<area shape="poly" title=" " alt="" coords="650,425,719,417,719,422,650,430"/>
<area shape="poly" title=" " alt="" coords="564,425,772,318,775,322,567,430"/>
<area shape="rect" href="classBucketGraph.html#a394e55293111f386caf44ed9e67c5653" title=" " alt="" coords="707,668,921,694"/>
<area shape="poly" title=" " alt="" coords="548,453,570,493,604,548,651,606,679,633,709,655,716,659,714,664,706,659,675,637,647,610,600,552,565,496,544,456"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="969,382,1136,423"/>
<area shape="poly" title=" " alt="" coords="884,450,966,425,967,430,886,455"/>
<area shape="poly" title=" " alt="" coords="1131,379,1183,365,1184,370,1132,384"/>
<area shape="poly" title=" " alt="" coords="891,384,968,368,1080,354,1183,346,1183,352,1080,359,969,373,892,389"/>
<area shape="poly" title=" " alt="" coords="871,692,930,701,999,702,1035,699,1070,691,1104,679,1134,662,1145,648,1159,622,1192,544,1253,380,1258,381,1197,546,1164,625,1149,651,1138,666,1106,684,1072,697,1036,704,1000,708,930,706,870,697"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="985,890,1120,915"/>
<area shape="poly" title=" " alt="" coords="843,692,884,718,923,755,934,773,940,789,945,820,951,849,958,862,971,877,974,879,970,883,967,880,954,865,946,850,939,821,935,791,929,775,919,759,880,722,840,697"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="998,840,1106,866"/>
<area shape="poly" title=" " alt="" coords="840,692,880,719,923,755,937,776,945,794,954,811,970,827,985,836,982,840,967,831,950,814,941,796,933,778,919,759,877,723,837,697"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="1000,791,1104,817"/>
<area shape="poly" title=" " alt="" coords="884,692,922,711,939,728,947,745,955,761,970,776,987,786,984,790,967,781,951,764,942,747,934,731,919,715,881,697"/>
<area shape="poly" title=" " alt="" coords="615,221,658,207,682,195,707,185,828,160,879,151,927,148,974,150,1023,159,1077,177,1137,203,1172,225,1203,253,1249,310,1245,313,1199,256,1169,229,1135,208,1075,182,1022,165,974,156,927,153,880,157,829,165,708,190,684,200,660,212,616,226"/>
<area shape="rect" href="classBucketGraph.html#a820c42b7e4fbfb599cdde7550ba3a12e" title=" " alt="" coords="737,222,891,263"/>
<area shape="poly" title=" " alt="" coords="616,240,722,240,722,245,616,245"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="974,217,1130,257"/>
<area shape="poly" title=" " alt="" coords="615,222,707,208,814,201,921,208,959,213,958,219,920,213,814,206,708,213,616,227"/>
<area shape="rect" href="classBucketGraph.html#abc324fb45e794482eb642adb8b0f664d" title="Retrieves the best label from the bucket graph based on the given topological order,..." alt="" coords="976,61,1129,101"/>
<area shape="poly" title=" " alt="" coords="615,229,638,220,658,207,668,196,674,185,680,161,686,136,694,124,706,114,735,97,767,84,833,68,900,63,960,65,960,71,900,68,834,73,768,89,738,101,709,118,698,128,691,138,685,162,679,187,672,199,661,211,640,225,617,234"/>
<area shape="poly" title=" " alt="" coords="892,258,922,272,953,294,982,319,1028,368,1024,372,978,323,950,298,919,277,890,263"/>
<area shape="poly" title=" " alt="" coords="893,251,909,260,923,273,937,296,946,326,954,398,953,484,947,577,941,669,940,755,948,826,957,855,971,877,975,881,971,885,967,880,953,857,943,827,935,755,936,669,942,576,948,484,949,399,941,327,932,299,919,276,906,264,890,256"/>
<area shape="poly" title=" " alt="" coords="891,238,958,237,959,242,891,243"/>
<area shape="poly" title=" " alt="" coords="1112,100,1138,118,1179,164,1213,216,1239,266,1258,309,1253,311,1234,269,1208,219,1175,167,1134,122,1109,104"/>
<area shape="poly" title=" " alt="" coords="660,345,881,340,1136,340,1183,341,1183,346,1136,345,881,346,660,350"/>
<area shape="poly" title=" " alt="" coords="604,361,720,386,719,391,603,367"/>
<area shape="poly" title=" " alt="" coords="612,334,761,307,762,312,613,340"/>
<area shape="poly" title=" " alt="" coords="565,154,628,110,706,63,733,51,735,55,709,68,631,114,568,159"/>
<area shape="poly" title=" " alt="" coords="888,9,946,4,1011,5,1077,18,1109,30,1138,47,1168,74,1194,105,1215,140,1232,177,1255,250,1266,309,1261,310,1249,251,1227,179,1210,143,1190,108,1164,77,1134,51,1106,35,1076,23,1011,10,946,9,888,14"/>
<area shape="poly" title=" " alt="" coords="889,41,961,58,960,63,887,46"/>
<area shape="poly" title=" " alt="" coords="885,806,922,826,937,839,947,852,956,864,970,876,978,881,976,885,967,881,952,868,942,855,933,842,919,830,882,811"/>
<area shape="poly" title=" " alt="" coords="884,805,987,833,986,838,883,810"/>
<area shape="poly" title=" " alt="" coords="891,901,970,900,970,906,891,906"/>
<area shape="poly" title=" " alt="" coords="628,800,921,869,980,883,978,888,920,874,627,806"/>
<area shape="poly" title=" " alt="" coords="627,761,692,751,766,744,844,745,921,755,946,764,970,776,991,783,989,788,968,781,944,769,920,760,844,750,766,750,692,756,628,766"/>
<area shape="poly" title=" " alt="" coords="627,782,729,784,729,790,627,787"/>
<area shape="poly" title=" " alt="" coords="621,801,661,819,676,830,685,841,695,852,709,863,732,875,729,880,706,867,691,856,681,845,672,834,658,823,619,806"/>
<area shape="poly" title=" " alt="" coords="877,616,1031,580,1098,561,1135,547,1175,509,1209,464,1234,418,1252,379,1257,381,1239,421,1213,467,1179,513,1137,551,1100,566,1032,585,878,621"/>
<area shape="poly" title=" " alt="" coords="827,617,1017,432,1020,436,831,620"/>
<area shape="poly" title=" " alt="" coords="887,634,906,642,923,654,943,682,951,710,952,739,948,767,945,795,945,822,952,849,971,877,974,880,970,884,967,880,947,852,939,823,939,794,943,766,946,738,946,711,938,684,919,658,903,646,885,639"/>
<area shape="poly" title=" " alt="" coords="887,634,906,642,923,654,939,675,947,698,948,742,948,785,955,806,971,827,986,838,983,843,967,831,950,809,943,786,943,742,942,699,935,678,919,658,903,647,885,639"/>
<area shape="poly" title=" " alt="" coords="887,635,905,643,922,654,936,669,943,685,948,716,952,747,958,762,970,777,987,788,984,792,967,780,954,765,947,749,943,717,938,686,931,672,919,658,903,647,885,640"/>
<area shape="poly" title=" " alt="" coords="827,617,871,569,896,538,918,504,935,468,944,438,951,407,966,369,996,316,1025,269,1030,272,1000,318,971,372,957,409,949,439,940,470,923,506,901,541,875,573,831,620"/>
<area shape="poly" title=" " alt="" coords="875,616,919,597,934,587,943,577,967,554,985,543,988,547,970,558,947,580,937,591,922,602,877,621"/>
<area shape="rect" href="classBucketGraph.html#aac3c165dfb9837288ad63ac34ad91041" title="Checks if a node has been visited based on a bitmap." alt="" coords="978,611,1126,652"/>
<area shape="poly" title=" " alt="" coords="885,629,962,629,962,634,885,634"/>
<area shape="rect" href="classBucketGraph.html#af2436dd7416920cc8f4bed442dc84c86" title="Processes all resources by iterating through them and applying constraints." alt="" coords="978,726,1127,767"/>
<area shape="poly" title=" " alt="" coords="887,641,922,653,973,682,1017,714,1014,718,970,687,920,658,885,646"/>
<area shape="rect" href="BucketRes_8h.html#a01cb6322e983d262cc6b687e0894e278" title=" " alt="" coords="1184,684,1354,710"/>
<area shape="poly" title=" " alt="" coords="1127,727,1194,711,1195,717,1128,732"/>
<area shape="rect" href="BucketRes_8h.html#a5cb124036dd2244f498826336ba75678" title=" " alt="" coords="1186,734,1352,759"/>
<area shape="poly" title=" " alt="" coords="1127,744,1171,744,1171,749,1127,749"/>
<area shape="rect" href="BucketRes_8h.html#adc9ed5f87789d0ecbacc1793d27f9855" title=" " alt="" coords="1201,783,1337,824"/>
<area shape="poly" title=" " alt="" coords="1128,764,1187,779,1185,784,1127,769"/>
<area shape="rect" href="BucketRes_8h.html#a621f51219a252a664bbc9d0240e9c646" title=" " alt="" coords="1191,848,1347,874"/>
<area shape="poly" title=" " alt="" coords="1119,765,1138,776,1153,791,1162,806,1171,820,1186,834,1195,839,1193,844,1182,838,1167,824,1157,809,1149,795,1134,781,1116,770"/>
<area shape="rect" href="BucketRes_8h.html#a91340d0cebc8cce4adc13c109946b6c3" title=" " alt="" coords="1187,898,1351,939"/>
<area shape="poly" title=" " alt="" coords="1123,765,1138,777,1150,791,1157,805,1163,832,1168,859,1175,871,1186,885,1188,887,1185,891,1182,888,1170,874,1163,860,1157,833,1152,806,1145,794,1134,780,1120,769"/>
<area shape="rect" href="BucketRes_8h.html#aa271d5b57809ba00a31d11a88861bc15" title=" " alt="" coords="1188,586,1351,611"/>
<area shape="poly" title=" " alt="" coords="1109,724,1134,706,1150,685,1157,663,1164,642,1182,621,1187,617,1190,621,1186,624,1169,644,1162,665,1155,687,1138,710,1112,728"/>
<area shape="rect" href="BucketRes_8h.html#af7d18c39ae22f1ea2c5d3cd25971c9d2" title=" " alt="" coords="1191,635,1347,661"/>
<area shape="poly" title=" " alt="" coords="1101,723,1135,706,1158,687,1183,670,1195,664,1197,669,1185,674,1161,691,1137,710,1104,728"/>
<area shape="poly" title=" " alt="" coords="371,894,506,898,583,905,660,917,684,926,708,933,767,941,814,943,920,933,995,917,996,923,921,938,814,949,767,947,707,938,682,931,659,922,583,911,506,904,370,899"/>
<area shape="poly" title=" " alt="" coords="292,876,293,783,297,716,307,640,322,559,344,477,375,398,416,324,444,293,477,269,480,273,448,297,420,327,380,400,349,479,327,561,312,641,303,716,298,783,297,876"/>
<area shape="poly" title=" " alt="" coords="295,876,313,733,342,521,379,320,397,248,416,209,437,192,440,196,420,212,403,250,384,321,348,522,318,734,300,877"/>
<area shape="rect" href="classBucketGraph.html#a8abd2e954b1f55ea9d1da79f4df33244" title=" " alt="" coords="468,932,609,958"/>
<area shape="poly" title=" " alt="" coords="371,909,455,926,454,931,370,915"/>
<area shape="poly" title=" " alt="" coords="326,916,369,943,419,968,459,982,457,987,417,973,366,947,323,920"/>
<area shape="poly" title=" " alt="" coords="310,917,353,975,384,1006,419,1032,443,1043,441,1048,417,1037,381,1010,349,979,306,920"/>
</map>
</div>

</div>
</div>
<a id="adea4cf77fe1775dac8bb3aa80b4c0dd4" name="adea4cf77fe1775dac8bb3aa80b4c0dd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adea4cf77fe1775dac8bb3aa80b4c0dd4">&#9670;&#160;</a></span>bucket_fixing()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::bucket_fixing </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fixes the bucket arcs for the specified stage. </p>
<p>This function performs the bucket arc fixing for the given stage. It initializes necessary variables and runs labeling algorithms to compute forward and backward reduced costs. Based on the computed gap, it performs arc elimination in both forward and backward directions and generates the necessary arcs. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l01075">1075</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1075</span>                                {</div>
<div class="line"><span class="lineno"> 1076</span>    <span class="comment">// Only execute if not already fixed.</span></div>
<div class="line"><span class="lineno"> 1077</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a0febdc3971ad6124d3c7cf689048bc4e">fixed</a>) {</div>
<div class="line"><span class="lineno"> 1078</span>        fmt::print(<span class="stringliteral">&quot;\033[34m_STARTING BUCKET FIXING PROCEDURE\033[0m\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1079</span>        <a class="code hl_variable" href="#a0febdc3971ad6124d3c7cf689048bc4e">fixed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1080</span> </div>
<div class="line"><span class="lineno"> 1081</span>        <span class="comment">// Compute gap and check feasibility (if gap is negative, exit</span></div>
<div class="line"><span class="lineno"> 1082</span>        <span class="comment">// early).</span></div>
<div class="line"><span class="lineno"> 1083</span>        <a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a> = std::ceil(<a class="code hl_variable" href="#acde574f4709bc762b0548829aa37a766">incumbent</a> - (<a class="code hl_variable" href="#af227da41aee6febd9cb4d2c3ba1d1cc4">relaxation</a> + std::min(0.0, <a class="code hl_variable" href="#a0aff433ba355139b060e4f97ed90510e">min_red_cost</a>)));</div>
<div class="line"><span class="lineno"> 1084</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1085</span>            fmt::print(</div>
<div class="line"><span class="lineno"> 1086</span>                <span class="stringliteral">&quot;\033[34m_BUCKET FIXING PROCEDURE CAN&#39;T BE EXECUTED DUE TO &quot;</span></div>
<div class="line"><span class="lineno"> 1087</span>                <span class="stringliteral">&quot;GAP\033[0m\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1088</span>            fmt::print(<span class="stringliteral">&quot;gap: {}\n&quot;</span>, <a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a>);</div>
<div class="line"><span class="lineno"> 1089</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1090</span>        }</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>        <span class="comment">// Initialize common structures, arc scores, warm labels, etc.</span></div>
<div class="line"><span class="lineno"> 1093</span>        <a class="code hl_function" href="#a8b934dd825af2c3536269ac190b398b3">common_initialization</a>();</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>        <span class="comment">// Initialize forward and backward c_bar vectors.</span></div>
<div class="line"><span class="lineno"> 1096</span>        std::vector&lt;double&gt; forward_cbar(</div>
<div class="line"><span class="lineno"> 1097</span>            <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.size(), std::numeric_limits&lt;double&gt;::infinity());</div>
<div class="line"><span class="lineno"> 1098</span>        std::vector&lt;double&gt; backward_cbar(</div>
<div class="line"><span class="lineno"> 1099</span>            <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>.size(), std::numeric_limits&lt;double&gt;::infinity());</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>        <span class="comment">// Run labeling algorithms for Stage Four with full mode.</span></div>
<div class="line"><span class="lineno"> 1102</span>        <a class="code hl_function" href="#a66484f0fb3c999584f77880b3dd54f7c">run_labeling_algorithms&lt;Stage::Four, Full::Full&gt;</a>(forward_cbar,</div>
<div class="line"><span class="lineno"> 1103</span>                                                         backward_cbar);</div>
<div class="line"><span class="lineno"> 1104</span>        <span class="comment">// Save computed c_bar values.</span></div>
<div class="line"><span class="lineno"> 1105</span>        <a class="code hl_variable" href="#a2ad2f263fc468798163873408972df73">fw_c_bar</a> = forward_cbar;</div>
<div class="line"><span class="lineno"> 1106</span>        <a class="code hl_variable" href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">bw_c_bar</a> = backward_cbar;</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span>        <span class="comment">// Print info about bucket arc elimination.</span></div>
<div class="line"><span class="lineno"> 1109</span>        <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;performing bucket arc elimination with theta = {}\n&quot;</span>, <a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a>);</div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>        <span class="comment">// Run forward and backward sections in parallel.</span></div>
<div class="line"><span class="lineno"> 1112</span>        <a class="code hl_define" href="Definitions_8h.html#aae3681742ccc706b45390ec5d3392d58">PARALLEL_SECTIONS</a>(</div>
<div class="line"><span class="lineno"> 1113</span>            work, <a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>,</div>
<div class="line"><span class="lineno"> 1114</span>            <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> {</div>
<div class="line"><span class="lineno"> 1115</span>                <span class="comment">// Section 1: Process forward direction.</span></div>
<div class="line"><span class="lineno"> 1116</span>                <a class="code hl_function" href="#a395e609a3dcdb495e2a43da1742af7bd">BucketArcElimination&lt;Direction::Forward&gt;</a>(<a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a>);</div>
<div class="line"><span class="lineno"> 1117</span>                <a class="code hl_function" href="#a84a8345b541e0e44e44e6215a9cdc779">ObtainJumpBucketArcs&lt;Direction::Forward&gt;</a>();</div>
<div class="line"><span class="lineno"> 1118</span>            },</div>
<div class="line"><span class="lineno"> 1119</span>            <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> {</div>
<div class="line"><span class="lineno"> 1120</span>                <span class="comment">// Section 2: Process backward direction.</span></div>
<div class="line"><span class="lineno"> 1121</span>                <a class="code hl_function" href="#a395e609a3dcdb495e2a43da1742af7bd">BucketArcElimination&lt;Direction::Backward&gt;</a>(<a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a>);</div>
<div class="line"><span class="lineno"> 1122</span>                <a class="code hl_function" href="#a84a8345b541e0e44e44e6215a9cdc779">ObtainJumpBucketArcs&lt;Direction::Backward&gt;</a>();</div>
<div class="line"><span class="lineno"> 1123</span>            });</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>        <span class="comment">// Generate arcs after elimination.</span></div>
<div class="line"><span class="lineno"> 1126</span>        <span class="comment">// generate_arcs();</span></div>
<div class="line"><span class="lineno"> 1127</span>        fmt::print(<span class="stringliteral">&quot;\033[34m_BUCKET FIXING PROCEDURE FINISHED\033[0m\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>        <a class="code hl_variable" href="#a13e35d250720ad2ec3210ea0cbedf7e8">just_fixed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1130</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1131</span>    }</div>
<div class="line"><span class="lineno"> 1132</span>    <a class="code hl_variable" href="#a13e35d250720ad2ec3210ea0cbedf7e8">just_fixed</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1133</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a086546d06aa565cdd48f436973ebc496"><div class="ttname"><a href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a></div><div class="ttdeci">void print_info(fmt::format_string&lt; Args... &gt; format, Args &amp;&amp;...args)</div><div class="ttdoc">Prints an informational message with a specific format.</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00157">Definitions.h:157</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a0aff433ba355139b060e4f97ed90510e"><div class="ttname"><a href="#a0aff433ba355139b060e4f97ed90510e">BucketGraph::min_red_cost</a></div><div class="ttdeci">double min_red_cost</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00441">BucketGraph.h:441</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a0febdc3971ad6124d3c7cf689048bc4e"><div class="ttname"><a href="#a0febdc3971ad6124d3c7cf689048bc4e">BucketGraph::fixed</a></div><div class="ttdeci">bool fixed</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00282">BucketGraph.h:282</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a13e35d250720ad2ec3210ea0cbedf7e8"><div class="ttname"><a href="#a13e35d250720ad2ec3210ea0cbedf7e8">BucketGraph::just_fixed</a></div><div class="ttdeci">bool just_fixed</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00111">BucketGraph.h:111</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a2ad2f263fc468798163873408972df73"><div class="ttname"><a href="#a2ad2f263fc468798163873408972df73">BucketGraph::fw_c_bar</a></div><div class="ttdeci">std::vector&lt; double &gt; fw_c_bar</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00377">BucketGraph.h:377</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a395e609a3dcdb495e2a43da1742af7bd"><div class="ttname"><a href="#a395e609a3dcdb495e2a43da1742af7bd">BucketGraph::BucketArcElimination</a></div><div class="ttdeci">void BucketArcElimination(double theta)</div><div class="ttdoc">Eliminates bucket arcs based on a given threshold.</div><div class="ttdef"><b>Definition</b> <a href="BucketJump_8h_source.html#l00219">BucketJump.h:219</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a7a95ce9361bc4ee30c1e5a5b420f4fe0"><div class="ttname"><a href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">BucketGraph::bw_c_bar</a></div><div class="ttdeci">std::vector&lt; double &gt; bw_c_bar</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00378">BucketGraph.h:378</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a84a8345b541e0e44e44e6215a9cdc779"><div class="ttname"><a href="#a84a8345b541e0e44e44e6215a9cdc779">BucketGraph::ObtainJumpBucketArcs</a></div><div class="ttdeci">void ObtainJumpBucketArcs()</div><div class="ttdoc">Obtains jump bucket arcs for the BucketGraph.</div><div class="ttdef"><b>Definition</b> <a href="BucketJump_8h_source.html#l00390">BucketJump.h:390</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aab58eac3d548656acb6b33da0d54b799"><div class="ttname"><a href="#aab58eac3d548656acb6b33da0d54b799">BucketGraph::gap</a></div><div class="ttdeci">double gap</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00352">BucketGraph.h:352</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_acde574f4709bc762b0548829aa37a766"><div class="ttname"><a href="#acde574f4709bc762b0548829aa37a766">BucketGraph::incumbent</a></div><div class="ttdeci">double incumbent</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00280">BucketGraph.h:280</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_af227da41aee6febd9cb4d2c3ba1d1cc4"><div class="ttname"><a href="#af227da41aee6febd9cb4d2c3ba1d1cc4">BucketGraph::relaxation</a></div><div class="ttdeci">double relaxation</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00281">BucketGraph.h:281</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_adea4cf77fe1775dac8bb3aa80b4c0dd4_cgraph.png" border="0" usemap="#aclassBucketGraph_adea4cf77fe1775dac8bb3aa80b4c0dd4_cgraph" alt=""/></div>
<map name="aclassBucketGraph_adea4cf77fe1775dac8bb3aa80b4c0dd4_cgraph" id="aclassBucketGraph_adea4cf77fe1775dac8bb3aa80b4c0dd4_cgraph">
<area shape="rect" title="Fixes the bucket arcs for the specified stage." alt="" coords="5,537,148,577"/>
<area shape="rect" href="classBucketGraph.html#a395e609a3dcdb495e2a43da1742af7bd" title="Eliminates bucket arcs based on a given threshold." alt="" coords="847,544,1074,570"/>
<area shape="poly" title=" " alt="" coords="148,554,831,554,831,560,148,560"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="1198,671,1273,696"/>
<area shape="poly" title=" " alt="" coords="120,575,188,606,279,639,382,666,435,674,488,677,703,677,1183,680,1183,686,703,682,488,682,435,679,381,671,277,644,186,611,117,580"/>
<area shape="rect" href="classBucketGraph.html#a8b934dd825af2c3536269ac190b398b3" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="884,447,1037,488"/>
<area shape="poly" title=" " alt="" coords="148,542,195,536,569,496,868,471,869,477,570,501,196,541,149,548"/>
<area shape="rect" href="classBucketGraph.html#a84a8345b541e0e44e44e6215a9cdc779" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="840,613,1081,639"/>
<area shape="poly" title=" " alt="" coords="148,560,824,613,824,618,148,565"/>
<area shape="rect" href="classBucketGraph.html#a66484f0fb3c999584f77880b3dd54f7c" title="Runs forward and backward labeling algorithms in parallel and synchronizes the results." alt="" coords="196,298,368,339"/>
<area shape="poly" title=" " alt="" coords="93,534,251,349,255,353,97,538"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="1606,407,1747,448"/>
<area shape="poly" title=" " alt="" coords="1052,568,1158,577,1286,577,1355,573,1424,563,1492,548,1557,526,1583,513,1607,496,1647,458,1651,461,1611,500,1586,518,1559,531,1493,553,1425,568,1355,578,1287,583,1158,582,1052,573"/>
<area shape="rect" href="classBucketGraph.html#a07082dcbaab12cbea07fbe16acee9bcf" title="Get the opposite bucket number for a given bucket index." alt="" coords="1147,325,1324,365"/>
<area shape="poly" title=" " alt="" coords="1008,541,1045,524,1079,498,1090,482,1097,468,1101,437,1107,407,1114,392,1127,376,1132,372,1136,376,1131,380,1119,395,1112,409,1107,438,1102,469,1095,485,1083,501,1048,528,1010,546"/>
<area shape="rect" href="classBucketGraph.html#aa1272b542e38efd60f4fe2ba7fc01d52" title=" " alt="" coords="1156,606,1315,647"/>
<area shape="poly" title=" " alt="" coords="1015,568,1142,600,1140,605,1014,573"/>
<area shape="poly" title=" " alt="" coords="1017,568,1050,581,1083,599,1098,614,1107,629,1115,643,1130,656,1156,668,1184,675,1183,681,1155,673,1128,660,1111,646,1102,632,1094,617,1079,603,1048,585,1015,573"/>
<area shape="rect" href="classBucketGraph.html#a394e55293111f386caf44ed9e67c5653" title=" " alt="" coords="1129,259,1342,284"/>
<area shape="poly" title=" " alt="" coords="1011,541,1048,524,1079,498,1094,474,1101,451,1101,405,1103,359,1110,335,1127,311,1157,289,1160,293,1131,315,1115,338,1108,360,1107,406,1106,452,1099,476,1083,501,1050,529,1013,546"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="1390,309,1558,349"/>
<area shape="poly" title=" " alt="" coords="1325,336,1375,333,1375,338,1325,342"/>
<area shape="poly" title=" " alt="" coords="1534,347,1559,359,1630,397,1627,402,1556,363,1531,352"/>
<area shape="poly" title=" " alt="" coords="1316,633,1372,635,1434,630,1498,617,1556,592,1591,565,1620,530,1643,494,1659,461,1664,463,1647,496,1624,533,1595,568,1559,597,1499,622,1435,636,1372,640,1316,639"/>
<area shape="poly" title=" " alt="" coords="1321,256,1341,244,1351,233,1358,221,1362,195,1368,169,1376,156,1389,145,1434,123,1474,115,1515,122,1559,145,1588,169,1612,199,1631,231,1646,266,1666,334,1675,391,1670,392,1660,335,1641,268,1626,234,1607,202,1584,173,1556,150,1513,127,1474,120,1435,128,1392,150,1380,160,1373,171,1368,196,1363,222,1356,236,1344,248,1324,260"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="1407,259,1541,284"/>
<area shape="poly" title=" " alt="" coords="1343,269,1391,269,1391,274,1343,274"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="1420,209,1528,235"/>
<area shape="poly" title=" " alt="" coords="1301,255,1404,234,1405,239,1302,261"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="1422,160,1526,186"/>
<area shape="poly" title=" " alt="" coords="1314,256,1341,244,1355,233,1364,220,1374,207,1389,195,1406,186,1409,191,1392,199,1377,211,1369,223,1359,236,1344,249,1316,261"/>
<area shape="poly" title=" " alt="" coords="1038,484,1142,505,1273,520,1344,522,1416,520,1488,512,1557,497,1600,479,1637,455,1640,460,1602,484,1558,502,1488,517,1416,526,1344,528,1272,525,1141,510,1037,490"/>
<area shape="rect" href="classBucketGraph.html#a820c42b7e4fbfb599cdde7550ba3a12e" title=" " alt="" coords="1159,390,1312,431"/>
<area shape="poly" title=" " alt="" coords="1037,449,1143,427,1144,432,1038,454"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="1396,447,1552,488"/>
<area shape="poly" title=" " alt="" coords="1038,465,1380,465,1380,470,1038,470"/>
<area shape="rect" href="classBucketGraph.html#abc324fb45e794482eb642adb8b0f664d" title="Retrieves the best label from the bucket graph based on the given topological order,..." alt="" coords="1159,194,1312,235"/>
<area shape="poly" title=" " alt="" coords="969,446,992,404,1027,349,1073,293,1099,267,1127,244,1143,235,1146,239,1131,248,1102,271,1076,296,1031,352,997,406,974,448"/>
<area shape="poly" title=" " alt="" coords="1304,387,1341,374,1403,352,1405,357,1343,379,1305,392"/>
<area shape="poly" title=" " alt="" coords="1312,391,1341,375,1357,356,1364,336,1371,315,1389,295,1396,290,1399,294,1392,299,1376,318,1369,338,1361,358,1344,379,1314,396"/>
<area shape="rect" href="classArcDuals.html#ac75e53f0c4f24e6aca539c544e9f8109" title=" " alt="" coords="1412,397,1536,423"/>
<area shape="poly" title=" " alt="" coords="1313,408,1396,408,1396,413,1313,413"/>
<area shape="poly" title=" " alt="" coords="1313,426,1381,443,1380,448,1312,431"/>
<area shape="poly" title=" " alt="" coords="1440,399,1434,389,1438,379,1451,373,1474,371,1499,373,1512,380,1509,385,1497,379,1474,376,1453,378,1441,383,1439,388,1444,395"/>
<area shape="poly" title=" " alt="" coords="1260,191,1316,150,1353,128,1393,109,1436,95,1479,89,1520,94,1559,112,1591,140,1616,174,1636,211,1651,251,1670,328,1677,391,1671,392,1664,329,1646,252,1631,213,1612,176,1587,144,1556,116,1519,99,1479,95,1437,100,1395,114,1356,133,1319,155,1263,196"/>
<area shape="poly" title=" " alt="" coords="982,637,1046,674,1087,693,1130,706,1188,717,1235,720,1282,715,1342,706,1407,698,1457,691,1504,675,1556,640,1595,599,1625,551,1647,503,1662,462,1668,464,1652,505,1630,554,1599,602,1559,644,1506,680,1459,696,1407,704,1343,712,1283,721,1235,725,1188,723,1128,711,1085,698,1044,679,980,642"/>
<area shape="poly" title=" " alt="" coords="1082,624,1141,624,1141,629,1082,629"/>
<area shape="poly" title=" " alt="" coords="1026,637,1184,670,1183,675,1025,642"/>
<area shape="rect" href="classBucketGraph.html#aa05e883574a58a277e1dbf8cfcdcde11" title=" " alt="" coords="416,181,563,221"/>
<area shape="poly" title=" " alt="" coords="319,295,437,227,440,232,321,300"/>
<area shape="poly" title=" " alt="" coords="498,179,514,148,539,110,571,73,610,44,658,22,701,9,740,3,778,3,859,12,959,18,1237,18,1333,15,1411,14,1447,20,1483,32,1520,52,1559,83,1591,117,1616,156,1636,198,1651,241,1669,325,1677,391,1671,392,1664,326,1646,243,1631,200,1612,158,1587,120,1556,87,1517,57,1481,37,1446,25,1411,20,1333,20,1237,24,959,24,858,17,778,9,741,9,702,14,660,27,613,49,574,77,543,113,519,150,502,182"/>
<area shape="poly" title=" " alt="" coords="564,216,612,224,757,233,903,233,1036,228,1144,220,1144,226,1036,233,903,238,757,238,611,229,563,221"/>
<area shape="rect" href="BucketAVX_8h.html#ae227f266495f4f4b7271522f58d49b41" title=" " alt="" coords="614,58,789,99"/>
<area shape="poly" title=" " alt="" coords="513,178,557,144,610,109,623,103,625,108,613,114,560,148,517,182"/>
<area shape="rect" href="classBucketGraph.html#a8349140e5144647cfc32a12c9834a16f" title=" " alt="" coords="613,123,790,164"/>
<area shape="poly" title=" " alt="" coords="563,178,609,166,610,171,564,184"/>
<area shape="rect" href="classBucketGraph.html#a469baec04539f3c8ae984f5558fbfc25" title=" " alt="" coords="611,340,792,366"/>
<area shape="poly" title=" " alt="" coords="521,220,671,329,668,333,518,224"/>
<area shape="rect" href="structLabel.html#a19a3474af3d3404369c0fe3cf1797ff2" title=" " alt="" coords="633,188,770,214"/>
<area shape="poly" title=" " alt="" coords="564,198,618,198,618,204,564,204"/>
<area shape="poly" title=" " alt="" coords="715,365,765,426,801,464,841,497,875,518,910,535,907,540,872,523,838,502,798,467,761,430,710,368"/>
<area shape="poly" title=" " alt="" coords="792,349,1132,344,1132,349,792,354"/>
<area shape="poly" title=" " alt="" coords="782,337,839,328,1125,285,1126,290,840,333,783,342"/>
<area shape="poly" title=" " alt="" coords="710,365,725,406,752,464,791,526,815,555,841,580,863,594,886,605,884,610,860,599,838,584,811,558,787,529,748,466,720,408,705,367"/>
<area shape="poly" title=" " alt="" coords="666,341,659,331,663,322,678,316,702,313,727,316,741,323,738,328,726,321,701,319,679,321,667,325,665,331,670,338"/>
</map>
</div>

</div>
</div>
<a id="a395e609a3dcdb495e2a43da1742af7bd" name="a395e609a3dcdb495e2a43da1742af7bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a395e609a3dcdb495e2a43da1742af7bd">&#9670;&#160;</a></span>BucketArcElimination()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::BucketArcElimination </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>theta</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Eliminates bucket arcs based on a given threshold. </p>
<p>This function performs bucket arc elimination in either the forward or backward direction, depending on the template parameter <code>D</code>. It resets all elements in the fixed buckets to 0, prints information about the direction of elimination, and processes arcs to update the local bucket arc map and fixed buckets. </p>

<p class="definition">Definition at line <a class="el" href="BucketJump_8h_source.html#l00219">219</a> of file <a class="el" href="BucketJump_8h_source.html">BucketJump.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  219</span>                                                   {</div>
<div class="line"><span class="lineno">  220</span>    <span class="comment">// Select direction-specific containers.</span></div>
<div class="line"><span class="lineno">  221</span>    <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  222</span>    <span class="keyword">auto</span> &amp;Phi = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>, <a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>);</div>
<div class="line"><span class="lineno">  223</span>    <span class="keyword">auto</span> &amp;Phi_opposite = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>, <a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>);</div>
<div class="line"><span class="lineno">  224</span>    <span class="keyword">auto</span> &amp;buckets_size = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno">  225</span>    <span class="keyword">auto</span> &amp;fixed_buckets_bitmap =</div>
<div class="line"><span class="lineno">  226</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a8e279c08b248c529a0efec509e8a5a47">fw_fixed_buckets_bitmap</a>, <a class="code hl_variable" href="#adf35ff56b8e466beb5b9699379d84e67">bw_fixed_buckets_bitmap</a>);</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="comment">// Reset fixed buckets bitmap.</span></div>
<div class="line"><span class="lineno">  229</span>    fixed_buckets_bitmap.assign(fixed_buckets_bitmap.size(), 0);</div>
<div class="line"><span class="lineno">  230</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> n_buckets = buckets_size;</div>
<div class="line"><span class="lineno">  231</span>    <span class="comment">// Compute the number of 64-bit segments for bitmaps.</span></div>
<div class="line"><span class="lineno">  232</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a> = (buckets_size + 63) / 64;</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// Define ArcMap to store arc information.</span></div>
<div class="line"><span class="lineno">  235</span>    <span class="keyword">using </span>ArcMap =</div>
<div class="line"><span class="lineno">  236</span>        ankerl::unordered_dense::map&lt;std::pair&lt;std::pair&lt;int, int&gt;, <span class="keywordtype">int</span>&gt;,</div>
<div class="line"><span class="lineno">  237</span>                                     ankerl::unordered_dense::set&lt;int&gt;,</div>
<div class="line"><span class="lineno">  238</span>                                     arc_map_hash&gt;;</div>
<div class="line"><span class="lineno">  239</span>    ArcMap local_B_Ba_b;</div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordtype">int</span> removed_arcs = 0;</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>    <span class="comment">// Helper: create an arc key from two node IDs and a bucket.</span></div>
<div class="line"><span class="lineno">  243</span>    <span class="keyword">auto</span> create_arc_key = [](<span class="keywordtype">int</span> from, <span class="keywordtype">int</span> to, <span class="keywordtype">int</span> b) {</div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">return</span> std::make_pair(std::make_pair(from, to), b);</div>
<div class="line"><span class="lineno">  245</span>    };</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="comment">// Helper lambda to quickly reset a bitmap vector.</span></div>
<div class="line"><span class="lineno">  248</span>    <span class="keyword">auto</span> reset_bitmap = [&amp;](std::vector&lt;uint64_t&gt; &amp;bitmap) {</div>
<div class="line"><span class="lineno">  249</span>        <span class="comment">// Using memset since our vector is contiguous.</span></div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">if</span> (!bitmap.empty())</div>
<div class="line"><span class="lineno">  251</span>            std::memset(bitmap.data(), 0, bitmap.size() * <span class="keyword">sizeof</span>(uint64_t));</div>
<div class="line"><span class="lineno">  252</span>    };</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="comment">// Lambda: Process jump arcs for bucket &#39;b&#39;.</span></div>
<div class="line"><span class="lineno">  255</span>    <span class="keyword">auto</span> process_jump_arcs = [&amp;](<span class="keywordtype">int</span> b) {</div>
<div class="line"><span class="lineno">  256</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;jump_arcs = buckets[b].template get_jump_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">if</span> (jump_arcs.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>        std::vector&lt;uint64_t&gt; Bvisited(<a class="code hl_variable" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a>, 0);</div>
<div class="line"><span class="lineno">  260</span>        <span class="keyword">auto</span> labels = buckets[b].get_labels();</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;a : jump_arcs) {</div>
<div class="line"><span class="lineno">  263</span>            <span class="keyword">auto</span> increment = a.resource_increment;</div>
<div class="line"><span class="lineno">  264</span>            <span class="keyword">auto</span> arc_key = create_arc_key(a.from_bucket, a.to_bucket, b);</div>
<div class="line"><span class="lineno">  265</span>            <span class="keywordtype">int</span> b_opposite =</div>
<div class="line"><span class="lineno">  266</span>                <a class="code hl_function" href="#a07082dcbaab12cbea07fbe16acee9bcf">get_opposite_bucket_number&lt;D&gt;</a>(a.to_bucket, increment);</div>
<div class="line"><span class="lineno">  267</span>            <span class="keyword">auto</span> &amp;Bidi_map = local_B_Ba_b[arc_key];</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>            <span class="comment">// Process each label in the current bucket.</span></div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;L_item : labels) {</div>
<div class="line"><span class="lineno">  271</span>                Bidi_map.insert(b);</div>
<div class="line"><span class="lineno">  272</span>                <span class="comment">// Reset Bvisited for each UpdateBucketsSet call.</span></div>
<div class="line"><span class="lineno">  273</span>                reset_bitmap(Bvisited);</div>
<div class="line"><span class="lineno">  274</span>                <a class="code hl_function" href="#a394e55293111f386caf44ed9e67c5653">UpdateBucketsSet&lt;D&gt;</a>(theta, L_item, Bidi_map, b_opposite,</div>
<div class="line"><span class="lineno">  275</span>                                    Bvisited);</div>
<div class="line"><span class="lineno">  276</span>            }</div>
<div class="line"><span class="lineno">  277</span>        }</div>
<div class="line"><span class="lineno">  278</span>    };</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>    <span class="comment">// Lambda: Process bucket arcs for bucket &#39;b&#39;.</span></div>
<div class="line"><span class="lineno">  281</span>    <span class="keyword">auto</span> process_bucket_arcs = [&amp;](<span class="keywordtype">int</span> b) {</div>
<div class="line"><span class="lineno">  282</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket_arcs = buckets[b].template get_bucket_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">if</span> (bucket_arcs.empty()) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>        <span class="keyword">auto</span> labels = buckets[b].get_labels();</div>
<div class="line"><span class="lineno">  286</span>        std::vector&lt;uint64_t&gt; Bvisited(<a class="code hl_variable" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a>, 0);</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;a : bucket_arcs) {</div>
<div class="line"><span class="lineno">  289</span>            <span class="comment">// Build the resource increment vector.</span></div>
<div class="line"><span class="lineno">  290</span>            std::vector&lt;double&gt; increment(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(), 0.0);</div>
<div class="line"><span class="lineno">  291</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(); ++r) {</div>
<div class="line"><span class="lineno">  292</span>                <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>)</div>
<div class="line"><span class="lineno">  293</span>                    increment[r] = buckets[b].lb[r] + a.resource_increment[r];</div>
<div class="line"><span class="lineno">  294</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  295</span>                    increment[r] = buckets[b].ub[r] - a.resource_increment[r];</div>
<div class="line"><span class="lineno">  296</span>            }</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>            <span class="keyword">auto</span> arc_key = create_arc_key(buckets[a.from_bucket].node_id,</div>
<div class="line"><span class="lineno">  299</span>                                          buckets[a.to_bucket].node_id, b);</div>
<div class="line"><span class="lineno">  300</span>            <span class="keywordtype">int</span> b_opposite =</div>
<div class="line"><span class="lineno">  301</span>                <a class="code hl_function" href="#a07082dcbaab12cbea07fbe16acee9bcf">get_opposite_bucket_number&lt;D&gt;</a>(a.to_bucket, increment);</div>
<div class="line"><span class="lineno">  302</span>            <span class="keyword">auto</span> &amp;Bidi_map = local_B_Ba_b[arc_key];</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>            <span class="comment">// Process each label in bucket &#39;b&#39;.</span></div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;L_item : labels) {</div>
<div class="line"><span class="lineno">  306</span>                Bidi_map.insert(b);</div>
<div class="line"><span class="lineno">  307</span>                reset_bitmap(Bvisited);</div>
<div class="line"><span class="lineno">  308</span>                <a class="code hl_function" href="#a394e55293111f386caf44ed9e67c5653">UpdateBucketsSet&lt;D&gt;</a>(theta, L_item, Bidi_map, b_opposite,</div>
<div class="line"><span class="lineno">  309</span>                                    Bvisited);</div>
<div class="line"><span class="lineno">  310</span>            }</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>            <span class="comment">// Check if the opposite direction contains arcs.</span></div>
<div class="line"><span class="lineno">  313</span>            <span class="keywordflow">if</span> (<span class="keyword">auto</span> it = local_B_Ba_b.find(arc_key);</div>
<div class="line"><span class="lineno">  314</span>                it != local_B_Ba_b.end()) {</div>
<div class="line"><span class="lineno">  315</span>                <span class="keyword">auto</span> &amp;Bidi_map_opposite = it-&gt;second;</div>
<div class="line"><span class="lineno">  316</span>                <span class="keywordtype">bool</span> contains = std::any_of(</div>
<div class="line"><span class="lineno">  317</span>                    Phi_opposite[b_opposite].begin(),</div>
<div class="line"><span class="lineno">  318</span>                    Phi_opposite[b_opposite].end(), [&amp;](<span class="keywordtype">int</span> b_prime) {</div>
<div class="line"><span class="lineno">  319</span>                        <span class="keywordflow">return</span> Bidi_map_opposite.find(b_prime) !=</div>
<div class="line"><span class="lineno">  320</span>                               Bidi_map_opposite.end();</div>
<div class="line"><span class="lineno">  321</span>                    });</div>
<div class="line"><span class="lineno">  322</span>                <span class="keywordflow">if</span> (!contains &amp;&amp; Bidi_map_opposite.find(b_opposite) ==</div>
<div class="line"><span class="lineno">  323</span>                                     Bidi_map_opposite.end()) {</div>
<div class="line"><span class="lineno">  324</span>                    <span class="keywordtype">size_t</span> bit_pos =</div>
<div class="line"><span class="lineno">  325</span>                        <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(a.from_bucket) * n_buckets +</div>
<div class="line"><span class="lineno">  326</span>                        a.to_bucket;</div>
<div class="line"><span class="lineno">  327</span>                    fixed_buckets_bitmap[bit_pos / 64] |=</div>
<div class="line"><span class="lineno">  328</span>                        (1ULL &lt;&lt; (bit_pos % 64));</div>
<div class="line"><span class="lineno">  329</span>                    ++removed_arcs;</div>
<div class="line"><span class="lineno">  330</span>                }</div>
<div class="line"><span class="lineno">  331</span>            }</div>
<div class="line"><span class="lineno">  332</span>        }</div>
<div class="line"><span class="lineno">  333</span>    };</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="comment">// Process each bucket.</span></div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; b &lt; buckets_size; ++b) {</div>
<div class="line"><span class="lineno">  337</span>        <span class="comment">// Process node arcs.</span></div>
<div class="line"><span class="lineno">  338</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;node_arcs =</div>
<div class="line"><span class="lineno">  339</span>            nodes[buckets[b].node_id].template get_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  340</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;a : node_arcs) {</div>
<div class="line"><span class="lineno">  341</span>            <span class="keyword">auto</span> arc_key = std::make_pair(std::make_pair(a.from, a.to), b);</div>
<div class="line"><span class="lineno">  342</span>            <span class="keyword">auto</span> &amp;Bidi_map = local_B_Ba_b[arc_key];</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordflow">if</span> (!Phi[b].empty()) {</div>
<div class="line"><span class="lineno">  345</span>                Bidi_map.insert(b);</div>
<div class="line"><span class="lineno">  346</span>                <span class="comment">// Merge neighbor bucket arcs.</span></div>
<div class="line"><span class="lineno">  347</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;b_prime : Phi[b]) {</div>
<div class="line"><span class="lineno">  348</span>                    <span class="keyword">auto</span> neighbor_key =</div>
<div class="line"><span class="lineno">  349</span>                        std::make_pair(std::make_pair(a.from, a.to), b_prime);</div>
<div class="line"><span class="lineno">  350</span>                    <span class="keywordflow">if</span> (<span class="keyword">auto</span> it = local_B_Ba_b.find(neighbor_key);</div>
<div class="line"><span class="lineno">  351</span>                        it != local_B_Ba_b.end()) {</div>
<div class="line"><span class="lineno">  352</span>                        Bidi_map.insert(it-&gt;second.begin(), it-&gt;second.end());</div>
<div class="line"><span class="lineno">  353</span>                    }</div>
<div class="line"><span class="lineno">  354</span>                }</div>
<div class="line"><span class="lineno">  355</span>            }</div>
<div class="line"><span class="lineno">  356</span>        }</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>        <span class="comment">// Process jump arcs and bucket arcs.</span></div>
<div class="line"><span class="lineno">  359</span>        process_jump_arcs(b);</div>
<div class="line"><span class="lineno">  360</span>        process_bucket_arcs(b);</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        <span class="comment">// iterate over fixed buckets and remove them</span></div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b_prime = 0; b_prime &lt; buckets_size; ++b_prime) {</div>
<div class="line"><span class="lineno">  364</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#aa1272b542e38efd60f4fe2ba7fc01d52">is_bucket_fixed&lt;D&gt;</a>(b, b_prime)) {</div>
<div class="line"><span class="lineno">  365</span>                buckets[b].template remove_bucket_arc&lt;D&gt;(b, b_prime);</div>
<div class="line"><span class="lineno">  366</span>            }</div>
<div class="line"><span class="lineno">  367</span>        }</div>
<div class="line"><span class="lineno">  368</span>    }</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>    <span class="comment">// Print the total number of removed arcs.</span></div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>)</div>
<div class="line"><span class="lineno">  372</span>        <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;[Fw] removed arcs: {}\n&quot;</span>, removed_arcs);</div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  374</span>        <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;[Bw] removed arcs: {}\n&quot;</span>, removed_arcs);</div>
<div class="line"><span class="lineno">  375</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a07082dcbaab12cbea07fbe16acee9bcf"><div class="ttname"><a href="#a07082dcbaab12cbea07fbe16acee9bcf">BucketGraph::get_opposite_bucket_number</a></div><div class="ttdeci">int get_opposite_bucket_number(int current_bucket_index, std::vector&lt; double &gt; &amp;inc)</div><div class="ttdoc">Get the opposite bucket number for a given bucket index.</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l01021">BucketUtils.h:1021</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a24e94d447afd791b52fed701e928d1c2"><div class="ttname"><a href="#a24e94d447afd791b52fed701e928d1c2">BucketGraph::bw_buckets_size</a></div><div class="ttdeci">int bw_buckets_size</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00299">BucketGraph.h:299</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a394e55293111f386caf44ed9e67c5653"><div class="ttname"><a href="#a394e55293111f386caf44ed9e67c5653">BucketGraph::UpdateBucketsSet</a></div><div class="ttdeci">void UpdateBucketsSet(double theta, const Label *label, ankerl::unordered_dense::set&lt; int &gt; &amp;Bbidi, int &amp;current_bucket, std::vector&lt; uint64_t &gt; &amp;Bvisited)</div><div class="ttdef"><b>Definition</b> <a href="BucketJump_8h_source.html#l00041">BucketJump.h:41</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a72a56b4c54f68ce0c2dd988f6f9eba41"><div class="ttname"><a href="#a72a56b4c54f68ce0c2dd988f6f9eba41">BucketGraph::Phi_bw</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; Phi_bw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00372">BucketGraph.h:372</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a8e279c08b248c529a0efec509e8a5a47"><div class="ttname"><a href="#a8e279c08b248c529a0efec509e8a5a47">BucketGraph::fw_fixed_buckets_bitmap</a></div><div class="ttdeci">std::vector&lt; uint64_t &gt; fw_fixed_buckets_bitmap</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00303">BucketGraph.h:303</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aa1272b542e38efd60f4fe2ba7fc01d52"><div class="ttname"><a href="#aa1272b542e38efd60f4fe2ba7fc01d52">BucketGraph::is_bucket_fixed</a></div><div class="ttdeci">bool is_bucket_fixed(int from, int to) const noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00344">BucketGraph.h:344</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aabb8cdfcc1c2c900494c2a18aa5feb75"><div class="ttname"><a href="#aabb8cdfcc1c2c900494c2a18aa5feb75">BucketGraph::n_segments</a></div><div class="ttdeci">int n_segments</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00086">BucketGraph.h:86</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_ac521196275222e2de1486bff051f1c9d"><div class="ttname"><a href="#ac521196275222e2de1486bff051f1c9d">BucketGraph::Phi_fw</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; Phi_fw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00371">BucketGraph.h:371</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_adf35ff56b8e466beb5b9699379d84e67"><div class="ttname"><a href="#adf35ff56b8e466beb5b9699379d84e67">BucketGraph::bw_fixed_buckets_bitmap</a></div><div class="ttdeci">std::vector&lt; uint64_t &gt; bw_fixed_buckets_bitmap</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00305">BucketGraph.h:305</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_af129eff306551dc7cc7fe00b919bbbd0"><div class="ttname"><a href="#af129eff306551dc7cc7fe00b919bbbd0">BucketGraph::assign_buckets</a></div><div class="ttdeci">constexpr auto &amp; assign_buckets(auto &amp;FW, auto &amp;BW) noexcept</div><div class="ttdoc">Assigns the buckets based on the specified direction.</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00186">BucketGraph.h:186</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a395e609a3dcdb495e2a43da1742af7bd_cgraph.png" border="0" usemap="#aclassBucketGraph_a395e609a3dcdb495e2a43da1742af7bd_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a395e609a3dcdb495e2a43da1742af7bd_cgraph" id="aclassBucketGraph_a395e609a3dcdb495e2a43da1742af7bd_cgraph">
<area shape="rect" title="Eliminates bucket arcs based on a given threshold." alt="" coords="5,126,233,152"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="757,83,899,123"/>
<area shape="poly" title=" " alt="" coords="134,124,195,79,236,56,280,39,399,11,448,5,494,3,541,6,591,13,710,39,750,53,786,72,783,77,748,58,709,44,590,18,540,11,494,8,448,10,400,16,281,44,238,61,198,84,137,128"/>
<area shape="rect" href="classBucketGraph.html#a07082dcbaab12cbea07fbe16acee9bcf" title="Get the opposite bucket number for a given bucket index." alt="" coords="299,53,476,94"/>
<area shape="poly" title=" " alt="" coords="174,123,285,96,287,101,175,128"/>
<area shape="rect" href="classBucketGraph.html#aa1272b542e38efd60f4fe2ba7fc01d52" title=" " alt="" coords="308,119,467,159"/>
<area shape="poly" title=" " alt="" coords="233,136,292,136,292,142,233,142"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="350,184,424,209"/>
<area shape="poly" title=" " alt="" coords="183,150,336,183,335,188,182,155"/>
<area shape="rect" href="classBucketGraph.html#a394e55293111f386caf44ed9e67c5653" title=" " alt="" coords="281,233,494,259"/>
<area shape="poly" title=" " alt="" coords="143,150,204,184,282,219,302,226,300,231,280,224,202,189,141,155"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="542,53,709,94"/>
<area shape="poly" title=" " alt="" coords="476,71,527,71,527,76,476,76"/>
<area shape="poly" title=" " alt="" coords="710,83,743,88,742,93,710,89"/>
<area shape="poly" title=" " alt="" coords="467,130,742,107,742,113,468,135"/>
<area shape="poly" title=" " alt="" coords="452,230,493,219,613,179,756,127,758,132,614,184,495,224,454,235"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="558,220,693,245"/>
<area shape="poly" title=" " alt="" coords="494,237,543,234,543,240,495,242"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="572,269,680,295"/>
<area shape="poly" title=" " alt="" coords="477,257,556,269,556,274,476,262"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="574,318,678,344"/>
<area shape="poly" title=" " alt="" coords="420,257,543,305,561,311,560,316,541,310,418,262"/>
</map>
</div>

</div>
</div>
<a id="abe2a770a9a76c478a2a0c300ff6fd86d" name="abe2a770a9a76c478a2a0c300ff6fd86d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe2a770a9a76c478a2a0c300ff6fd86d">&#9670;&#160;</a></span>BucketSetContains()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::BucketSetContains </td>
          <td>(</td>
          <td class="paramtype">const std::set&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bucket_set</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;</td>          <td class="paramname"><span class="paramname"><em>bucket</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if a given bucket is present in the bucket set.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bucket_set</td><td>The set of buckets to search in. </td></tr>
    <tr><td class="paramname">bucket</td><td>The bucket to check for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the bucket is found in the set, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00811">811</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  812</span>                                                       {</div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordflow">return</span> bucket_set.find(bucket) != bucket_set.end();</div>
<div class="line"><span class="lineno">  814</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="add3160d6080b72e85c61734d1fe59427" name="add3160d6080b72e85c61734d1fe59427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add3160d6080b72e85c61734d1fe59427">&#9670;&#160;</a></span>calculate_neighborhoods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::calculate_neighborhoods </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>num_closest</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates the neighborhoods for each node for the ng-routes. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00285">285</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  285</span>                                                            {</div>
<div class="line"><span class="lineno">  286</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_nodes = nodes.size();</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>    <span class="comment">// Resize the neighborhoods_bitmap vector so that there&#39;s one bitmap per</span></div>
<div class="line"><span class="lineno">  289</span>    <span class="comment">// node.</span></div>
<div class="line"><span class="lineno">  290</span>    <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>.resize(num_nodes);</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>    <span class="comment">// Pre-calculate the number of segments needed (each segment is 64 bits).</span></div>
<div class="line"><span class="lineno">  293</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_segments = (num_nodes + 63) / 64;</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="comment">// Process each node to compute its neighborhood.</span></div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_nodes; ++i) {</div>
<div class="line"><span class="lineno">  297</span>        <span class="comment">// Create a vector of (distance, node_index) pairs for node i.</span></div>
<div class="line"><span class="lineno">  298</span>        std::vector&lt;std::pair&lt;double, size_t&gt;&gt; forward_distances;</div>
<div class="line"><span class="lineno">  299</span>        forward_distances.reserve(num_nodes - 1);</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; num_nodes; ++j) {</div>
<div class="line"><span class="lineno">  302</span>            <span class="keywordflow">if</span> (i == j) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordtype">double</span> distance = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(i, j);</div>
<div class="line"><span class="lineno">  304</span>            forward_distances.push_back({distance, j});</div>
<div class="line"><span class="lineno">  305</span>        }</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>        <span class="comment">// Sort distances to obtain the closest nodes first.</span></div>
<div class="line"><span class="lineno">  308</span>        pdqsort(forward_distances.begin(), forward_distances.end(),</div>
<div class="line"><span class="lineno">  309</span>                [](<span class="keyword">const</span> <span class="keyword">auto</span> &amp;a, <span class="keyword">const</span> <span class="keyword">auto</span> &amp;b) { return a.first &lt; b.first; });</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>        <span class="comment">// Initialize the neighborhood bitmap for node i with all segments set</span></div>
<div class="line"><span class="lineno">  312</span>        <span class="comment">// to zero.</span></div>
<div class="line"><span class="lineno">  313</span>        <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[i].assign(num_segments, 0ULL);</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>        <span class="comment">// Always include the node itself in its neighborhood.</span></div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordtype">size_t</span> self_segment = i &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordtype">size_t</span> self_bit = i &amp; 63;</div>
<div class="line"><span class="lineno">  318</span>        <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[i][self_segment] |= (1ULL &lt;&lt; self_bit);</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>        <span class="comment">// Add the top &#39;num_closest&#39; closest nodes as forward neighbors.</span></div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> k = 0; k &lt; num_closest &amp;&amp; k &lt; forward_distances.size();</div>
<div class="line"><span class="lineno">  322</span>             ++k) {</div>
<div class="line"><span class="lineno">  323</span>            <span class="keywordtype">size_t</span> neighbor_index = forward_distances[k].second;</div>
<div class="line"><span class="lineno">  324</span>            <span class="keywordtype">size_t</span> segment = neighbor_index &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  325</span>            <span class="keywordtype">size_t</span> bit_position = neighbor_index &amp; 63;</div>
<div class="line"><span class="lineno">  326</span>            <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[i][segment] |= (1ULL &lt;&lt; bit_position);</div>
<div class="line"><span class="lineno">  327</span>        }</div>
<div class="line"><span class="lineno">  328</span>    }</div>
<div class="line"><span class="lineno">  329</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_ad15267e0cffaa8dc5222028409c9e082"><div class="ttname"><a href="#ad15267e0cffaa8dc5222028409c9e082">BucketGraph::getcij</a></div><div class="ttdeci">double getcij(int i, int j) const</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00526">BucketGraph.h:526</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_add3160d6080b72e85c61734d1fe59427_cgraph.png" border="0" usemap="#aclassBucketGraph_add3160d6080b72e85c61734d1fe59427_cgraph" alt=""/></div>
<map name="aclassBucketGraph_add3160d6080b72e85c61734d1fe59427_cgraph" id="aclassBucketGraph_add3160d6080b72e85c61734d1fe59427_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,161,46"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="209,13,343,38"/>
<area shape="poly" title=" " alt="" coords="161,23,193,23,193,28,161,28"/>
</map>
</div>

</div>
</div>
<a id="a858b68317a9a0a60723698509d78d575" name="a858b68317a9a0a60723698509d78d575"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a858b68317a9a0a60723698509d78d575">&#9670;&#160;</a></span>check_feasibility()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::check_feasibility </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>fw_label</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>bw_label</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks the feasibility of a given forward and backward label. </p>
<p>This function determines if the transition from a forward label to a backward label is feasible based on resource constraints and node durations. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00847">847</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  848</span>                                                         {</div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">if</span> (!fw_label || !bw_label) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>        <span class="comment">// Cache resources and node data.</span></div>
<div class="line"><span class="lineno">  852</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;fw_resources = fw_label-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>;</div>
<div class="line"><span class="lineno">  853</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bw_resources = bw_label-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>;</div>
<div class="line"><span class="lineno">  854</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;node = nodes[fw_label-&gt;<a class="code hl_variable" href="structLabel.html#a51392867ea22ca35fa6eed73d0978f57">node_id</a>];</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> n_resources = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size();</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>        <span class="comment">// Compute travel time only once.</span></div>
<div class="line"><span class="lineno">  859</span>        <span class="keyword">const</span> <span class="keyword">auto</span> travel_time = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(fw_label-&gt;<a class="code hl_variable" href="structLabel.html#a51392867ea22ca35fa6eed73d0978f57">node_id</a>, bw_label-&gt;<a class="code hl_variable" href="structLabel.html#a51392867ea22ca35fa6eed73d0978f57">node_id</a>);</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span>        <span class="comment">// Assuming the &quot;time&quot; resource is at a known index (e.g., index 0).</span></div>
<div class="line"><span class="lineno">  862</span>        <span class="comment">// If not, you can either iterate to find it once or precompute a</span></div>
<div class="line"><span class="lineno">  863</span>        <span class="comment">// boolean array.</span></div>
<div class="line"><span class="lineno">  864</span>        <span class="keywordflow">if</span> (n_resources &gt; 0 &amp;&amp; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources[0] == <span class="stringliteral">&quot;time&quot;</span>) {</div>
<div class="line"><span class="lineno">  865</span>            <span class="comment">// Check time feasibility.</span></div>
<div class="line"><span class="lineno">  866</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(fw_resources[0] + travel_time + node.duration,</div>
<div class="line"><span class="lineno">  867</span>                                 bw_resources[0]))</div>
<div class="line"><span class="lineno">  868</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  869</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  870</span>            <span class="comment">// Fallback: iterate to check any resource named &quot;time&quot;.</span></div>
<div class="line"><span class="lineno">  871</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; n_resources; ++r) {</div>
<div class="line"><span class="lineno">  872</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources[r] == <span class="stringliteral">&quot;time&quot;</span>) {</div>
<div class="line"><span class="lineno">  873</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(</div>
<div class="line"><span class="lineno">  874</span>                            fw_resources[r] + travel_time + node.duration,</div>
<div class="line"><span class="lineno">  875</span>                            bw_resources[r]))</div>
<div class="line"><span class="lineno">  876</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  877</span>                }</div>
<div class="line"><span class="lineno">  878</span>            }</div>
<div class="line"><span class="lineno">  879</span>        }</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>        <span class="comment">// Check additional resource feasibility (assuming resources[0] is</span></div>
<div class="line"><span class="lineno">  882</span>        <span class="comment">// &quot;time&quot;) and additional resources (from index 1 onward) represent</span></div>
<div class="line"><span class="lineno">  883</span>        <span class="comment">// capacity constraints.</span></div>
<div class="line"><span class="lineno">  884</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; n_resources; ++i) {</div>
<div class="line"><span class="lineno">  885</span>            <span class="keywordflow">if</span> (fw_resources[i] + node.demand &gt; bw_resources[i]) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  886</span>        }</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  889</span>    }</div>
<div class="ttc" id="anamespacenumericutils_html_a30fadd8aa82c3a907ce52a6c1735a378"><div class="ttname"><a href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a></div><div class="ttdeci">bool gt(double a, double b, double threshold=eps)</div><div class="ttdef"><b>Definition</b> <a href="NumericUtils_8h_source.html#l00013">NumericUtils.h:13</a></div></div>
<div class="ttc" id="astructLabel_html_a51392867ea22ca35fa6eed73d0978f57"><div class="ttname"><a href="structLabel.html#a51392867ea22ca35fa6eed73d0978f57">Label::node_id</a></div><div class="ttdeci">int node_id</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00040">Label.h:40</a></div></div>
<div class="ttc" id="astructLabel_html_a5f792e9fa27a10dd13bd4622b1a3044b"><div class="ttname"><a href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">Label::resources</a></div><div class="ttdeci">std::array&lt; double, R_SIZE &gt; resources</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00038">Label.h:38</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a858b68317a9a0a60723698509d78d575_cgraph.png" border="0" usemap="#aclassBucketGraph_a858b68317a9a0a60723698509d78d575_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a858b68317a9a0a60723698509d78d575_cgraph" id="aclassBucketGraph_a858b68317a9a0a60723698509d78d575_cgraph">
<area shape="rect" title="Checks the feasibility of a given forward and backward label." alt="" coords="5,23,144,64"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="192,5,326,31"/>
<area shape="poly" title=" " alt="" coords="144,31,176,27,177,32,144,37"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="205,55,313,80"/>
<area shape="poly" title=" " alt="" coords="144,50,190,56,189,61,144,55"/>
</map>
</div>

</div>
</div>
<a id="a8b934dd825af2c3536269ac190b398b3" name="a8b934dd825af2c3536269ac190b398b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b934dd825af2c3536269ac190b398b3">&#9670;&#160;</a></span>common_initialization() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::common_initialization </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> by clearing previous data and setting up forward and backward buckets. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l01480">1480</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1480</span>                                        {</div>
<div class="line"><span class="lineno"> 1481</span>    <span class="comment">// --- Pre-allocate and clear temporary vectors ---</span></div>
<div class="line"><span class="lineno"> 1482</span>    <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.clear();</div>
<div class="line"><span class="lineno"> 1483</span>    <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.reserve(50);</div>
<div class="line"><span class="lineno"> 1484</span> </div>
<div class="line"><span class="lineno"> 1485</span>    <span class="comment">// Retrieve active cuts and build a vector of ActiveCutInfo.</span></div>
<div class="line"><span class="lineno"> 1486</span>    <span class="keyword">auto</span> &amp;cutter = <a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>;</div>
<div class="line"><span class="lineno"> 1487</span>    <span class="keyword">const</span> <span class="keyword">auto</span> active_cuts = cutter-&gt;getActiveCuts();</div>
<div class="line"><span class="lineno"> 1488</span>    std::vector&lt;ActiveCutInfo&gt; active_cuts_info;</div>
<div class="line"><span class="lineno"> 1489</span>    active_cuts_info.reserve(active_cuts.size());</div>
<div class="line"><span class="lineno"> 1490</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;cut : active_cuts) {</div>
<div class="line"><span class="lineno"> 1491</span>        active_cuts_info.push_back(cut);</div>
<div class="line"><span class="lineno"> 1492</span>    }</div>
<div class="line"><span class="lineno"> 1493</span> </div>
<div class="line"><span class="lineno"> 1494</span>    <span class="comment">// --- Sort arcs by scores for each node ---</span></div>
<div class="line"><span class="lineno"> 1495</span>    <span class="keyword">auto</span> &amp;arc_scores = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a96867ed156fc94da9d29ec576a42a071">fw_arc_scores</a>, <a class="code hl_variable" href="#abeb88d24b16f8a7b9a4a6d2ec300f6d2">bw_arc_scores</a>);</div>
<div class="line"><span class="lineno"> 1496</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;node : nodes) {</div>
<div class="line"><span class="lineno"> 1497</span>        <span class="keywordflow">if</span> (!arc_scores[node.id].empty()) {</div>
<div class="line"><span class="lineno"> 1498</span>            node.sort_arcs_by_scores&lt;D&gt;(arc_scores[node.id], nodes,</div>
<div class="line"><span class="lineno"> 1499</span>                                        active_cuts_info);</div>
<div class="line"><span class="lineno"> 1500</span>        }</div>
<div class="line"><span class="lineno"> 1501</span>        arc_scores[node.id].clear();</div>
<div class="line"><span class="lineno"> 1502</span>    }</div>
<div class="line"><span class="lineno"> 1503</span> </div>
<div class="line"><span class="lineno"> 1504</span>    <span class="comment">// --- Warm start: collect best labels from buckets ---</span></div>
<div class="line"><span class="lineno"> 1505</span>    <span class="keyword">auto</span> &amp;warm_labels = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a29453db5192f93745dc7f71e05610e22">fw_warm_labels</a>, <a class="code hl_variable" href="#a16cbe058b108b0501f946b8e96799fa3">bw_warm_labels</a>);</div>
<div class="line"><span class="lineno"> 1506</span>    <span class="keyword">auto</span> &amp;buckets_size = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno"> 1507</span>    <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno"> 1508</span>    <span class="keyword">auto</span> &amp;c_bar = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a2ad2f263fc468798163873408972df73">fw_c_bar</a>, <a class="code hl_variable" href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">bw_c_bar</a>);</div>
<div class="line"><span class="lineno"> 1509</span>    <span class="keyword">auto</span> &amp;bucket_splits = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a0fe7b8d8e40343998f39f03425c76009">fw_bucket_splits</a>, <a class="code hl_variable" href="#a750c64166af5c5c0c351793fbad6cfb8">bw_bucket_splits</a>);</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.empty() &amp;&amp; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.warm_start &amp;&amp; !<a class="code hl_variable" href="#a13e35d250720ad2ec3210ea0cbedf7e8">just_fixed</a>) {</div>
<div class="line"><span class="lineno"> 1512</span>        warm_labels.clear();</div>
<div class="line"><span class="lineno"> 1513</span>        warm_labels.reserve(buckets_size);</div>
<div class="line"><span class="lineno"> 1514</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> bucket = 0; bucket &lt; buckets_size; ++bucket) {</div>
<div class="line"><span class="lineno"> 1515</span>            <span class="keywordflow">if</span> (<span class="keyword">auto</span> *label = buckets[bucket].<a class="code hl_function" href="#abc324fb45e794482eb642adb8b0f664d">get_best_label</a>()) {</div>
<div class="line"><span class="lineno"> 1516</span>                warm_labels.push_back(label);</div>
<div class="line"><span class="lineno"> 1517</span>            }</div>
<div class="line"><span class="lineno"> 1518</span>        }</div>
<div class="line"><span class="lineno"> 1519</span>    }</div>
<div class="line"><span class="lineno"> 1520</span> </div>
<div class="line"><span class="lineno"> 1521</span>    <span class="comment">// --- Initialize c_bar vector ---</span></div>
<div class="line"><span class="lineno"> 1522</span>    c_bar.resize(buckets_size, std::numeric_limits&lt;double&gt;::infinity());</div>
<div class="line"><span class="lineno"> 1523</span> </div>
<div class="line"><span class="lineno"> 1524</span>    <span class="comment">// --- Initialize dominance check counters for forward direction ---</span></div>
<div class="line"><span class="lineno"> 1525</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (<a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a> == D) {</div>
<div class="line"><span class="lineno"> 1526</span>        <a class="code hl_variable" href="#a0337f4eec91163935cea2b512e508586">dominance_checks_per_bucket</a>.assign(buckets_size + 1, 0);</div>
<div class="line"><span class="lineno"> 1527</span>        <a class="code hl_variable" href="#a7b856c299c32015534f112d5c4d8ffbc">non_dominated_labels_per_bucket</a> = 0;</div>
<div class="line"><span class="lineno"> 1528</span>    }</div>
<div class="line"><span class="lineno"> 1529</span> </div>
<div class="line"><span class="lineno"> 1530</span>    <span class="comment">// --- Clear all buckets ---</span></div>
<div class="line"><span class="lineno"> 1531</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> b = 0; b &lt; buckets_size; b++) {</div>
<div class="line"><span class="lineno"> 1532</span>        buckets[b].clear();</div>
<div class="line"><span class="lineno"> 1533</span>    }</div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>    <span class="comment">// --- Warm start processing: sort warm_labels and compute reduced costs</span></div>
<div class="line"><span class="lineno"> 1536</span>    <span class="comment">// ---</span></div>
<div class="line"><span class="lineno"> 1537</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.warm_start &amp;&amp; !<a class="code hl_variable" href="#a13e35d250720ad2ec3210ea0cbedf7e8">just_fixed</a>) {</div>
<div class="line"><span class="lineno"> 1538</span>        pdqsort(</div>
<div class="line"><span class="lineno"> 1539</span>            warm_labels.begin(), warm_labels.end(),</div>
<div class="line"><span class="lineno"> 1540</span>            [](<span class="keyword">const</span> Label *a, <span class="keyword">const</span> Label *b) { return a-&gt;cost &lt; b-&gt;cost; });</div>
<div class="line"><span class="lineno"> 1541</span> </div>
<div class="line"><span class="lineno"> 1542</span>        std::vector&lt;Label *&gt; processed_labels;</div>
<div class="line"><span class="lineno"> 1543</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> process_size = std::min(</div>
<div class="line"><span class="lineno"> 1544</span>            warm_labels.size(),</div>
<div class="line"><span class="lineno"> 1545</span>            <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.n_warm_start * warm_labels.size()));</div>
<div class="line"><span class="lineno"> 1546</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; process_size; ++i) {</div>
<div class="line"><span class="lineno"> 1547</span>            <span class="keyword">auto</span> label = warm_labels[i];</div>
<div class="line"><span class="lineno"> 1548</span>            <span class="comment">// Uncomment if you want to skip non-fresh labels.</span></div>
<div class="line"><span class="lineno"> 1549</span>            <span class="comment">// if (!label-&gt;fresh) continue;</span></div>
<div class="line"><span class="lineno"> 1550</span>            <span class="keyword">auto</span> new_label = <a class="code hl_function" href="#a820c42b7e4fbfb599cdde7550ba3a12e">compute_red_cost</a>(label, D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>);</div>
<div class="line"><span class="lineno"> 1551</span>            <span class="keywordflow">if</span> (new_label != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno"> 1552</span>                <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno"> 1553</span>                    <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>[new_label-&gt;vertex].add_sorted_label(new_label);</div>
<div class="line"><span class="lineno"> 1554</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1555</span>                    <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>[new_label-&gt;vertex].add_sorted_label(new_label);</div>
<div class="line"><span class="lineno"> 1556</span>                }</div>
<div class="line"><span class="lineno"> 1557</span>                processed_labels.push_back(new_label);</div>
<div class="line"><span class="lineno"> 1558</span>            }</div>
<div class="line"><span class="lineno"> 1559</span>        }</div>
<div class="line"><span class="lineno"> 1560</span>        warm_labels = std::move(processed_labels);</div>
<div class="line"><span class="lineno"> 1561</span>    }</div>
<div class="line"><span class="lineno"> 1562</span> </div>
<div class="line"><span class="lineno"> 1563</span>    <span class="comment">// --- Prepare interval arrays and compute per-resource splits for depot</span></div>
<div class="line"><span class="lineno"> 1564</span>    <span class="comment">// ---</span></div>
<div class="line"><span class="lineno"> 1565</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_intervals = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size();</div>
<div class="line"><span class="lineno"> 1566</span>    std::vector&lt;double&gt; base_intervals(num_intervals);</div>
<div class="line"><span class="lineno"> 1567</span>    std::vector&lt;double&gt; interval_starts(num_intervals);</div>
<div class="line"><span class="lineno"> 1568</span>    std::vector&lt;double&gt; interval_ends(num_intervals);</div>
<div class="line"><span class="lineno"> 1569</span>    <span class="comment">// Compute per-resource split counts for the depot</span></div>
<div class="line"><span class="lineno"> 1570</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;VRPNode = nodes[0];  <span class="comment">// assuming node 0 is the depot</span></div>
<div class="line"><span class="lineno"> 1571</span>    std::vector&lt;int&gt; depot_splits(num_intervals);</div>
<div class="line"><span class="lineno"> 1572</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno"> 1573</span>        <span class="comment">// Use the same ratio as earlier:</span></div>
<div class="line"><span class="lineno"> 1574</span>        <span class="keywordtype">double</span> full_range = <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[r] - <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[r];</div>
<div class="line"><span class="lineno"> 1575</span>        <span class="keywordtype">double</span> node_range = VRPNode.ub[r] - VRPNode.lb[r];</div>
<div class="line"><span class="lineno"> 1576</span>        depot_splits[r] =</div>
<div class="line"><span class="lineno"> 1577</span>            std::max(1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::round((node_range / full_range) *</div>
<div class="line"><span class="lineno"> 1578</span>                                                    intervals[r].interval)));</div>
<div class="line"><span class="lineno"> 1579</span>        <span class="comment">// Compute the base interval for resource r.</span></div>
<div class="line"><span class="lineno"> 1580</span>        base_intervals[r] = (VRPNode.ub[r] - VRPNode.lb[r]) / depot_splits[r];</div>
<div class="line"><span class="lineno"> 1581</span>        interval_starts[r] = VRPNode.lb[r];</div>
<div class="line"><span class="lineno"> 1582</span>        interval_ends[r] = VRPNode.ub[r];</div>
<div class="line"><span class="lineno"> 1583</span>    }</div>
<div class="line"><span class="lineno"> 1584</span> </div>
<div class="line"><span class="lineno"> 1585</span>    <span class="comment">// --- Interval-based bucket generation ---</span></div>
<div class="line"><span class="lineno"> 1586</span>    std::vector&lt;int&gt; current_pos(num_intervals, 0);</div>
<div class="line"><span class="lineno"> 1587</span>    <span class="keywordtype">int</span> offset = 0;</div>
<div class="line"><span class="lineno"> 1588</span>    <span class="comment">// Lambda for generating interval combinations and creating depots.</span></div>
<div class="line"><span class="lineno"> 1589</span>    <span class="keyword">auto</span> generate_combinations = [&amp;](<span class="keywordtype">bool</span> is_forward, <span class="keywordtype">int</span> &amp;offset) {</div>
<div class="line"><span class="lineno"> 1590</span>        <span class="keyword">auto</span> &amp;label_pool = is_forward ? <a class="code hl_variable" href="#a122e64987e05917c0fa982a63228d2e6">label_pool_fw</a> : <a class="code hl_variable" href="#a4607757f8a773ef38967f88448cec5fd">label_pool_bw</a>;</div>
<div class="line"><span class="lineno"> 1591</span>        <span class="keyword">auto</span> &amp;buckets = is_forward ? <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a> : <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>;</div>
<div class="line"><span class="lineno"> 1592</span>        <span class="keyword">const</span> <span class="keyword">auto</span> depot_id = is_forward ? <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.depot : <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.end_depot;</div>
<div class="line"><span class="lineno"> 1593</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> calculated_index_base =</div>
<div class="line"><span class="lineno"> 1594</span>            is_forward ? <a class="code hl_variable" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.depot]</div>
<div class="line"><span class="lineno"> 1595</span>                       : <a class="code hl_variable" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.end_depot];</div>
<div class="line"><span class="lineno"> 1596</span> </div>
<div class="line"><span class="lineno"> 1597</span>        std::vector&lt;double&gt; interval_bounds(num_intervals);</div>
<div class="line"><span class="lineno"> 1598</span>        <span class="comment">// Recursive lambda to generate all interval combinations.</span></div>
<div class="line"><span class="lineno"> 1599</span>        std::function&lt;void(<span class="keywordtype">int</span>)&gt; process_intervals = [&amp;](<span class="keywordtype">int</span> <a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a>) {</div>
<div class="line"><span class="lineno"> 1600</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> == num_intervals) {</div>
<div class="line"><span class="lineno"> 1601</span>                <span class="comment">// Acquire a new depot label.</span></div>
<div class="line"><span class="lineno"> 1602</span>                <span class="keyword">auto</span> depot = label_pool-&gt;acquire();</div>
<div class="line"><span class="lineno"> 1603</span>                <span class="keywordtype">int</span> calculated_index = calculated_index_base + offset;</div>
<div class="line"><span class="lineno"> 1604</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; static_cast&lt;int&gt;(num_intervals); ++r) {</div>
<div class="line"><span class="lineno"> 1605</span>                    <span class="comment">// For forward direction, start at the lower bound and</span></div>
<div class="line"><span class="lineno"> 1606</span>                    <span class="comment">// add multiples of the base interval; adjust similarly</span></div>
<div class="line"><span class="lineno"> 1607</span>                    <span class="comment">// for backward.</span></div>
<div class="line"><span class="lineno"> 1608</span>                    interval_bounds[r] =</div>
<div class="line"><span class="lineno"> 1609</span>                        is_forward ? interval_starts[r] +</div>
<div class="line"><span class="lineno"> 1610</span>                                         current_pos[r] * base_intervals[r]</div>
<div class="line"><span class="lineno"> 1611</span>                                   : interval_ends[r] -</div>
<div class="line"><span class="lineno"> 1612</span>                                         current_pos[r] * base_intervals[r];</div>
<div class="line"><span class="lineno"> 1613</span>                }</div>
<div class="line"><span class="lineno"> 1614</span>                depot-&gt;initialize(calculated_index, 0.0, interval_bounds,</div>
<div class="line"><span class="lineno"> 1615</span>                                  depot_id);</div>
<div class="line"><span class="lineno"> 1616</span>                depot-&gt;is_extended = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1617</span>                depot-&gt;nodes_covered.push_back(depot_id);</div>
<div class="line"><span class="lineno"> 1618</span>                <a class="code hl_function" href="#ad36a543a58c7d3cd4ded313dd5069f03">set_node_visited</a>(depot-&gt;visited_bitmap, depot_id);</div>
<div class="line"><span class="lineno"> 1619</span>                <a class="code hl_define" href="Definitions_8h.html#ad656a59074b66ada867116d43ac275d3">SRC_MODE_BLOCK</a>(</div>
<div class="line"><span class="lineno"> 1620</span>                    depot-&gt;SRCmap.assign(<a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>-&gt;SRCDuals.size(), 0);)</div>
<div class="line"><span class="lineno"> 1621</span>                buckets[calculated_index].add_label(depot);</div>
<div class="line"><span class="lineno"> 1622</span>                buckets[calculated_index].node_id = depot_id;</div>
<div class="line"><span class="lineno"> 1623</span> </div>
<div class="line"><span class="lineno"> 1624</span>                offset++;</div>
<div class="line"><span class="lineno"> 1625</span>                return;</div>
<div class="line"><span class="lineno"> 1626</span>            }</div>
<div class="line"><span class="lineno"> 1627</span> </div>
<div class="line"><span class="lineno"> 1628</span>            <span class="comment">// For the current resource dimension, loop using its specific</span></div>
<div class="line"><span class="lineno"> 1629</span>            <span class="comment">// split count.</span></div>
<div class="line"><span class="lineno"> 1630</span>            for (<span class="keywordtype">int</span> k = 0; k &lt; depot_splits[<a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a>]; ++k) {</div>
<div class="line"><span class="lineno"> 1631</span>                current_pos[<a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a>] = k;</div>
<div class="line"><span class="lineno"> 1632</span>                process_intervals(<a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> + 1);</div>
<div class="line"><span class="lineno"> 1633</span>            }</div>
<div class="line"><span class="lineno"> 1634</span>        };</div>
<div class="line"><span class="lineno"> 1635</span>        process_intervals(0);</div>
<div class="line"><span class="lineno"> 1636</span>    };</div>
<div class="line"><span class="lineno"> 1637</span> </div>
<div class="line"><span class="lineno"> 1638</span>    <span class="comment">// Generate combinations for the current direction.</span></div>
<div class="line"><span class="lineno"> 1639</span>    generate_combinations(D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>, offset);</div>
<div class="line"><span class="lineno"> 1640</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_ad656a59074b66ada867116d43ac275d3"><div class="ttname"><a href="Definitions_8h.html#ad656a59074b66ada867116d43ac275d3">SRC_MODE_BLOCK</a></div><div class="ttdeci">#define SRC_MODE_BLOCK(code_block)</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00433">Definitions.h:433</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a0337f4eec91163935cea2b512e508586"><div class="ttname"><a href="#a0337f4eec91163935cea2b512e508586">BucketGraph::dominance_checks_per_bucket</a></div><div class="ttdeci">std::vector&lt; int &gt; dominance_checks_per_bucket</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00444">BucketGraph.h:444</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a0fe7b8d8e40343998f39f03425c76009"><div class="ttname"><a href="#a0fe7b8d8e40343998f39f03425c76009">BucketGraph::fw_bucket_splits</a></div><div class="ttdeci">ankerl::unordered_dense::map&lt; int, std::vector&lt; int &gt; &gt; fw_bucket_splits</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00503">BucketGraph.h:503</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a16cbe058b108b0501f946b8e96799fa3"><div class="ttname"><a href="#a16cbe058b108b0501f946b8e96799fa3">BucketGraph::bw_warm_labels</a></div><div class="ttdeci">std::vector&lt; Label * &gt; bw_warm_labels</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00497">BucketGraph.h:497</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a1fbd815595b4216d50870f2c9ecb1fc3"><div class="ttname"><a href="#a1fbd815595b4216d50870f2c9ecb1fc3">BucketGraph::num_buckets_index_fw</a></div><div class="ttdeci">std::vector&lt; int &gt; num_buckets_index_fw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00385">BucketGraph.h:385</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a29453db5192f93745dc7f71e05610e22"><div class="ttname"><a href="#a29453db5192f93745dc7f71e05610e22">BucketGraph::fw_warm_labels</a></div><div class="ttdeci">std::vector&lt; Label * &gt; fw_warm_labels</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00496">BucketGraph.h:496</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a2fdba8d38fd26043068b252223e8d73c"><div class="ttname"><a href="#a2fdba8d38fd26043068b252223e8d73c">BucketGraph::depth</a></div><div class="ttdeci">int depth</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00260">BucketGraph.h:260</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a4607757f8a773ef38967f88448cec5fd"><div class="ttname"><a href="#a4607757f8a773ef38967f88448cec5fd">BucketGraph::label_pool_bw</a></div><div class="ttdeci">LabelPoolPtr label_pool_bw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00364">BucketGraph.h:364</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a750c64166af5c5c0c351793fbad6cfb8"><div class="ttname"><a href="#a750c64166af5c5c0c351793fbad6cfb8">BucketGraph::bw_bucket_splits</a></div><div class="ttdeci">ankerl::unordered_dense::map&lt; int, std::vector&lt; int &gt; &gt; bw_bucket_splits</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00504">BucketGraph.h:504</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a820c42b7e4fbfb599cdde7550ba3a12e"><div class="ttname"><a href="#a820c42b7e4fbfb599cdde7550ba3a12e">BucketGraph::compute_red_cost</a></div><div class="ttdeci">Label * compute_red_cost(Label *L, bool fw)</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l01178">BucketGraph.h:1178</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a9142869eb3212337ffb092a14e0e0079"><div class="ttname"><a href="#a9142869eb3212337ffb092a14e0e0079">BucketGraph::cut_storage</a></div><div class="ttdeci">CutStorage * cut_storage</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00354">BucketGraph.h:354</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a96867ed156fc94da9d29ec576a42a071"><div class="ttname"><a href="#a96867ed156fc94da9d29ec576a42a071">BucketGraph::fw_arc_scores</a></div><div class="ttdeci">std::vector&lt; ankerl::unordered_dense::map&lt; Arc, int, arc_hash &gt; &gt; fw_arc_scores</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00104">BucketGraph.h:104</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_abc324fb45e794482eb642adb8b0f664d"><div class="ttname"><a href="#abc324fb45e794482eb642adb8b0f664d">BucketGraph::get_best_label</a></div><div class="ttdeci">Label * get_best_label(const std::vector&lt; int &gt; &amp;topological_order, const std::vector&lt; double &gt; &amp;c_bar, const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;sccs)</div><div class="ttdoc">Retrieves the best label from the bucket graph based on the given topological order,...</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l00630">BucketUtils.h:630</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_abeb88d24b16f8a7b9a4a6d2ec300f6d2"><div class="ttname"><a href="#abeb88d24b16f8a7b9a4a6d2ec300f6d2">BucketGraph::bw_arc_scores</a></div><div class="ttdeci">std::vector&lt; ankerl::unordered_dense::map&lt; Arc, int, arc_hash &gt; &gt; bw_arc_scores</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00106">BucketGraph.h:106</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_acb40cb64a6aeb38d1ec3044ce28fe240"><div class="ttname"><a href="#acb40cb64a6aeb38d1ec3044ce28fe240">BucketGraph::num_buckets_index_bw</a></div><div class="ttdeci">std::vector&lt; int &gt; num_buckets_index_bw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00386">BucketGraph.h:386</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_ad36a543a58c7d3cd4ded313dd5069f03"><div class="ttname"><a href="#ad36a543a58c7d3cd4ded313dd5069f03">BucketGraph::set_node_visited</a></div><div class="ttdeci">static void set_node_visited(std::array&lt; uint64_t, num_words &gt; &amp;bitmap, int node_id)</div><div class="ttdoc">Marks a node as visited in the bitmap.</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00572">BucketGraph.h:572</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a8b934dd825af2c3536269ac190b398b3_cgraph.png" border="0" usemap="#aclassBucketGraph_a8b934dd825af2c3536269ac190b398b3_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a8b934dd825af2c3536269ac190b398b3_cgraph" id="aclassBucketGraph_a8b934dd825af2c3536269ac190b398b3_cgraph">
<area shape="rect" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="5,187,159,228"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="623,27,765,68"/>
<area shape="poly" title=" " alt="" coords="106,184,157,145,229,95,315,48,361,28,407,13,460,4,514,4,567,10,614,20,613,25,566,15,514,9,461,9,409,18,363,33,317,53,232,100,160,149,109,189"/>
<area shape="rect" href="classBucketGraph.html#a820c42b7e4fbfb599cdde7550ba3a12e" title=" " alt="" coords="207,158,360,198"/>
<area shape="poly" title=" " alt="" coords="159,193,191,189,192,194,159,199"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="414,215,570,256"/>
<area shape="poly" title=" " alt="" coords="159,210,398,226,398,232,159,215"/>
<area shape="rect" href="classBucketGraph.html#abc324fb45e794482eb642adb8b0f664d" title="Retrieves the best label from the bucket graph based on the given topological order,..." alt="" coords="207,272,360,313"/>
<area shape="poly" title=" " alt="" coords="133,226,220,263,218,268,131,231"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="408,27,575,68"/>
<area shape="poly" title=" " alt="" coords="305,155,350,116,407,77,415,72,418,77,409,82,353,121,308,159"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="424,92,559,117"/>
<area shape="poly" title=" " alt="" coords="333,155,407,126,426,120,427,125,409,131,334,160"/>
<area shape="rect" href="classArcDuals.html#ac75e53f0c4f24e6aca539c544e9f8109" title=" " alt="" coords="430,165,554,191"/>
<area shape="poly" title=" " alt="" coords="361,175,414,175,414,181,361,181"/>
<area shape="poly" title=" " alt="" coords="360,196,401,208,400,213,359,201"/>
<area shape="poly" title=" " alt="" coords="576,45,608,45,608,50,576,50"/>
<area shape="poly" title=" " alt="" coords="458,166,451,157,455,147,469,141,492,138,517,141,529,148,527,153,515,146,492,144,470,146,459,151,456,156,462,163"/>
<area shape="poly" title=" " alt="" coords="360,302,411,305,467,301,523,289,549,279,574,265,596,247,616,226,647,177,669,126,682,82,687,84,674,128,652,179,620,229,600,251,577,270,552,284,525,294,468,307,411,310,360,307"/>
</map>
</div>

</div>
</div>
<a id="ae66be852d4827d04e368e208b63f9240" name="ae66be852d4827d04e368e208b63f9240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66be852d4827d04e368e208b63f9240">&#9670;&#160;</a></span>common_initialization() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::common_initialization </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00490">490</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  490</span>                                 {</div>
<div class="line"><span class="lineno">  491</span>        <a class="code hl_define" href="Definitions_8h.html#aae3681742ccc706b45390ec5d3392d58">PARALLEL_SECTIONS</a>(</div>
<div class="line"><span class="lineno">  492</span>            work, <a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>,</div>
<div class="line"><span class="lineno">  493</span>            <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> { <a class="code hl_function" href="#a8b934dd825af2c3536269ac190b398b3">common_initialization&lt;Direction::Forward&gt;</a>(); },</div>
<div class="line"><span class="lineno">  494</span>            <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> { <a class="code hl_function" href="#a8b934dd825af2c3536269ac190b398b3">common_initialization&lt;Direction::Backward&gt;</a>(); });</div>
<div class="line"><span class="lineno">  495</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_ae66be852d4827d04e368e208b63f9240_cgraph.png" border="0" usemap="#aclassBucketGraph_ae66be852d4827d04e368e208b63f9240_cgraph" alt=""/></div>
<map name="aclassBucketGraph_ae66be852d4827d04e368e208b63f9240_cgraph" id="aclassBucketGraph_ae66be852d4827d04e368e208b63f9240_cgraph">
<area shape="rect" title=" " alt="" coords="5,187,159,228"/>
<area shape="rect" href="classBucketGraph.html#a8b934dd825af2c3536269ac190b398b3" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="207,187,360,228"/>
<area shape="poly" title=" " alt="" coords="159,205,191,205,191,210,159,210"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="825,27,966,68"/>
<area shape="poly" title=" " alt="" coords="307,184,359,145,430,95,516,48,562,28,609,13,662,4,716,4,768,10,815,20,814,25,767,15,715,9,662,9,610,18,564,33,518,53,433,100,362,149,311,189"/>
<area shape="rect" href="classBucketGraph.html#a820c42b7e4fbfb599cdde7550ba3a12e" title=" " alt="" coords="408,158,561,198"/>
<area shape="poly" title=" " alt="" coords="360,193,392,189,393,194,361,199"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="615,215,771,256"/>
<area shape="poly" title=" " alt="" coords="360,210,600,226,599,232,360,215"/>
<area shape="rect" href="classBucketGraph.html#abc324fb45e794482eb642adb8b0f664d" title="Retrieves the best label from the bucket graph based on the given topological order,..." alt="" coords="408,272,561,313"/>
<area shape="poly" title=" " alt="" coords="334,226,422,263,420,268,332,231"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="609,27,777,68"/>
<area shape="poly" title=" " alt="" coords="506,155,551,116,608,77,616,72,619,77,611,82,554,121,509,159"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="626,92,760,117"/>
<area shape="poly" title=" " alt="" coords="534,155,608,126,627,120,629,125,610,131,536,160"/>
<area shape="rect" href="classArcDuals.html#ac75e53f0c4f24e6aca539c544e9f8109" title=" " alt="" coords="631,165,755,191"/>
<area shape="poly" title=" " alt="" coords="562,175,616,175,616,181,562,181"/>
<area shape="poly" title=" " alt="" coords="562,196,603,208,601,213,560,201"/>
<area shape="poly" title=" " alt="" coords="777,45,809,45,809,50,777,50"/>
<area shape="poly" title=" " alt="" coords="659,166,653,157,657,147,670,141,693,138,718,141,731,148,728,153,716,146,693,144,672,146,660,151,658,156,663,163"/>
<area shape="poly" title=" " alt="" coords="562,302,613,305,669,301,724,289,751,279,775,265,798,247,817,226,848,177,870,126,884,82,889,84,875,128,853,179,821,229,801,251,778,270,753,284,726,294,669,307,613,310,561,307"/>
</map>
</div>

</div>
</div>
<a id="a7d2d975e13b1fdeaafca99aa6fb29486" name="a7d2d975e13b1fdeaafca99aa6fb29486"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d2d975e13b1fdeaafca99aa6fb29486">&#9670;&#160;</a></span>compute_label()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLabel.html">Label</a> * BucketGraph::compute_label </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>L_prime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>red_cost</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0.0</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes a new label based on the given labels L and L_prime. </p>

<p class="definition">Definition at line <a class="el" href="BucketSolve_8h_source.html#l01408">1408</a> of file <a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1409</span>                                                   {</div>
<div class="line"><span class="lineno"> 1410</span>    <span class="comment">// Compute cost values</span></div>
<div class="line"><span class="lineno"> 1411</span>    <span class="keywordtype">double</span> cij_cost = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(L-&gt;<a class="code hl_variable" href="structLabel.html#a51392867ea22ca35fa6eed73d0978f57">node_id</a>, L_prime-&gt;<a class="code hl_variable" href="structLabel.html#a51392867ea22ca35fa6eed73d0978f57">node_id</a>);</div>
<div class="line"><span class="lineno"> 1412</span>    <span class="keywordtype">double</span> real_cost = L-&gt;<a class="code hl_variable" href="structLabel.html#adc41f4aec4ecd0c1c76fd5f151aacedd">real_cost</a> + L_prime-&gt;<a class="code hl_variable" href="structLabel.html#adc41f4aec4ecd0c1c76fd5f151aacedd">real_cost</a> + cij_cost;</div>
<div class="line"><span class="lineno"> 1413</span> </div>
<div class="line"><span class="lineno"> 1414</span>    <span class="comment">// Acquire a new label from the pool and initialize its cost fields.</span></div>
<div class="line"><span class="lineno"> 1415</span>    <span class="keyword">auto</span> new_label = <span class="keyword">new</span> Label();</div>
<div class="line"><span class="lineno"> 1416</span>    new_label-&gt;cost = red_cost;</div>
<div class="line"><span class="lineno"> 1417</span>    new_label-&gt;real_cost = real_cost;</div>
<div class="line"><span class="lineno"> 1418</span> </div>
<div class="line"><span class="lineno"> 1419</span>    <span class="comment">// Preallocate the vector to the final size.</span></div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keywordtype">size_t</span> total_size = L-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>.size() + L_prime-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>.size();</div>
<div class="line"><span class="lineno"> 1421</span>    new_label-&gt;nodes_covered.resize(total_size);</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>    <span class="comment">// Copy the nodes from L.</span></div>
<div class="line"><span class="lineno"> 1424</span>    std::copy(L-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>.begin(), L-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>.end(),</div>
<div class="line"><span class="lineno"> 1425</span>              new_label-&gt;nodes_covered.begin());</div>
<div class="line"><span class="lineno"> 1426</span> </div>
<div class="line"><span class="lineno"> 1427</span>    <span class="comment">// Copy the nodes from L_prime in reverse order.</span></div>
<div class="line"><span class="lineno"> 1428</span>    std::copy(L_prime-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>.rbegin(), L_prime-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>.rend(),</div>
<div class="line"><span class="lineno"> 1429</span>              new_label-&gt;nodes_covered.begin() + L-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>.size());</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span>    <span class="keywordflow">return</span> new_label;</div>
<div class="line"><span class="lineno"> 1432</span>}</div>
<div class="ttc" id="astructLabel_html_aa8b9ad67d235d087a99a02900a54ca7f"><div class="ttname"><a href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">Label::nodes_covered</a></div><div class="ttdeci">std::vector&lt; uint16_t &gt; nodes_covered</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00039">Label.h:39</a></div></div>
<div class="ttc" id="astructLabel_html_adc41f4aec4ecd0c1c76fd5f151aacedd"><div class="ttname"><a href="structLabel.html#adc41f4aec4ecd0c1c76fd5f151aacedd">Label::real_cost</a></div><div class="ttdeci">double real_cost</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00037">Label.h:37</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a7d2d975e13b1fdeaafca99aa6fb29486_cgraph.png" border="0" usemap="#aclassBucketGraph_a7d2d975e13b1fdeaafca99aa6fb29486_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a7d2d975e13b1fdeaafca99aa6fb29486_cgraph" id="aclassBucketGraph_a7d2d975e13b1fdeaafca99aa6fb29486_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,159,46"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="207,13,341,38"/>
<area shape="poly" title=" " alt="" coords="159,23,191,23,191,28,159,28"/>
</map>
</div>

</div>
</div>
<a id="ad6b81e9c2de5aedf02450125a3350c89" name="ad6b81e9c2de5aedf02450125a3350c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b81e9c2de5aedf02450125a3350c89">&#9670;&#160;</a></span>compute_mono_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLabel.html">Label</a> * BucketGraph::compute_mono_label </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the mono label for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>. </p>
<p>This function computes the mono label for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> by acquiring a new label from the label pool and setting the cost and real cost values from the given label <code>L</code>. It then calculates the number of nodes covered by the label and its ancestors, reserves space for the nodes covered, and inserts the nodes from the </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l01029">1029</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1029</span>                                                     {</div>
<div class="line"><span class="lineno"> 1030</span>    <span class="comment">// Directly acquire new_label and set the cost</span></div>
<div class="line"><span class="lineno"> 1031</span>    <span class="keyword">auto</span> new_label = <span class="keyword">new</span> Label();</div>
<div class="line"><span class="lineno"> 1032</span>    new_label-&gt;cost = L-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a>;            <span class="comment">// Use the cost from L</span></div>
<div class="line"><span class="lineno"> 1033</span>    new_label-&gt;real_cost = L-&gt;<a class="code hl_variable" href="structLabel.html#adc41f4aec4ecd0c1c76fd5f151aacedd">real_cost</a>;  <span class="comment">// Use the real cost from L</span></div>
<div class="line"><span class="lineno"> 1034</span>    new_label-&gt;nodes_covered = L-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>;</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>    <span class="comment">// Calculate the number of nodes covered by the label (its ancestors)</span></div>
<div class="line"><span class="lineno"> 1037</span>    <span class="comment">// size_t label_size = 0;</span></div>
<div class="line"><span class="lineno"> 1038</span>    <span class="comment">// for (auto current_label = L; current_label != nullptr; current_label</span></div>
<div class="line"><span class="lineno"> 1039</span>    <span class="comment">// = current_label-&gt;parent) { label_size++; }</span></div>
<div class="line"><span class="lineno"> 1040</span> </div>
<div class="line"><span class="lineno"> 1041</span>    <span class="comment">// Reserve space in one go</span></div>
<div class="line"><span class="lineno"> 1042</span>    <span class="comment">// new_label-&gt;nodes_covered.reserve(label_size);</span></div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>    <span class="comment">// Insert the nodes from the label and its ancestors</span></div>
<div class="line"><span class="lineno"> 1045</span>    <span class="comment">// for (auto current_label = L; current_label != nullptr; current_label</span></div>
<div class="line"><span class="lineno"> 1046</span>    <span class="comment">// = current_label-&gt;parent) {</span></div>
<div class="line"><span class="lineno"> 1047</span>    <span class="comment">// new_label-&gt;nodes_covered.push_back(current_label-&gt;node_id);</span></div>
<div class="line"><span class="lineno"> 1048</span>    <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>    <span class="comment">// std::reverse(new_label-&gt;nodes_covered.begin(),</span></div>
<div class="line"><span class="lineno"> 1051</span>    <span class="comment">// new_label-&gt;nodes_covered.end());</span></div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>    <span class="keywordflow">return</span> new_label;</div>
<div class="line"><span class="lineno"> 1054</span>}</div>
<div class="ttc" id="astructLabel_html_a1da1930412e730692277e75a94da77c2"><div class="ttname"><a href="structLabel.html#a1da1930412e730692277e75a94da77c2">Label::cost</a></div><div class="ttdeci">double cost</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00036">Label.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a820c42b7e4fbfb599cdde7550ba3a12e" name="a820c42b7e4fbfb599cdde7550ba3a12e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820c42b7e4fbfb599cdde7550ba3a12e">&#9670;&#160;</a></span>compute_red_cost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLabel.html">Label</a> * BucketGraph::compute_red_cost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>fw</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01178">1178</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1178</span>                                               {</div>
<div class="line"><span class="lineno"> 1179</span>        <span class="comment">// Calculate main and reduced costs.</span></div>
<div class="line"><span class="lineno"> 1180</span>        <span class="keywordtype">double</span> real_cost = 0.0;</div>
<div class="line"><span class="lineno"> 1181</span>        <span class="keywordtype">double</span> red_cost = 0.0;</div>
<div class="line"><span class="lineno"> 1182</span> </div>
<div class="line"><span class="lineno"> 1183</span>        <span class="comment">// Check main resource feasibility.</span></div>
<div class="line"><span class="lineno"> 1184</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> main_resource = L-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0]];</div>
<div class="line"><span class="lineno"> 1185</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> q_star_value = <a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0]];</div>
<div class="line"><span class="lineno"> 1186</span>        <span class="keywordflow">if</span> (fw) {</div>
<div class="line"><span class="lineno"> 1187</span>            <span class="keywordflow">if</span> (main_resource &gt; q_star_value) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1188</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1189</span>            <span class="keywordflow">if</span> (main_resource &lt;= q_star_value) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1190</span>        }</div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>        <span class="comment">// Ensure sufficient nodes in the route.</span></div>
<div class="line"><span class="lineno"> 1193</span>        <span class="keywordflow">if</span> (L-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>.size() &lt;= 3) <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>        <span class="comment">// Initialize an empty SRCmap vector with size equal to the current</span></div>
<div class="line"><span class="lineno"> 1196</span>        <span class="comment">// number of cuts.</span></div>
<div class="line"><span class="lineno"> 1197</span>        std::vector&lt;uint16_t&gt; updated_SRCmap(<a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>-&gt;size(), 0);</div>
<div class="line"><span class="lineno"> 1198</span> </div>
<div class="line"><span class="lineno"> 1199</span>        <span class="comment">// Prepare new label.</span></div>
<div class="line"><span class="lineno"> 1200</span>        <span class="keyword">auto</span> new_label = <span class="keyword">new</span> Label();</div>
<div class="line"><span class="lineno"> 1201</span>        new_label-&gt;nodes_covered.clear();</div>
<div class="line"><span class="lineno"> 1202</span>        new_label-&gt;nodes_covered = L-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>;  <span class="comment">// Copy the route</span></div>
<div class="line"><span class="lineno"> 1203</span> </div>
<div class="line"><span class="lineno"> 1204</span>        <span class="comment">// Variables to keep track of costs.</span></div>
<div class="line"><span class="lineno"> 1205</span>        <span class="keywordtype">int</span> last_node = -1;</div>
<div class="line"><span class="lineno"> 1206</span> </div>
<div class="line"><span class="lineno"> 1207</span>        <span class="comment">// Traverse the nodes in the route (from current label to root).</span></div>
<div class="line"><span class="lineno"> 1208</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> node_id : L-&gt;<a class="code hl_variable" href="structLabel.html#aa8b9ad67d235d087a99a02900a54ca7f">nodes_covered</a>) {</div>
<div class="line"><span class="lineno"> 1209</span>            <span class="comment">// --- NG-route Feasibility Check ---</span></div>
<div class="line"><span class="lineno"> 1210</span>            <span class="comment">// Clear visited bitmap in the neighborhood of node_id.</span></div>
<div class="line"><span class="lineno"> 1211</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> seg = 0, limit = new_label-&gt;visited_bitmap.size();</div>
<div class="line"><span class="lineno"> 1212</span>                 seg &lt; limit; ++seg) {</div>
<div class="line"><span class="lineno"> 1213</span>                uint64_t current_visited = new_label-&gt;visited_bitmap[seg];</div>
<div class="line"><span class="lineno"> 1214</span>                <span class="keywordflow">if</span> (!current_visited) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1215</span>                uint64_t neighborhood_mask = <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[node_id][seg];</div>
<div class="line"><span class="lineno"> 1216</span>                new_label-&gt;visited_bitmap[seg] =</div>
<div class="line"><span class="lineno"> 1217</span>                    current_visited &amp; neighborhood_mask;</div>
<div class="line"><span class="lineno"> 1218</span>            }</div>
<div class="line"><span class="lineno"> 1219</span>            <a class="code hl_function" href="#ad36a543a58c7d3cd4ded313dd5069f03">set_node_visited</a>(new_label-&gt;visited_bitmap, node_id);</div>
<div class="line"><span class="lineno"> 1220</span> </div>
<div class="line"><span class="lineno"> 1221</span>            <span class="comment">// --- Cost Accumulation ---</span></div>
<div class="line"><span class="lineno"> 1222</span>            <span class="keywordflow">if</span> (last_node != -1) {</div>
<div class="line"><span class="lineno"> 1223</span>                <span class="keywordtype">double</span> cij_cost = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(last_node, node_id);</div>
<div class="line"><span class="lineno"> 1224</span>                real_cost += cij_cost;</div>
<div class="line"><span class="lineno"> 1225</span>                red_cost += cij_cost;</div>
<div class="line"><span class="lineno"> 1226</span>            }</div>
<div class="line"><span class="lineno"> 1227</span>            red_cost -= nodes[node_id].cost;</div>
<div class="line"><span class="lineno"> 1228</span> </div>
<div class="line"><span class="lineno"> 1229</span>            <span class="comment">// --- SRC Logic ---</span></div>
<div class="line"><span class="lineno"> 1230</span>            <span class="keywordtype">size_t</span> segment = node_id &gt;&gt; 6;</div>
<div class="line"><span class="lineno"> 1231</span>            <span class="keyword">const</span> uint64_t bit_mask = <a class="code hl_variable" href="#ac8ef42169458fa3ce65c86652e4f1dd8">bit_mask_lookup</a>[node_id &amp; 63];</div>
<div class="line"><span class="lineno"> 1232</span>            <span class="keyword">auto</span> &amp;cutter = <a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>;</div>
<div class="line"><span class="lineno"> 1233</span>            <span class="keyword">auto</span> &amp;SRCDuals = cutter-&gt;SRCDuals;</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span><span class="preprocessor">#if defined(SRC)</span></div>
<div class="line"><span class="lineno"> 1236</span>            <span class="keywordflow">for</span> (std::size_t idx = 0; idx &lt; cutter-&gt;size(); ++idx) {</div>
<div class="line"><span class="lineno"> 1237</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;cut = cutter-&gt;getCut(idx);</div>
<div class="line"><span class="lineno"> 1238</span>                <span class="comment">// Retrieve base set and order information.</span></div>
<div class="line"><span class="lineno"> 1239</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;baseSet = cut.baseSet;</div>
<div class="line"><span class="lineno"> 1240</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;baseSetOrder = cut.baseSetOrder;</div>
<div class="line"><span class="lineno"> 1241</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;neighbors = cut.neighbors;</div>
<div class="line"><span class="lineno"> 1242</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;multipliers = cut.p;</div>
<div class="line"><span class="lineno"> 1243</span> </div>
<div class="line"><span class="lineno"> 1244</span>                <span class="comment">// If the current node is not in the neighbor set, reset SRCmap</span></div>
<div class="line"><span class="lineno"> 1245</span>                <span class="comment">// value.</span></div>
<div class="line"><span class="lineno"> 1246</span>                <span class="keywordflow">if</span> (!(neighbors[segment] &amp; bit_mask)) {</div>
<div class="line"><span class="lineno"> 1247</span>                    updated_SRCmap[idx] = 0;</div>
<div class="line"><span class="lineno"> 1248</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1249</span>                }</div>
<div class="line"><span class="lineno"> 1250</span>                <span class="comment">// If the current node is in the base set, update SRC value.</span></div>
<div class="line"><span class="lineno"> 1251</span>                <span class="keywordflow">if</span> (baseSet[segment] &amp; bit_mask) {</div>
<div class="line"><span class="lineno"> 1252</span>                    <span class="keyword">auto</span> &amp;src_val = updated_SRCmap[idx];</div>
<div class="line"><span class="lineno"> 1253</span>                    src_val += multipliers.num[baseSetOrder[node_id]];</div>
<div class="line"><span class="lineno"> 1254</span>                    <span class="keywordflow">if</span> (src_val &gt;= multipliers.den) {</div>
<div class="line"><span class="lineno"> 1255</span>                        red_cost -= SRCDuals[idx];</div>
<div class="line"><span class="lineno"> 1256</span>                        src_val -= multipliers.den;</div>
<div class="line"><span class="lineno"> 1257</span>                    }</div>
<div class="line"><span class="lineno"> 1258</span>                }</div>
<div class="line"><span class="lineno"> 1259</span>            }</div>
<div class="line"><span class="lineno"> 1260</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1261</span> </div>
<div class="line"><span class="lineno"> 1262</span>            <span class="comment">// --- Arc and Branching Dual Adjustments ---</span></div>
<div class="line"><span class="lineno"> 1263</span><span class="preprocessor">#if defined(RCC) || defined(EXACT_RCC)</span></div>
<div class="line"><span class="lineno"> 1264</span>            <span class="keywordflow">if</span> (last_node != -1) {</div>
<div class="line"><span class="lineno"> 1265</span>                red_cost -= arc_duals.getDual(last_node, node_id);</div>
<div class="line"><span class="lineno"> 1266</span>            }</div>
<div class="line"><span class="lineno"> 1267</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1268</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a38bf6e63a45004dba3e06846ea151983">branching_duals</a>-&gt;size() &gt; 0 &amp;&amp; last_node != -1) {</div>
<div class="line"><span class="lineno"> 1269</span>                red_cost -= <a class="code hl_variable" href="#a38bf6e63a45004dba3e06846ea151983">branching_duals</a>-&gt;getDual(last_node, node_id);</div>
<div class="line"><span class="lineno"> 1270</span>            }</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>            last_node = node_id;  <span class="comment">// Update last_node.</span></div>
<div class="line"><span class="lineno"> 1273</span>        }</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>        <span class="comment">// Set final label properties.</span></div>
<div class="line"><span class="lineno"> 1276</span>        new_label-&gt;cost = red_cost;</div>
<div class="line"><span class="lineno"> 1277</span>        new_label-&gt;real_cost = real_cost;</div>
<div class="line"><span class="lineno"> 1278</span>        new_label-&gt;parent = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1279</span>        new_label-&gt;node_id = L-&gt;<a class="code hl_variable" href="structLabel.html#a51392867ea22ca35fa6eed73d0978f57">node_id</a>;</div>
<div class="line"><span class="lineno"> 1280</span>        new_label-&gt;is_extended = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1281</span>        new_label-&gt;resources = L-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>;</div>
<div class="line"><span class="lineno"> 1282</span>        new_label-&gt;SRCmap = updated_SRCmap;</div>
<div class="line"><span class="lineno"> 1283</span>        new_label-&gt;fresh = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1284</span> </div>
<div class="line"><span class="lineno"> 1285</span>        <span class="comment">// Determine bucket number for the new label.</span></div>
<div class="line"><span class="lineno"> 1286</span>        std::vector&lt;double&gt; new_resources(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size());</div>
<div class="line"><span class="lineno"> 1287</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1288</span>            new_resources[i] = new_label-&gt;resources[i];</div>
<div class="line"><span class="lineno"> 1289</span>        }</div>
<div class="line"><span class="lineno"> 1290</span>        <span class="keywordtype">int</span> bucket = fw ? <a class="code hl_function" href="#abb791c45d27a9425607480e3101f7d28">get_bucket_number&lt;Direction::Forward&gt;</a>(</div>
<div class="line"><span class="lineno"> 1291</span>                              new_label-&gt;node_id, new_resources)</div>
<div class="line"><span class="lineno"> 1292</span>                        : <a class="code hl_function" href="#abb791c45d27a9425607480e3101f7d28">get_bucket_number</a>&lt;<a class="code hl_enumeration" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a>::<a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Backward</a>&gt;(</div>
<div class="line"><span class="lineno"> 1293</span>                              new_label-&gt;node_id, new_resources);</div>
<div class="line"><span class="lineno"> 1294</span>        new_label-&gt;vertex = bucket;</div>
<div class="line"><span class="lineno"> 1295</span> </div>
<div class="line"><span class="lineno"> 1296</span>        <span class="keywordflow">return</span> new_label;</div>
<div class="line"><span class="lineno"> 1297</span>    }</div>
<div class="ttc" id="aDefinitions_8h_html_a224b9163917ac32fc95a60d8c1eec3aa"><div class="ttname"><a href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a></div><div class="ttdeci">Direction</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00077">Definitions.h:77</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a38bf6e63a45004dba3e06846ea151983"><div class="ttname"><a href="#a38bf6e63a45004dba3e06846ea151983">BucketGraph::branching_duals</a></div><div class="ttdeci">BranchingDualsPtr branching_duals</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00113">BucketGraph.h:113</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a78ac6a82cd695de4548fa6af05ee4d0c"><div class="ttname"><a href="#a78ac6a82cd695de4548fa6af05ee4d0c">BucketGraph::q_star</a></div><div class="ttdeci">std::vector&lt; double &gt; q_star</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00247">BucketGraph.h:247</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_abb791c45d27a9425607480e3101f7d28"><div class="ttname"><a href="#abb791c45d27a9425607480e3101f7d28">BucketGraph::get_bucket_number</a></div><div class="ttdeci">int get_bucket_number(int node, std::vector&lt; double &gt; &amp;values) noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l00086">BucketUtils.h:86</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_ac8ef42169458fa3ce65c86652e4f1dd8"><div class="ttname"><a href="#ac8ef42169458fa3ce65c86652e4f1dd8">BucketGraph::bit_mask_lookup</a></div><div class="ttdeci">static constexpr std::array&lt; uint64_t, 64 &gt; bit_mask_lookup</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00091">BucketGraph.h:91</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a820c42b7e4fbfb599cdde7550ba3a12e_cgraph.png" border="0" usemap="#aclassBucketGraph_a820c42b7e4fbfb599cdde7550ba3a12e_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a820c42b7e4fbfb599cdde7550ba3a12e_cgraph" id="aclassBucketGraph_a820c42b7e4fbfb599cdde7550ba3a12e_cgraph">
<area shape="rect" title=" " alt="" coords="5,100,159,141"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="207,5,374,46"/>
<area shape="poly" title=" " alt="" coords="121,97,206,55,218,50,220,55,208,60,123,102"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="223,70,358,96"/>
<area shape="poly" title=" " alt="" coords="159,104,207,95,208,100,160,109"/>
<area shape="rect" href="classArcDuals.html#ac75e53f0c4f24e6aca539c544e9f8109" title=" " alt="" coords="228,144,352,169"/>
<area shape="poly" title=" " alt="" coords="160,131,213,140,213,146,159,136"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="212,193,368,234"/>
<area shape="poly" title=" " alt="" coords="124,139,208,179,220,185,218,190,206,184,122,144"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="422,5,563,46"/>
<area shape="poly" title=" " alt="" coords="375,23,406,23,406,28,375,28"/>
<area shape="poly" title=" " alt="" coords="256,145,250,135,254,125,268,119,290,117,315,120,328,126,325,131,314,125,290,122,269,124,258,129,255,134,261,142"/>
</map>
</div>

</div>
</div>
<a id="aa9eea9800ea6652e736b960a729f2c14" name="aa9eea9800ea6652e736b960a729f2c14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9eea9800ea6652e736b960a729f2c14">&#9670;&#160;</a></span>computePhi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; int &gt; BucketGraph::computePhi </td>
          <td>(</td>
          <td class="paramtype">int &amp;</td>          <td class="paramname"><span class="paramname"><em>bucket_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>fw</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Computes the phi values for a given bucket ID and direction. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00196">196</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  196</span>                                                              {</div>
<div class="line"><span class="lineno">  197</span>    std::vector&lt;int&gt; phi;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    <span class="comment">// Get references based on the direction.</span></div>
<div class="line"><span class="lineno">  200</span>    <span class="keyword">auto</span> &amp;buckets = fw ? <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a> : <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>;</div>
<div class="line"><span class="lineno">  201</span>    <span class="keyword">auto</span> &amp;node_interval_trees =</div>
<div class="line"><span class="lineno">  202</span>        fw ? <a class="code hl_variable" href="#a1dda85f087bb1fc1ec387c1010c6b8e0">fw_node_interval_trees</a> : <a class="code hl_variable" href="#a9cac4e84e8eb32f15e9f5516ded673b1">bw_node_interval_trees</a>;</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>    <span class="comment">// Multi-dimensional resource case.</span></div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size() &gt; 1) {</div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordflow">if</span> (bucket_id &lt; 0 || bucket_id &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(buckets.size()))</div>
<div class="line"><span class="lineno">  207</span>            <span class="keywordflow">return</span> phi;</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> n_dims = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(intervals.size());</div>
<div class="line"><span class="lineno">  210</span>        std::vector&lt;double&gt; base_intervals(n_dims, 0.0);</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>        <span class="comment">// Get the node associated with the current bucket.</span></div>
<div class="line"><span class="lineno">  213</span>        <span class="keywordtype">int</span> node_id = buckets[bucket_id].node_id;</div>
<div class="line"><span class="lineno">  214</span>        <span class="keyword">const</span> VRPNode &amp;node = nodes[node_id];</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>        <span class="comment">// Recompute splits and base intervals per dimension using the same</span></div>
<div class="line"><span class="lineno">  217</span>        <span class="comment">// logic as in define_buckets.</span></div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; n_dims; ++r) {</div>
<div class="line"><span class="lineno">  219</span>            <span class="keywordtype">double</span> full_range = <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[r] - <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[r];</div>
<div class="line"><span class="lineno">  220</span>            <span class="keywordtype">double</span> node_range = node.<a class="code hl_variable" href="structVRPNode.html#ab65704aeca304b1b39f07015bda5c90b">ub</a>[r] - node.<a class="code hl_variable" href="structVRPNode.html#a98d257dc0557cf50b2c5f7073ea276be">lb</a>[r];</div>
<div class="line"><span class="lineno">  221</span>            <span class="keywordtype">int</span> splits = 1;</div>
<div class="line"><span class="lineno">  222</span>            <span class="keywordflow">if</span> (std::fabs(full_range) &gt;</div>
<div class="line"><span class="lineno">  223</span>                std::numeric_limits&lt;double&gt;::epsilon()) {</div>
<div class="line"><span class="lineno">  224</span>                <span class="keywordtype">double</span> splits_d =</div>
<div class="line"><span class="lineno">  225</span>                    (node_range * intervals[r].interval) / full_range;</div>
<div class="line"><span class="lineno">  226</span>                splits = std::max(1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::round(splits_d)));</div>
<div class="line"><span class="lineno">  227</span>            }</div>
<div class="line"><span class="lineno">  228</span>            base_intervals[r] = node_range / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(splits);</div>
<div class="line"><span class="lineno">  229</span>        }</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>        <span class="comment">// Start with the current bucket&#39;s baseline.</span></div>
<div class="line"><span class="lineno">  232</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;current_bucket = buckets[bucket_id];</div>
<div class="line"><span class="lineno">  233</span>        std::vector&lt;double&gt; target = fw ? current_bucket.lb : current_bucket.ub;</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>        <span class="comment">// Adjust the target vector by one base interval for each dimension.</span></div>
<div class="line"><span class="lineno">  236</span>        <span class="comment">// For forward, shift left (i.e. subtract) but do not go below the</span></div>
<div class="line"><span class="lineno">  237</span>        <span class="comment">// node&#39;s lb. For backward, shift right (i.e. add) but do not exceed the</span></div>
<div class="line"><span class="lineno">  238</span>        <span class="comment">// node&#39;s ub.</span></div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; n_dims; ++r) {</div>
<div class="line"><span class="lineno">  240</span>            <span class="keywordflow">if</span> (fw)</div>
<div class="line"><span class="lineno">  241</span>                target[r] = std::max(node.<a class="code hl_variable" href="structVRPNode.html#a98d257dc0557cf50b2c5f7073ea276be">lb</a>[r], target[r] - base_intervals[r]);</div>
<div class="line"><span class="lineno">  242</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  243</span>                target[r] = std::min(node.<a class="code hl_variable" href="structVRPNode.html#ab65704aeca304b1b39f07015bda5c90b">ub</a>[r], target[r] + base_intervals[r]);</div>
<div class="line"><span class="lineno">  244</span>        }</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>        <span class="comment">// Look up the candidate bucket in the node&#39;s interval tree.</span></div>
<div class="line"><span class="lineno">  247</span>        TreeNode *found_node = node_interval_trees[node_id].find(target);</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">if</span> (found_node != <span class="keyword">nullptr</span> &amp;&amp;</div>
<div class="line"><span class="lineno">  249</span>            buckets[found_node-&gt;<a class="code hl_variable" href="classTreeNode.html#a2fd707492e4632b0d54a1a87dcf32c07">bucket_index</a>].node_id == node_id) {</div>
<div class="line"><span class="lineno">  250</span><span class="preprocessor">#ifdef FIX_BUCKETS</span></div>
<div class="line"><span class="lineno">  251</span>            <span class="keywordtype">bool</span> not_fixed = fw ? <a class="code hl_function" href="#a491d87e43d4a6ec6ed9557be1769cd29">is_bucket_not_fixed_forward</a>(</div>
<div class="line"><span class="lineno">  252</span>                                      bucket_id, found_node-&gt;<a class="code hl_variable" href="classTreeNode.html#a2fd707492e4632b0d54a1a87dcf32c07">bucket_index</a>)</div>
<div class="line"><span class="lineno">  253</span>                                : <a class="code hl_function" href="#a90ce1e861b31ed9c05e36aa3f9ab6743">is_bucket_not_fixed_backward</a>(</div>
<div class="line"><span class="lineno">  254</span>                                      bucket_id, found_node-&gt;bucket_index);</div>
<div class="line"><span class="lineno">  255</span>            <span class="comment">// if (not_fixed)</span></div>
<div class="line"><span class="lineno">  256</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  257</span>            {</div>
<div class="line"><span class="lineno">  258</span>                phi.push_back(found_node-&gt;<a class="code hl_variable" href="classTreeNode.html#a2fd707492e4632b0d54a1a87dcf32c07">bucket_index</a>);</div>
<div class="line"><span class="lineno">  259</span>            }</div>
<div class="line"><span class="lineno">  260</span>        }</div>
<div class="line"><span class="lineno">  261</span>    }</div>
<div class="line"><span class="lineno">  262</span>    <span class="comment">// Single-resource case (simpler).</span></div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordtype">int</span> neighbor = fw ? bucket_id - 1 : bucket_id - 1;</div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">if</span> (neighbor &gt;= 0 &amp;&amp; neighbor &lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(buckets.size()) &amp;&amp;</div>
<div class="line"><span class="lineno">  266</span>            buckets[neighbor].node_id == buckets[bucket_id].node_id) {</div>
<div class="line"><span class="lineno">  267</span><span class="preprocessor">#ifdef FIX_BUCKETS</span></div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordtype">bool</span> not_fixed =</div>
<div class="line"><span class="lineno">  269</span>                fw ? <a class="code hl_function" href="#a491d87e43d4a6ec6ed9557be1769cd29">is_bucket_not_fixed_forward</a>(neighbor, bucket_id)</div>
<div class="line"><span class="lineno">  270</span>                   : <a class="code hl_function" href="#a90ce1e861b31ed9c05e36aa3f9ab6743">is_bucket_not_fixed_backward</a>(neighbor, bucket_id);</div>
<div class="line"><span class="lineno">  271</span>            <span class="comment">// if (not_fixed)</span></div>
<div class="line"><span class="lineno">  272</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  273</span>            {</div>
<div class="line"><span class="lineno">  274</span>                phi.push_back(neighbor);</div>
<div class="line"><span class="lineno">  275</span>            }</div>
<div class="line"><span class="lineno">  276</span>        }</div>
<div class="line"><span class="lineno">  277</span>    }</div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">return</span> phi;</div>
<div class="line"><span class="lineno">  279</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a1dda85f087bb1fc1ec387c1010c6b8e0"><div class="ttname"><a href="#a1dda85f087bb1fc1ec387c1010c6b8e0">BucketGraph::fw_node_interval_trees</a></div><div class="ttdeci">std::vector&lt; SplayTree &gt; fw_node_interval_trees</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00448">BucketGraph.h:448</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a491d87e43d4a6ec6ed9557be1769cd29"><div class="ttname"><a href="#a491d87e43d4a6ec6ed9557be1769cd29">BucketGraph::is_bucket_not_fixed_forward</a></div><div class="ttdeci">bool is_bucket_not_fixed_forward(int from, int to) const noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00335">BucketGraph.h:335</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a90ce1e861b31ed9c05e36aa3f9ab6743"><div class="ttname"><a href="#a90ce1e861b31ed9c05e36aa3f9ab6743">BucketGraph::is_bucket_not_fixed_backward</a></div><div class="ttdeci">bool is_bucket_not_fixed_backward(int from, int to) const noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00339">BucketGraph.h:339</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a9cac4e84e8eb32f15e9f5516ded673b1"><div class="ttname"><a href="#a9cac4e84e8eb32f15e9f5516ded673b1">BucketGraph::bw_node_interval_trees</a></div><div class="ttdeci">std::vector&lt; SplayTree &gt; bw_node_interval_trees</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00449">BucketGraph.h:449</a></div></div>
<div class="ttc" id="aclassTreeNode_html_a2fd707492e4632b0d54a1a87dcf32c07"><div class="ttname"><a href="classTreeNode.html#a2fd707492e4632b0d54a1a87dcf32c07">TreeNode::bucket_index</a></div><div class="ttdeci">int bucket_index</div><div class="ttdef"><b>Definition</b> <a href="Trees_8h_source.html#l00033">Trees.h:33</a></div></div>
<div class="ttc" id="astructVRPNode_html_a98d257dc0557cf50b2c5f7073ea276be"><div class="ttname"><a href="structVRPNode.html#a98d257dc0557cf50b2c5f7073ea276be">VRPNode::lb</a></div><div class="ttdeci">std::vector&lt; double &gt; lb</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00036">VRPNode.h:36</a></div></div>
<div class="ttc" id="astructVRPNode_html_ab65704aeca304b1b39f07015bda5c90b"><div class="ttname"><a href="structVRPNode.html#ab65704aeca304b1b39f07015bda5c90b">VRPNode::ub</a></div><div class="ttdeci">std::vector&lt; double &gt; ub</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00037">VRPNode.h:37</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_aa9eea9800ea6652e736b960a729f2c14_cgraph.png" border="0" usemap="#aclassBucketGraph_aa9eea9800ea6652e736b960a729f2c14_cgraph" alt=""/></div>
<map name="aclassBucketGraph_aa9eea9800ea6652e736b960a729f2c14_cgraph" id="aclassBucketGraph_aa9eea9800ea6652e736b960a729f2c14_cgraph">
<area shape="rect" title=" " alt="" coords="5,46,178,72"/>
<area shape="rect" href="classBucketGraph.html#a90ce1e861b31ed9c05e36aa3f9ab6743" title=" " alt="" coords="226,5,385,46"/>
<area shape="poly" title=" " alt="" coords="178,43,210,38,211,43,179,48"/>
<area shape="rect" href="classBucketGraph.html#a491d87e43d4a6ec6ed9557be1769cd29" title=" " alt="" coords="226,71,385,111"/>
<area shape="poly" title=" " alt="" coords="179,69,211,74,210,79,178,75"/>
<area shape="rect" href="classBucketGraph.html#a78be6c04ca36f1ad7b2e3a594898c335" title=" " alt="" coords="433,39,592,79"/>
<area shape="poly" title=" " alt="" coords="386,36,418,41,417,46,385,41"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="640,39,782,79"/>
<area shape="poly" title=" " alt="" coords="592,56,625,56,625,62,592,62"/>
<area shape="poly" title=" " alt="" coords="385,76,417,71,418,76,386,81"/>
</map>
</div>

</div>
</div>
<a id="a1546f6d1eec5a80afaed3be7ccda0d4a" name="a1546f6d1eec5a80afaed3be7ccda0d4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1546f6d1eec5a80afaed3be7ccda0d4a">&#9670;&#160;</a></span>ConcatenateLabel()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S, <a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::ConcatenateLabel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;</td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::atomic&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>best_cost</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Concatenates the label L with the bucket b and updates the best label pbest. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l00655">655</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  656</span>                                                                 {</div>
<div class="line"><span class="lineno">  657</span>    <span class="comment">// Determine the number of segments needed for the bucket visited</span></div>
<div class="line"><span class="lineno">  658</span>    <span class="comment">// bitmap.</span></div>
<div class="line"><span class="lineno">  659</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a> = (<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a> + 63) / 64;</div>
<div class="line"><span class="lineno">  660</span>    std::vector&lt;uint64_t&gt; Bvisited(<a class="code hl_variable" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a>, 0);</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="comment">// Use thread_local storage for the bucket stack to avoid reallocations.</span></div>
<div class="line"><span class="lineno">  663</span>    <span class="keyword">static</span> <span class="keyword">thread_local</span> std::vector&lt;int&gt; bucket_stack;</div>
<div class="line"><span class="lineno">  664</span>    bucket_stack.reserve(R_SIZE);  <span class="comment">// Reserve once at initialization</span></div>
<div class="line"><span class="lineno">  665</span>    bucket_stack.clear();          <span class="comment">// Clear for reuse</span></div>
<div class="line"><span class="lineno">  666</span>    bucket_stack.push_back(b);</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>    <span class="comment">// Choose symmetric buckets and cost-bar arrays based on symmetry.</span></div>
<div class="line"><span class="lineno">  669</span>    <span class="keyword">auto</span> &amp;other_buckets = <a class="code hl_function" href="#a2a66984a5d0225286c0598b884772f8c">assign_symmetry&lt;SYM&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  670</span>    <span class="keyword">auto</span> &amp;other_c_bar = <a class="code hl_function" href="#a2a66984a5d0225286c0598b884772f8c">assign_symmetry&lt;SYM&gt;</a>(<a class="code hl_variable" href="#a2ad2f263fc468798163873408972df73">fw_c_bar</a>, <a class="code hl_variable" href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">bw_c_bar</a>);</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>    <span class="comment">// Cache frequently accessed values.</span></div>
<div class="line"><span class="lineno">  673</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> L_node_id = L-&gt;<a class="code hl_variable" href="structLabel.html#a51392867ea22ca35fa6eed73d0978f57">node_id</a>;</div>
<div class="line"><span class="lineno">  674</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;L_resources = L-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>;</div>
<div class="line"><span class="lineno">  675</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;L_last_node = nodes[L_node_id];</div>
<div class="line"><span class="lineno">  676</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> L_cost = L-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a>;</div>
<div class="line"><span class="lineno">  677</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> bitmap_size = L-&gt;<a class="code hl_variable" href="structLabel.html#ac020ce84080430f28f2b2651be338693">visited_bitmap</a>.size();</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    <span class="comment">// Pre-compute if branching is active.</span></div>
<div class="line"><span class="lineno">  680</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> has_branching = !<a class="code hl_variable" href="#a38bf6e63a45004dba3e06846ea151983">branching_duals</a>-&gt;empty();</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span><span class="preprocessor">#if defined(SRC)</span></div>
<div class="line"><span class="lineno">  683</span>    <span class="comment">// SRC mode setup: Only relevant in Stage::Four.</span></div>
<div class="line"><span class="lineno">  684</span>    <span class="keyword">decltype</span>(<a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>) cutter = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S &gt; <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604ebaca8a2087e5557e317599344687a57391">Stage::Three</a>) {</div>
<div class="line"><span class="lineno">  686</span>        cutter = <a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>;</div>
<div class="line"><span class="lineno">  687</span>    }</div>
<div class="line"><span class="lineno">  688</span>    <span class="keyword">const</span> <span class="keyword">auto</span> active_cuts = cutter-&gt;getActiveCuts();</div>
<div class="line"><span class="lineno">  689</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>    <span class="comment">// Lambda to check if the visited bitmaps of L and L_bw overlap.</span></div>
<div class="line"><span class="lineno">  692</span>    <span class="keyword">auto</span> overlapsVisited = [bitmap_size, <span class="keyword">this</span>](<span class="keyword">const</span> Label *L,</div>
<div class="line"><span class="lineno">  693</span>                                               <span class="keyword">const</span> Label *L_bw) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><span class="lineno">  694</span>        <span class="comment">// Make a local copy of the visited bitmap.</span></div>
<div class="line"><span class="lineno">  695</span>        <span class="keyword">auto</span> visited_bitmap = L-&gt;visited_bitmap;</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>        <span class="comment">// check if visited_bitmap overlaps</span></div>
<div class="line"><span class="lineno">  698</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; bitmap_size; ++i) {</div>
<div class="line"><span class="lineno">  699</span>            <span class="keywordflow">if</span> (visited_bitmap[i] &amp; L_bw-&gt;visited_bitmap[i]) {</div>
<div class="line"><span class="lineno">  700</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  701</span>            }</div>
<div class="line"><span class="lineno">  702</span>        }</div>
<div class="line"><span class="lineno">  703</span>        <span class="comment">// Iterate in reverse over nodes_covered without allocating a new</span></div>
<div class="line"><span class="lineno">  704</span>        <span class="comment">// vector.</span></div>
<div class="line"><span class="lineno">  705</span>        <span class="comment">// for (auto it = L_bw-&gt;nodes_covered.rbegin();</span></div>
<div class="line"><span class="lineno">  706</span>        <span class="comment">//      it != L_bw-&gt;nodes_covered.rend(); ++it) {</span></div>
<div class="line"><span class="lineno">  707</span>        <span class="comment">//     uint16_t node_id = *it;</span></div>
<div class="line"><span class="lineno">  708</span>        <span class="comment">//     if (node_id == L-&gt;node_id ||</span></div>
<div class="line"><span class="lineno">  709</span>        <span class="comment">//         is_node_visited(visited_bitmap, node_id))</span></div>
<div class="line"><span class="lineno">  710</span>        <span class="comment">//         return true;</span></div>
<div class="line"><span class="lineno">  711</span>        <span class="comment">//     // Update the bitmap for each 64-bit word.</span></div>
<div class="line"><span class="lineno">  712</span>        <span class="comment">//     for (size_t i = 0; i &lt; visited_bitmap.size(); ++i) {</span></div>
<div class="line"><span class="lineno">  713</span>        <span class="comment">//         uint64_t &amp;current_visited = visited_bitmap[i];</span></div>
<div class="line"><span class="lineno">  714</span>        <span class="comment">//         if (current_visited != 0)</span></div>
<div class="line"><span class="lineno">  715</span>        <span class="comment">//             current_visited &amp;= neighborhoods_bitmap[node_id][i];</span></div>
<div class="line"><span class="lineno">  716</span>        <span class="comment">//     }</span></div>
<div class="line"><span class="lineno">  717</span>        <span class="comment">//     set_node_visited(visited_bitmap, node_id);</span></div>
<div class="line"><span class="lineno">  718</span>        <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  719</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  720</span>    };</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span><span class="comment">// Lambda to apply SRC adjustments to total_cost (only for Stage::Four).</span></div>
<div class="line"><span class="lineno">  723</span><span class="preprocessor">#if defined(SRC)</span></div>
<div class="line"><span class="lineno">  724</span>    <span class="keyword">auto</span> applySRCAdjustments = [&amp;](<span class="keywordtype">double</span> total_cost, <span class="keyword">const</span> Label *L,</div>
<div class="line"><span class="lineno">  725</span>                                   <span class="keyword">const</span> Label *L_bw) -&gt; <span class="keywordtype">double</span> {</div>
<div class="line"><span class="lineno">  726</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a>) {</div>
<div class="line"><span class="lineno">  727</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;active_cut : active_cuts) {</div>
<div class="line"><span class="lineno">  728</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;cut = *active_cut.cut_ptr;</div>
<div class="line"><span class="lineno">  729</span>                <span class="keyword">const</span> <span class="keywordtype">size_t</span> idx = active_cut.index;</div>
<div class="line"><span class="lineno">  730</span>                <span class="keyword">const</span> <span class="keywordtype">double</span> dual = active_cut.dual_value;</div>
<div class="line"><span class="lineno">  731</span>                <span class="keywordflow">if</span> (L-&gt;SRCmap[idx] + L_bw-&gt;SRCmap[idx] &gt;= cut.p.den) {</div>
<div class="line"><span class="lineno">  732</span>                    total_cost -= dual;</div>
<div class="line"><span class="lineno">  733</span>                }</div>
<div class="line"><span class="lineno">  734</span>            }</div>
<div class="line"><span class="lineno">  735</span>        }</div>
<div class="line"><span class="lineno">  736</span>        <span class="keywordflow">return</span> total_cost;</div>
<div class="line"><span class="lineno">  737</span>    };</div>
<div class="line"><span class="lineno">  738</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>    <span class="comment">// Process buckets until the stack is empty.</span></div>
<div class="line"><span class="lineno">  741</span>    <span class="keywordflow">while</span> (!bucket_stack.empty()) {</div>
<div class="line"><span class="lineno">  742</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> current_bucket = bucket_stack.back();</div>
<div class="line"><span class="lineno">  743</span>        bucket_stack.pop_back();</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>        <span class="comment">// Mark current_bucket as visited in the bitmap.</span></div>
<div class="line"><span class="lineno">  746</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> segment = current_bucket &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  747</span>        <span class="keyword">const</span> uint64_t bit_mask = <a class="code hl_variable" href="#ac8ef42169458fa3ce65c86652e4f1dd8">bit_mask_lookup</a>[current_bucket &amp; 63];</div>
<div class="line"><span class="lineno">  748</span>        Bvisited[segment] |= bit_mask;</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>        <span class="comment">// Get the node id associated with this bucket.</span></div>
<div class="line"><span class="lineno">  751</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> bucketLprimenode = other_buckets[current_bucket].node_id;</div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordtype">double</span> travel_cost = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(L_node_id, bucketLprimenode);</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span><span class="preprocessor">#if defined(RCC) || defined(EXACT_RCC)</span></div>
<div class="line"><span class="lineno">  755</span>        <span class="comment">// Adjust travel cost with arc duals in Stage Four.</span></div>
<div class="line"><span class="lineno">  756</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a>) {</div>
<div class="line"><span class="lineno">  757</span>            travel_cost -= arc_duals.getDual(L_node_id, bucketLprimenode);</div>
<div class="line"><span class="lineno">  758</span>        }</div>
<div class="line"><span class="lineno">  759</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>        <span class="keywordflow">if</span> (has_branching) {</div>
<div class="line"><span class="lineno">  762</span>            travel_cost -=</div>
<div class="line"><span class="lineno">  763</span>                <a class="code hl_variable" href="#a38bf6e63a45004dba3e06846ea151983">branching_duals</a>-&gt;getDual(L_node_id, bucketLprimenode);</div>
<div class="line"><span class="lineno">  764</span>        }</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> path_cost = L_cost + travel_cost;</div>
<div class="line"><span class="lineno">  767</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> bound = other_c_bar[current_bucket];</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>        <span class="comment">// Early bound check.</span></div>
<div class="line"><span class="lineno">  770</span>        <span class="keywordflow">if</span> ((S != <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba81999728593fbd0249e73b02f3d7ad74">Stage::Enumerate</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  771</span>             <a class="code hl_function" href="namespacenumericutils.html#a8d554fdb4468068ab99dc7a219308492">numericutils::gte</a>(path_cost + bound, best_cost.load())) ||</div>
<div class="line"><span class="lineno">  772</span>            (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba81999728593fbd0249e73b02f3d7ad74">Stage::Enumerate</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  773</span>             <a class="code hl_function" href="namespacenumericutils.html#a8d554fdb4468068ab99dc7a219308492">numericutils::gte</a>(path_cost + bound, <a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a>))) {</div>
<div class="line"><span class="lineno">  774</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  775</span>        }</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>        <span class="comment">// Retrieve labels in the current bucket.</span></div>
<div class="line"><span class="lineno">  778</span>        <span class="keyword">auto</span> &amp;bucket = other_buckets[current_bucket];</div>
<div class="line"><span class="lineno">  779</span>        <span class="keyword">auto</span> labels = bucket.get_labels();</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">if</span> (labels.empty()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>        <span class="comment">// Process each label in the current bucket.</span></div>
<div class="line"><span class="lineno">  783</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> Label *L_bw : labels) {</div>
<div class="line"><span class="lineno">  784</span>            <span class="comment">// Skip invalid labels with combined check</span></div>
<div class="line"><span class="lineno">  785</span>            <span class="keywordflow">if</span> (L_bw == <span class="keyword">nullptr</span> || L_bw-&gt;is_dominated ||</div>
<div class="line"><span class="lineno">  786</span>                L_bw-&gt;node_id == L_node_id) {</div>
<div class="line"><span class="lineno">  787</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  788</span>            }</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>            <span class="comment">// Check feasibility</span></div>
<div class="line"><span class="lineno">  791</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a858b68317a9a0a60723698509d78d575">check_feasibility</a>(L, L_bw)) {</div>
<div class="line"><span class="lineno">  792</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  793</span>            }</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>            <span class="keywordtype">double</span> total_cost = path_cost + L_bw-&gt;cost;</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span><span class="preprocessor">#if defined(SRC)</span></div>
<div class="line"><span class="lineno">  798</span>            <span class="comment">// Apply SRC adjustments if in Stage Four.</span></div>
<div class="line"><span class="lineno">  799</span>            total_cost = applySRCAdjustments(total_cost, L, L_bw);</div>
<div class="line"><span class="lineno">  800</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  801</span>            <span class="keywordtype">double</span> latest_best = best_cost.load();</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>            <span class="comment">// Filter based on total cost against best known cost or gap.</span></div>
<div class="line"><span class="lineno">  804</span>            <span class="keywordtype">bool</span> cost_acceptable;</div>
<div class="line"><span class="lineno">  805</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S != <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba81999728593fbd0249e73b02f3d7ad74">Stage::Enumerate</a>) {</div>
<div class="line"><span class="lineno">  806</span>                cost_acceptable = <a class="code hl_function" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e">numericutils::lt</a>(total_cost, latest_best);</div>
<div class="line"><span class="lineno">  807</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  808</span>                cost_acceptable = <a class="code hl_function" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e">numericutils::lt</a>(total_cost, <a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a>);</div>
<div class="line"><span class="lineno">  809</span>            }</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>            <span class="keywordflow">if</span> (!cost_acceptable) {</div>
<div class="line"><span class="lineno">  812</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  813</span>            }</div>
<div class="line"><span class="lineno">  814</span>            <span class="comment">// Use critical section only when necessary</span></div>
<div class="line"><span class="lineno">  815</span>            {</div>
<div class="line"><span class="lineno">  816</span>                std::lock_guard&lt;std::mutex&gt; lock(<a class="code hl_variable" href="#aecdf486636f66e32e261b0ff146da36d">merge_mutex</a>);</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>                <span class="comment">// Use atomic compare-exchange loop with exponential backoff</span></div>
<div class="line"><span class="lineno">  819</span>                <span class="keywordtype">double</span> expected = best_cost.load();</div>
<div class="line"><span class="lineno">  820</span>                <span class="keywordtype">int</span> backoff_counter = 0;</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>                <span class="keywordflow">while</span> (<a class="code hl_function" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e">numericutils::lt</a>(total_cost, expected) &amp;&amp;</div>
<div class="line"><span class="lineno">  823</span>                       !best_cost.compare_exchange_weak(expected, total_cost)) {</div>
<div class="line"><span class="lineno">  824</span>                    <span class="comment">// Simple exponential backoff to reduce contention</span></div>
<div class="line"><span class="lineno">  825</span>                    <span class="keywordflow">if</span> (++backoff_counter &gt; 3) {</div>
<div class="line"><span class="lineno">  826</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (1 &lt;&lt; (backoff_counter - 3)); ++i) {</div>
<div class="line"><span class="lineno">  827</span>                            _mm_pause();  <span class="comment">// CPU hint to reduce power in spin</span></div>
<div class="line"><span class="lineno">  828</span>                                          <span class="comment">// loops</span></div>
<div class="line"><span class="lineno">  829</span>                        }</div>
<div class="line"><span class="lineno">  830</span>                    }</div>
<div class="line"><span class="lineno">  831</span>                }</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>                <span class="comment">// Add label if still an improvement</span></div>
<div class="line"><span class="lineno">  834</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#afa1d31c5f18a361509ba1faacca5feb4">numericutils::lte</a>(total_cost, best_cost.load())) {</div>
<div class="line"><span class="lineno">  835</span>                    <span class="keyword">auto</span> pbest = <a class="code hl_function" href="#a7d2d975e13b1fdeaafca99aa6fb29486">compute_label&lt;S&gt;</a>(L, L_bw, total_cost);</div>
<div class="line"><span class="lineno">  836</span>                    <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.push_back(pbest);</div>
<div class="line"><span class="lineno">  837</span>                }</div>
<div class="line"><span class="lineno">  838</span>            }</div>
<div class="line"><span class="lineno">  839</span>        }</div>
<div class="line"><span class="lineno">  840</span>        <span class="comment">// Add neighbor buckets to the stack if they have not been visited.</span></div>
<div class="line"><span class="lineno">  841</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b_prime : <a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>[current_bucket]) {</div>
<div class="line"><span class="lineno">  842</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> seg_prime = b_prime &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  843</span>            <span class="keyword">const</span> uint64_t mask_prime = <a class="code hl_variable" href="#ac8ef42169458fa3ce65c86652e4f1dd8">bit_mask_lookup</a>[b_prime &amp; 63];</div>
<div class="line"><span class="lineno">  844</span>            <span class="keywordflow">if</span> (!(Bvisited[seg_prime] &amp; mask_prime)) {</div>
<div class="line"><span class="lineno">  845</span>                bucket_stack.push_back(b_prime);</div>
<div class="line"><span class="lineno">  846</span>            }</div>
<div class="line"><span class="lineno">  847</span>        }</div>
<div class="line"><span class="lineno">  848</span>    }</div>
<div class="line"><span class="lineno">  849</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_aca8133200c1122e29b87b314d82604eba81999728593fbd0249e73b02f3d7ad74"><div class="ttname"><a href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba81999728593fbd0249e73b02f3d7ad74">Stage::Enumerate</a></div><div class="ttdeci">@ Enumerate</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00078">Definitions.h:78</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a2a66984a5d0225286c0598b884772f8c"><div class="ttname"><a href="#a2a66984a5d0225286c0598b884772f8c">BucketGraph::assign_symmetry</a></div><div class="ttdeci">constexpr auto &amp; assign_symmetry(auto &amp;FW, auto &amp;BW) noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00197">BucketGraph.h:197</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aecdf486636f66e32e261b0ff146da36d"><div class="ttname"><a href="#aecdf486636f66e32e261b0ff146da36d">BucketGraph::merge_mutex</a></div><div class="ttdeci">std::mutex merge_mutex</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00087">BucketGraph.h:87</a></div></div>
<div class="ttc" id="anamespacenumericutils_html_a2124ad1e887fe39c413948ee927c879e"><div class="ttname"><a href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e">numericutils::lt</a></div><div class="ttdeci">bool lt(double a, double b, double threshold=eps)</div><div class="ttdef"><b>Definition</b> <a href="NumericUtils_8h_source.html#l00018">NumericUtils.h:18</a></div></div>
<div class="ttc" id="anamespacenumericutils_html_a8d554fdb4468068ab99dc7a219308492"><div class="ttname"><a href="namespacenumericutils.html#a8d554fdb4468068ab99dc7a219308492">numericutils::gte</a></div><div class="ttdeci">bool gte(double a, double b, double threshold=eps)</div><div class="ttdef"><b>Definition</b> <a href="NumericUtils_8h_source.html#l00024">NumericUtils.h:24</a></div></div>
<div class="ttc" id="anamespacenumericutils_html_afa1d31c5f18a361509ba1faacca5feb4"><div class="ttname"><a href="namespacenumericutils.html#afa1d31c5f18a361509ba1faacca5feb4">numericutils::lte</a></div><div class="ttdeci">bool lte(double a, double b, double threshold=eps)</div><div class="ttdef"><b>Definition</b> <a href="NumericUtils_8h_source.html#l00030">NumericUtils.h:30</a></div></div>
<div class="ttc" id="astructLabel_html_ac020ce84080430f28f2b2651be338693"><div class="ttname"><a href="structLabel.html#ac020ce84080430f28f2b2651be338693">Label::visited_bitmap</a></div><div class="ttdeci">std::array&lt; uint64_t, num_words &gt; visited_bitmap</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00047">Label.h:47</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a1546f6d1eec5a80afaed3be7ccda0d4a_cgraph.png" border="0" usemap="#aclassBucketGraph_a1546f6d1eec5a80afaed3be7ccda0d4a_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a1546f6d1eec5a80afaed3be7ccda0d4a_cgraph" id="aclassBucketGraph_a1546f6d1eec5a80afaed3be7ccda0d4a_cgraph">
<area shape="rect" title=" " alt="" coords="5,185,182,226"/>
<area shape="rect" href="classBucketGraph.html#a2a66984a5d0225286c0598b884772f8c" title=" " alt="" coords="236,5,377,46"/>
<area shape="poly" title=" " alt="" coords="109,183,159,125,192,92,228,62,243,52,246,56,231,66,196,96,163,129,113,187"/>
<area shape="rect" href="classBucketGraph.html#a858b68317a9a0a60723698509d78d575" title="Checks the feasibility of a given forward and backward label." alt="" coords="237,185,376,226"/>
<area shape="poly" title=" " alt="" coords="182,203,222,203,222,208,182,208"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="431,128,565,153"/>
<area shape="poly" title=" " alt="" coords="113,183,162,141,194,121,229,106,287,95,346,97,401,107,448,120,447,125,400,112,345,102,287,101,230,111,197,126,166,145,117,187"/>
<area shape="rect" href="classBucketGraph.html#a7d2d975e13b1fdeaafca99aa6fb29486" title=" " alt="" coords="230,120,383,161"/>
<area shape="poly" title=" " alt="" coords="161,182,222,163,224,168,163,187"/>
<area shape="rect" href="namespacenumericutils.html#a8d554fdb4468068ab99dc7a219308492" title=" " alt="" coords="249,250,364,276"/>
<area shape="poly" title=" " alt="" coords="172,224,242,243,240,248,171,229"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="254,300,358,325"/>
<area shape="poly" title=" " alt="" coords="126,224,174,255,231,286,244,291,242,296,229,291,171,260,123,229"/>
<area shape="rect" href="namespacenumericutils.html#afa1d31c5f18a361509ba1faacca5feb4" title=" " alt="" coords="251,349,362,374"/>
<area shape="poly" title=" " alt="" coords="113,225,162,280,195,310,231,335,239,340,237,345,228,340,192,314,158,284,109,228"/>
<area shape="poly" title=" " alt="" coords="367,182,443,156,444,161,369,187"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="444,193,552,218"/>
<area shape="poly" title=" " alt="" coords="376,203,428,203,428,208,376,208"/>
<area shape="poly" title=" " alt="" coords="384,138,415,138,415,143,384,143"/>
</map>
</div>

</div>
</div>
<a id="a5d04c8a2da52796e87c1b443aa221a76" name="a5d04c8a2da52796e87c1b443aa221a76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d04c8a2da52796e87c1b443aa221a76">&#9670;&#160;</a></span>define_buckets() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::define_buckets </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the buckets for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>. </p>
<p>This function determines the number of buckets based on the time intervals and assigns buckets to the graph. It computes resource bounds for each vertex and defines the bounds of each bucket. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l00174">174</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  174</span>                                 {</div>
<div class="line"><span class="lineno">  175</span>    <span class="comment">// 1. Save the old buckets and fixed status.</span></div>
<div class="line"><span class="lineno">  176</span>    std::vector&lt;Bucket&gt; old_buckets;</div>
<div class="line"><span class="lineno">  177</span>    std::vector&lt;bool&gt; was_fixed;</div>
<div class="line"><span class="lineno">  178</span>    <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordtype">size_t</span> old_size = buckets.size();</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    <span class="comment">// Map to store the fixed range (min_lb and max_ub) for each node pair.</span></div>
<div class="line"><span class="lineno">  182</span>    ankerl::unordered_dense::map&lt;</div>
<div class="line"><span class="lineno">  183</span>        int, ankerl::unordered_dense::map&lt;</div>
<div class="line"><span class="lineno">  184</span>                 int, std::pair&lt;std::vector&lt;double&gt;, std::vector&lt;double&gt;&gt;&gt;&gt;</div>
<div class="line"><span class="lineno">  185</span>        node_pair_fixed_ranges;</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">if</span> (old_size &gt; 0) {</div>
<div class="line"><span class="lineno">  188</span>        old_buckets = buckets;</div>
<div class="line"><span class="lineno">  189</span>        was_fixed.resize(old_size * old_size, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  190</span>        <span class="keyword">auto</span> &amp;old_bitmap =</div>
<div class="line"><span class="lineno">  191</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a8e279c08b248c529a0efec509e8a5a47">fw_fixed_buckets_bitmap</a>, <a class="code hl_variable" href="#adf35ff56b8e466beb5b9699379d84e67">bw_fixed_buckets_bitmap</a>);</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>        <span class="comment">// Mark fixed bucket pairs.</span></div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; old_size; ++i) {</div>
<div class="line"><span class="lineno">  195</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; old_size; ++j) {</div>
<div class="line"><span class="lineno">  196</span>                <span class="keywordtype">size_t</span> pos = i * old_size + j;</div>
<div class="line"><span class="lineno">  197</span>                <span class="keywordflow">if</span> (pos / 64 &lt; old_bitmap.size()) {</div>
<div class="line"><span class="lineno">  198</span>                    was_fixed[pos] =</div>
<div class="line"><span class="lineno">  199</span>                        ((old_bitmap[pos / 64] &amp; (1ULL &lt;&lt; (pos % 64))) != 0);</div>
<div class="line"><span class="lineno">  200</span>                }</div>
<div class="line"><span class="lineno">  201</span>            }</div>
<div class="line"><span class="lineno">  202</span>        }</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> num_intervals = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size();</div>
<div class="line"><span class="lineno">  205</span>        <span class="comment">// For each fixed bucket pair, update the fixed range for the</span></div>
<div class="line"><span class="lineno">  206</span>        <span class="comment">// corresponding node pair.</span></div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; old_size; ++i) {</div>
<div class="line"><span class="lineno">  208</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; old_size; ++j) {</div>
<div class="line"><span class="lineno">  209</span>                <span class="keywordflow">if</span> (!was_fixed[i * old_size + j]) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  210</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket_from = old_buckets[i];</div>
<div class="line"><span class="lineno">  211</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket_to = old_buckets[j];</div>
<div class="line"><span class="lineno">  212</span>                <span class="keywordtype">int</span> from_node = bucket_from.node_id;</div>
<div class="line"><span class="lineno">  213</span>                <span class="keywordtype">int</span> to_node = bucket_to.node_id;</div>
<div class="line"><span class="lineno">  214</span>                <span class="comment">// Initialize if necessary.</span></div>
<div class="line"><span class="lineno">  215</span>                <span class="keywordflow">if</span> (node_pair_fixed_ranges[from_node].find(to_node) ==</div>
<div class="line"><span class="lineno">  216</span>                    node_pair_fixed_ranges[from_node].end()) {</div>
<div class="line"><span class="lineno">  217</span>                    node_pair_fixed_ranges[from_node][to_node] = {</div>
<div class="line"><span class="lineno">  218</span>                        std::vector&lt;double&gt;(num_intervals,</div>
<div class="line"><span class="lineno">  219</span>                                            std::numeric_limits&lt;double&gt;::max()),</div>
<div class="line"><span class="lineno">  220</span>                        std::vector&lt;double&gt;(</div>
<div class="line"><span class="lineno">  221</span>                            num_intervals,</div>
<div class="line"><span class="lineno">  222</span>                            std::numeric_limits&lt;double&gt;::lowest())};</div>
<div class="line"><span class="lineno">  223</span>                }</div>
<div class="line"><span class="lineno">  224</span>                <span class="keyword">auto</span> &amp;[min_lbs, max_ubs] =</div>
<div class="line"><span class="lineno">  225</span>                    node_pair_fixed_ranges[from_node][to_node];</div>
<div class="line"><span class="lineno">  226</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno">  227</span>                    min_lbs[r] = std::min(min_lbs[r], bucket_from.lb[r]);</div>
<div class="line"><span class="lineno">  228</span>                    max_ubs[r] = std::max(max_ubs[r], bucket_from.ub[r]);</div>
<div class="line"><span class="lineno">  229</span>                }</div>
<div class="line"><span class="lineno">  230</span>            }</div>
<div class="line"><span class="lineno">  231</span>        }</div>
<div class="line"><span class="lineno">  232</span>    }  <span class="comment">// End if old buckets exist.</span></div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// 2. Clear the current buckets and fixed bitmap.</span></div>
<div class="line"><span class="lineno">  235</span>    buckets.clear();</div>
<div class="line"><span class="lineno">  236</span>    <span class="keyword">auto</span> &amp;fixed_buckets_bitmap =</div>
<div class="line"><span class="lineno">  237</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a8e279c08b248c529a0efec509e8a5a47">fw_fixed_buckets_bitmap</a>, <a class="code hl_variable" href="#adf35ff56b8e466beb5b9699379d84e67">bw_fixed_buckets_bitmap</a>);</div>
<div class="line"><span class="lineno">  238</span>    fixed_buckets_bitmap.clear();</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <span class="comment">// 3. Prepare variables and containers for new bucket definition.</span></div>
<div class="line"><span class="lineno">  241</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> num_intervals = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size();</div>
<div class="line"><span class="lineno">  242</span>    std::vector&lt;double&gt; total_ranges(num_intervals);  <span class="comment">// unused in current code</span></div>
<div class="line"><span class="lineno">  243</span>    std::vector&lt;double&gt; base_intervals(</div>
<div class="line"><span class="lineno">  244</span>        num_intervals);  <span class="comment">// unused in current code</span></div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>    <span class="keyword">auto</span> &amp;num_buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a782519bd84892e3cb57bb237395dcfad">num_buckets_fw</a>, <a class="code hl_variable" href="#aaeaf126e28cef7e5d242c91e6ffcc379">num_buckets_bw</a>);</div>
<div class="line"><span class="lineno">  247</span>    <span class="keyword">auto</span> &amp;num_buckets_index =</div>
<div class="line"><span class="lineno">  248</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a>, <a class="code hl_variable" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a>);</div>
<div class="line"><span class="lineno">  249</span>    <span class="keyword">auto</span> &amp;node_interval_trees =</div>
<div class="line"><span class="lineno">  250</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a1dda85f087bb1fc1ec387c1010c6b8e0">fw_node_interval_trees</a>, <a class="code hl_variable" href="#a9cac4e84e8eb32f15e9f5516ded673b1">bw_node_interval_trees</a>);</div>
<div class="line"><span class="lineno">  251</span>    <span class="keyword">auto</span> &amp;buckets_size = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno">  252</span>    <span class="keyword">auto</span> &amp;bucket_splits = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a0fe7b8d8e40343998f39f03425c76009">fw_bucket_splits</a>, <a class="code hl_variable" href="#a750c64166af5c5c0c351793fbad6cfb8">bw_bucket_splits</a>);</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_nodes = nodes.size();</div>
<div class="line"><span class="lineno">  255</span>    num_buckets.resize(num_nodes);</div>
<div class="line"><span class="lineno">  256</span>    num_buckets_index.resize(num_nodes);</div>
<div class="line"><span class="lineno">  257</span>    node_interval_trees.assign(num_nodes, SplayTree());</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>    <span class="comment">// Lambda to calculate an interval for one dimension.</span></div>
<div class="line"><span class="lineno">  260</span>    <span class="keyword">auto</span> calculate_interval =</div>
<div class="line"><span class="lineno">  261</span>        [&amp;](<span class="keywordtype">double</span> lb, <span class="keywordtype">double</span> ub, <span class="keywordtype">double</span> base_interval, <span class="keywordtype">int</span> pos,</div>
<div class="line"><span class="lineno">  262</span>            <span class="keywordtype">int</span> max_intervals, <span class="keywordtype">bool</span> is_forward) -&gt; std::pair&lt;double, double&gt; {</div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordtype">double</span> start, end;</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">if</span> (is_forward) {</div>
<div class="line"><span class="lineno">  265</span>            <span class="comment">// For the first interval, start exactly at lb.</span></div>
<div class="line"><span class="lineno">  266</span>            start = (pos == 0) ? lb : lb + pos * base_interval;</div>
<div class="line"><span class="lineno">  267</span>            <span class="comment">// For the last interval, end exactly at ub.</span></div>
<div class="line"><span class="lineno">  268</span>            end = (pos == max_intervals - 1) ? ub</div>
<div class="line"><span class="lineno">  269</span>                                             : lb + (pos + 1) * base_interval;</div>
<div class="line"><span class="lineno">  270</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  271</span>            <span class="comment">// For Backward: first interval gets ub exactly, last gets lb</span></div>
<div class="line"><span class="lineno">  272</span>            <span class="comment">// exactly.</span></div>
<div class="line"><span class="lineno">  273</span>            start = (pos == max_intervals - 1) ? lb</div>
<div class="line"><span class="lineno">  274</span>                                               : ub - (pos + 1) * base_interval;</div>
<div class="line"><span class="lineno">  275</span>            end = (pos == 0) ? ub : ub - pos * base_interval;</div>
<div class="line"><span class="lineno">  276</span>        }</div>
<div class="line"><span class="lineno">  277</span>        start = <a class="code hl_function" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf">roundToTwoDecimalPlaces</a>(start);</div>
<div class="line"><span class="lineno">  278</span>        end = <a class="code hl_function" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf">roundToTwoDecimalPlaces</a>(end);</div>
<div class="line"><span class="lineno">  279</span>        <span class="keywordflow">return</span> {start, end};</div>
<div class="line"><span class="lineno">  280</span>    };</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <span class="keywordtype">int</span> cum_sum = 0;</div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordtype">int</span> bucket_index = 0;</div>
<div class="line"><span class="lineno">  284</span>    std::vector&lt;double&gt; interval_start(num_intervals);</div>
<div class="line"><span class="lineno">  285</span>    std::vector&lt;double&gt; interval_end(num_intervals);</div>
<div class="line"><span class="lineno">  286</span>    std::vector&lt;int&gt; pos(num_intervals,</div>
<div class="line"><span class="lineno">  287</span>                         0);  <span class="comment">// combination indices for multi-dimensions</span></div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <span class="comment">// 4. Process each node to define new buckets.</span></div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;vrp_node : nodes) {</div>
<div class="line"><span class="lineno">  291</span>        std::vector&lt;int&gt; node_split_counts(num_intervals);</div>
<div class="line"><span class="lineno">  292</span>        std::vector&lt;double&gt; node_base_interval(num_intervals);</div>
<div class="line"><span class="lineno">  293</span>        <span class="comment">// Determine the number of splits and base interval for each</span></div>
<div class="line"><span class="lineno">  294</span>        <span class="comment">// resource dimension.</span></div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno">  296</span>            <span class="keywordtype">double</span> full_range = <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[r] - <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[r];</div>
<div class="line"><span class="lineno">  297</span>            <span class="keywordtype">double</span> node_range = vrp_node.ub[r] - vrp_node.lb[r];</div>
<div class="line"><span class="lineno">  298</span>            <span class="keywordtype">int</span> splits = 1;</div>
<div class="line"><span class="lineno">  299</span>            <span class="keywordflow">if</span> (std::fabs(full_range) &gt;</div>
<div class="line"><span class="lineno">  300</span>                std::numeric_limits&lt;double&gt;::epsilon()) {</div>
<div class="line"><span class="lineno">  301</span>                <span class="keywordtype">double</span> splits_d =</div>
<div class="line"><span class="lineno">  302</span>                    (node_range * intervals[r].interval) / full_range;</div>
<div class="line"><span class="lineno">  303</span>                splits = std::max(1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::round(splits_d)));</div>
<div class="line"><span class="lineno">  304</span>            }</div>
<div class="line"><span class="lineno">  305</span>            node_split_counts[r] = splits;</div>
<div class="line"><span class="lineno">  306</span>            node_base_interval[r] =</div>
<div class="line"><span class="lineno">  307</span>                (vrp_node.ub[r] - vrp_node.lb[r]) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(splits);</div>
<div class="line"><span class="lineno">  308</span>        }</div>
<div class="line"><span class="lineno">  309</span>        <span class="comment">// Optionally store node-specific split counts.</span></div>
<div class="line"><span class="lineno">  310</span>        bucket_splits[vrp_node.id] = node_split_counts;</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordtype">int</span> n_buckets = 0;</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">if</span> (num_intervals == 1) {</div>
<div class="line"><span class="lineno">  314</span>            <span class="comment">// Single-dimensional case.</span></div>
<div class="line"><span class="lineno">  315</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; node_split_counts[0]; ++j) {</div>
<div class="line"><span class="lineno">  316</span>                <span class="keyword">auto</span> [int_start, int_end] = calculate_interval(</div>
<div class="line"><span class="lineno">  317</span>                    vrp_node.lb[0], vrp_node.ub[0], node_base_interval[0], j,</div>
<div class="line"><span class="lineno">  318</span>                    node_split_counts[0], D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>);</div>
<div class="line"><span class="lineno">  319</span>                <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Direction::Backward</a>)</div>
<div class="line"><span class="lineno">  320</span>                    int_start = std::max(int_start, vrp_node.lb[0]);</div>
<div class="line"><span class="lineno">  321</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  322</span>                    int_end = std::min(int_end, vrp_node.ub[0]);</div>
<div class="line"><span class="lineno">  323</span>                buckets.push_back(<a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">Bucket</a>(vrp_node.id,</div>
<div class="line"><span class="lineno">  324</span>                                         std::vector&lt;double&gt;{int_start},</div>
<div class="line"><span class="lineno">  325</span>                                         std::vector&lt;double&gt;{int_end}));</div>
<div class="line"><span class="lineno">  326</span>                n_buckets++;</div>
<div class="line"><span class="lineno">  327</span>                cum_sum++;</div>
<div class="line"><span class="lineno">  328</span>            }</div>
<div class="line"><span class="lineno">  329</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  330</span>            <span class="comment">// Multi-dimensional: iterate over all combinations.</span></div>
<div class="line"><span class="lineno">  331</span>            fmt::print(<span class="stringliteral">&quot;Multiple intervals\n&quot;</span>);</div>
<div class="line"><span class="lineno">  332</span>            std::fill(pos.begin(), pos.end(), 0);</div>
<div class="line"><span class="lineno">  333</span>            <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno">  334</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno">  335</span>                    <span class="keyword">auto</span> [int_start, int_end] = calculate_interval(</div>
<div class="line"><span class="lineno">  336</span>                        vrp_node.lb[r], vrp_node.ub[r], node_base_interval[r],</div>
<div class="line"><span class="lineno">  337</span>                        pos[r], node_split_counts[r], D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>);</div>
<div class="line"><span class="lineno">  338</span>                    interval_start[r] = int_start;</div>
<div class="line"><span class="lineno">  339</span>                    interval_end[r] = int_end;</div>
<div class="line"><span class="lineno">  340</span>                    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Direction::Backward</a>)</div>
<div class="line"><span class="lineno">  341</span>                        interval_start[r] =</div>
<div class="line"><span class="lineno">  342</span>                            std::max(interval_start[r], <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[r]);</div>
<div class="line"><span class="lineno">  343</span>                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  344</span>                        interval_end[r] = std::min(interval_end[r], <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[r]);</div>
<div class="line"><span class="lineno">  345</span>                }</div>
<div class="line"><span class="lineno">  346</span>                buckets.push_back(</div>
<div class="line"><span class="lineno">  347</span>                    <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">Bucket</a>(vrp_node.id, interval_start, interval_end));</div>
<div class="line"><span class="lineno">  348</span>                n_buckets++;</div>
<div class="line"><span class="lineno">  349</span>                cum_sum++;</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>                <span class="comment">// Generate next combination.</span></div>
<div class="line"><span class="lineno">  352</span>                <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno">  353</span>                <span class="keywordflow">while</span> (i &lt; num_intervals) {</div>
<div class="line"><span class="lineno">  354</span>                    ++pos[i];</div>
<div class="line"><span class="lineno">  355</span>                    <span class="keywordflow">if</span> (pos[i] &lt; node_split_counts[i])</div>
<div class="line"><span class="lineno">  356</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  357</span>                    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  358</span>                        pos[i] = 0;</div>
<div class="line"><span class="lineno">  359</span>                        ++i;</div>
<div class="line"><span class="lineno">  360</span>                    }</div>
<div class="line"><span class="lineno">  361</span>                }</div>
<div class="line"><span class="lineno">  362</span>                <span class="keywordflow">if</span> (i == num_intervals) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  363</span>            }</div>
<div class="line"><span class="lineno">  364</span>        }</div>
<div class="line"><span class="lineno">  365</span>        num_buckets[vrp_node.id] = n_buckets;</div>
<div class="line"><span class="lineno">  366</span>        num_buckets_index[vrp_node.id] = cum_sum - n_buckets;</div>
<div class="line"><span class="lineno">  367</span>        <span class="comment">// Optionally assign node_interval_trees[vrp_node.id] = node_tree;</span></div>
<div class="line"><span class="lineno">  368</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  370</span>            <a class="code hl_variable" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a> = (n_buckets + 63) &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  371</span>        }</div>
<div class="line"><span class="lineno">  372</span>    }</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    <span class="comment">// 5. Process fixed bucket ranges (if available).</span></div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">if</span> (!node_pair_fixed_ranges.empty()) {</div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordtype">size_t</span> new_size = buckets.size();</div>
<div class="line"><span class="lineno">  377</span>        <span class="keywordtype">size_t</span> required_bitmap_words =</div>
<div class="line"><span class="lineno">  378</span>            std::max(<span class="keywordtype">size_t</span>(1), ((new_size * new_size) + 63) / 64);</div>
<div class="line"><span class="lineno">  379</span>        fixed_buckets_bitmap.clear();</div>
<div class="line"><span class="lineno">  380</span>        fixed_buckets_bitmap.resize(required_bitmap_words, 0);</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> from = 0; from &lt; new_size; ++from) {</div>
<div class="line"><span class="lineno">  382</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket_from = buckets[from];</div>
<div class="line"><span class="lineno">  383</span>            <span class="keywordtype">int</span> from_node = bucket_from.node_id;</div>
<div class="line"><span class="lineno">  384</span>            <span class="keywordflow">if</span> (node_pair_fixed_ranges.find(from_node) ==</div>
<div class="line"><span class="lineno">  385</span>                node_pair_fixed_ranges.end())</div>
<div class="line"><span class="lineno">  386</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  387</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> to = 0; to &lt; new_size; ++to) {</div>
<div class="line"><span class="lineno">  388</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket_to = buckets[to];</div>
<div class="line"><span class="lineno">  389</span>                <span class="keywordtype">int</span> to_node = bucket_to.node_id;</div>
<div class="line"><span class="lineno">  390</span>                <span class="keywordflow">if</span> (node_pair_fixed_ranges[from_node].find(to_node) ==</div>
<div class="line"><span class="lineno">  391</span>                    node_pair_fixed_ranges[from_node].end())</div>
<div class="line"><span class="lineno">  392</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  393</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;range = node_pair_fixed_ranges[from_node][to_node];</div>
<div class="line"><span class="lineno">  394</span>                <span class="keywordtype">bool</span> in_range = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  395</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size(); ++r) {</div>
<div class="line"><span class="lineno">  396</span>                    <span class="keywordflow">if</span> (bucket_from.lb[r] &lt; range.first[r] ||</div>
<div class="line"><span class="lineno">  397</span>                        bucket_from.ub[r] &gt; range.second[r]) {</div>
<div class="line"><span class="lineno">  398</span>                        in_range = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  399</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  400</span>                    }</div>
<div class="line"><span class="lineno">  401</span>                }</div>
<div class="line"><span class="lineno">  402</span>                <span class="keywordflow">if</span> (in_range) {</div>
<div class="line"><span class="lineno">  403</span>                    <span class="keywordtype">size_t</span> bit_pos = from * new_size + to;</div>
<div class="line"><span class="lineno">  404</span>                    <span class="keywordtype">size_t</span> word_idx = bit_pos / 64;</div>
<div class="line"><span class="lineno">  405</span>                    <span class="keywordflow">if</span> (word_idx &lt; fixed_buckets_bitmap.size()) {</div>
<div class="line"><span class="lineno">  406</span>                        fixed_buckets_bitmap[word_idx] |=</div>
<div class="line"><span class="lineno">  407</span>                            (1ULL &lt;&lt; (bit_pos % 64));</div>
<div class="line"><span class="lineno">  408</span>                    }</div>
<div class="line"><span class="lineno">  409</span>                }</div>
<div class="line"><span class="lineno">  410</span>            }</div>
<div class="line"><span class="lineno">  411</span>        }</div>
<div class="line"><span class="lineno">  412</span>    }</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>    <span class="comment">// 6. Finalize: record the total bucket count.</span></div>
<div class="line"><span class="lineno">  415</span>    buckets_size = buckets.size();</div>
<div class="line"><span class="lineno">  416</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a59e29a115ea52c2f99d3ff52f83cb3cf"><div class="ttname"><a href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf">roundToTwoDecimalPlaces</a></div><div class="ttdeci">double roundToTwoDecimalPlaces(double value)</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00404">Definitions.h:404</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a782519bd84892e3cb57bb237395dcfad"><div class="ttname"><a href="#a782519bd84892e3cb57bb237395dcfad">BucketGraph::num_buckets_fw</a></div><div class="ttdeci">std::vector&lt; int &gt; num_buckets_fw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00383">BucketGraph.h:383</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aaeaf126e28cef7e5d242c91e6ffcc379"><div class="ttname"><a href="#aaeaf126e28cef7e5d242c91e6ffcc379">BucketGraph::num_buckets_bw</a></div><div class="ttdeci">std::vector&lt; int &gt; num_buckets_bw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00384">BucketGraph.h:384</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a5d04c8a2da52796e87c1b443aa221a76_cgraph.png" border="0" usemap="#aclassBucketGraph_a5d04c8a2da52796e87c1b443aa221a76_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a5d04c8a2da52796e87c1b443aa221a76_cgraph" id="aclassBucketGraph_a5d04c8a2da52796e87c1b443aa221a76_cgraph">
<area shape="rect" title="Defines the buckets for the BucketGraph." alt="" coords="5,35,143,75"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="210,5,352,46"/>
<area shape="poly" title=" " alt="" coords="143,43,194,35,195,40,144,48"/>
<area shape="rect" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf" title=" " alt="" coords="191,70,371,96"/>
<area shape="poly" title=" " alt="" coords="144,62,175,66,175,71,143,67"/>
</map>
</div>

</div>
</div>
<a id="a81eab196dbca0caf987ff14899abe843" name="a81eab196dbca0caf987ff14899abe843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81eab196dbca0caf987ff14899abe843">&#9670;&#160;</a></span>define_buckets() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::define_buckets </td>
          <td>(</td>
          <td class="paramtype">const int</td>          <td class="paramname"><span class="paramname"><em>fixed_num_buckets</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01407">1407</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1407</span>                                                     {</div>
<div class="line"><span class="lineno"> 1408</span>        <span class="comment">// Get references to forward/backward buckets.</span></div>
<div class="line"><span class="lineno"> 1409</span>        <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno"> 1410</span>        buckets.clear();</div>
<div class="line"><span class="lineno"> 1411</span> </div>
<div class="line"><span class="lineno"> 1412</span>        <span class="comment">// Also clear the fixed bitmap (if used elsewhere).</span></div>
<div class="line"><span class="lineno"> 1413</span>        <span class="keyword">auto</span> &amp;fixed_buckets_bitmap =</div>
<div class="line"><span class="lineno"> 1414</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a8e279c08b248c529a0efec509e8a5a47">fw_fixed_buckets_bitmap</a>, <a class="code hl_variable" href="#adf35ff56b8e466beb5b9699379d84e67">bw_fixed_buckets_bitmap</a>);</div>
<div class="line"><span class="lineno"> 1415</span>        fixed_buckets_bitmap.clear();</div>
<div class="line"><span class="lineno"> 1416</span> </div>
<div class="line"><span class="lineno"> 1417</span>        <span class="comment">// Get other direction-specific containers.</span></div>
<div class="line"><span class="lineno"> 1418</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> num_intervals =</div>
<div class="line"><span class="lineno"> 1419</span>            <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size();  <span class="comment">// number of resource dimensions</span></div>
<div class="line"><span class="lineno"> 1420</span>        <span class="keyword">auto</span> &amp;num_buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a782519bd84892e3cb57bb237395dcfad">num_buckets_fw</a>, <a class="code hl_variable" href="#aaeaf126e28cef7e5d242c91e6ffcc379">num_buckets_bw</a>);</div>
<div class="line"><span class="lineno"> 1421</span>        <span class="keyword">auto</span> &amp;num_buckets_index =</div>
<div class="line"><span class="lineno"> 1422</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a>, <a class="code hl_variable" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a>);</div>
<div class="line"><span class="lineno"> 1423</span>        <span class="keyword">auto</span> &amp;node_interval_trees =</div>
<div class="line"><span class="lineno"> 1424</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a1dda85f087bb1fc1ec387c1010c6b8e0">fw_node_interval_trees</a>, <a class="code hl_variable" href="#a9cac4e84e8eb32f15e9f5516ded673b1">bw_node_interval_trees</a>);</div>
<div class="line"><span class="lineno"> 1425</span>        <span class="keyword">auto</span> &amp;buckets_size =</div>
<div class="line"><span class="lineno"> 1426</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno"> 1427</span>        <span class="keyword">auto</span> &amp;bucket_splits =</div>
<div class="line"><span class="lineno"> 1428</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a0fe7b8d8e40343998f39f03425c76009">fw_bucket_splits</a>, <a class="code hl_variable" href="#a750c64166af5c5c0c351793fbad6cfb8">bw_bucket_splits</a>);</div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span>        <span class="comment">// Pre-allocate per-node containers.</span></div>
<div class="line"><span class="lineno"> 1431</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_nodes = nodes.size();</div>
<div class="line"><span class="lineno"> 1432</span>        num_buckets.resize(num_nodes);</div>
<div class="line"><span class="lineno"> 1433</span>        num_buckets_index.resize(num_nodes);</div>
<div class="line"><span class="lineno"> 1434</span>        node_interval_trees.assign(num_nodes, SplayTree());</div>
<div class="line"><span class="lineno"> 1435</span> </div>
<div class="line"><span class="lineno"> 1436</span>        <span class="comment">// Lambda to calculate an interval for a given resource dimension.</span></div>
<div class="line"><span class="lineno"> 1437</span>        <span class="comment">// Rounding is applied after computing boundaries.</span></div>
<div class="line"><span class="lineno"> 1438</span>        <span class="keyword">auto</span> calculate_interval =</div>
<div class="line"><span class="lineno"> 1439</span>            [&amp;](<span class="keywordtype">double</span> lb, <span class="keywordtype">double</span> ub, <span class="keywordtype">double</span> base_interval, <span class="keywordtype">int</span> pos,</div>
<div class="line"><span class="lineno"> 1440</span>                <span class="keywordtype">int</span> max_interval,</div>
<div class="line"><span class="lineno"> 1441</span>                <span class="keywordtype">bool</span> is_forward) -&gt; std::pair&lt;double, double&gt; {</div>
<div class="line"><span class="lineno"> 1442</span>            <span class="keywordtype">double</span> start, end;</div>
<div class="line"><span class="lineno"> 1443</span>            <span class="comment">// if (is_forward) {</span></div>
<div class="line"><span class="lineno"> 1444</span>            start = (pos == 0) ? lb : lb + pos * base_interval;</div>
<div class="line"><span class="lineno"> 1445</span>            end =</div>
<div class="line"><span class="lineno"> 1446</span>                (pos == max_interval - 1) ? ub : lb + (pos + 1) * base_interval;</div>
<div class="line"><span class="lineno"> 1447</span>            <span class="comment">// } else {</span></div>
<div class="line"><span class="lineno"> 1448</span>            <span class="comment">//     start = (pos == max_interval - 1)</span></div>
<div class="line"><span class="lineno"> 1449</span>            <span class="comment">//                 ? lb</span></div>
<div class="line"><span class="lineno"> 1450</span>            <span class="comment">//                 : ub - (pos + 1) * base_interval;</span></div>
<div class="line"><span class="lineno"> 1451</span>            <span class="comment">//     end = (pos == 0) ? ub : ub - pos * base_interval;</span></div>
<div class="line"><span class="lineno"> 1452</span>            <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 1453</span>            <span class="keywordflow">return</span> {<a class="code hl_function" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf">roundToTwoDecimalPlaces</a>(start),</div>
<div class="line"><span class="lineno"> 1454</span>                    <a class="code hl_function" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf">roundToTwoDecimalPlaces</a>(end)};</div>
<div class="line"><span class="lineno"> 1455</span>        };</div>
<div class="line"><span class="lineno"> 1456</span> </div>
<div class="line"><span class="lineno"> 1457</span>        <span class="keywordtype">int</span> bucket_index = 0;</div>
<div class="line"><span class="lineno"> 1458</span>        <span class="keywordtype">int</span> cum_sum = 0;</div>
<div class="line"><span class="lineno"> 1459</span>        std::vector&lt;double&gt; interval_start(num_intervals);</div>
<div class="line"><span class="lineno"> 1460</span>        std::vector&lt;double&gt; interval_end(num_intervals);</div>
<div class="line"><span class="lineno"> 1461</span>        <span class="comment">// &quot;pos&quot; holds the current combination indices when</span></div>
<div class="line"><span class="lineno"> 1462</span>        <span class="comment">// multi-dimensional.</span></div>
<div class="line"><span class="lineno"> 1463</span>        std::vector&lt;int&gt; pos(num_intervals, 0);</div>
<div class="line"><span class="lineno"> 1464</span> </div>
<div class="line"><span class="lineno"> 1465</span>        <span class="comment">// Process each node (job) to define its buckets.</span></div>
<div class="line"><span class="lineno"> 1466</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;VRPNode : nodes) {</div>
<div class="line"><span class="lineno"> 1467</span>            <span class="comment">// Compute the number of splits for each resource dimension.</span></div>
<div class="line"><span class="lineno"> 1468</span>            <span class="comment">// For a single dimension, we use the fixed number directly.</span></div>
<div class="line"><span class="lineno"> 1469</span>            <span class="comment">// For multiple dimensions we choose an equal split in each</span></div>
<div class="line"><span class="lineno"> 1470</span>            <span class="comment">// dimension.</span></div>
<div class="line"><span class="lineno"> 1471</span>            std::vector&lt;int&gt; node_split_counts(num_intervals, 1);</div>
<div class="line"><span class="lineno"> 1472</span>            <span class="keywordflow">if</span> (num_intervals == 1) {</div>
<div class="line"><span class="lineno"> 1473</span>                node_split_counts[0] = fixed_num_buckets;</div>
<div class="line"><span class="lineno"> 1474</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1475</span>                <span class="comment">// Compute an equal split count per dimension (rounded).</span></div>
<div class="line"><span class="lineno"> 1476</span>                <span class="keywordtype">int</span> equal_split =</div>
<div class="line"><span class="lineno"> 1477</span>                    std::max(1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::round(std::pow(</div>
<div class="line"><span class="lineno"> 1478</span>                                    fixed_num_buckets, 1.0 / num_intervals))));</div>
<div class="line"><span class="lineno"> 1479</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno"> 1480</span>                    node_split_counts[r] = equal_split;</div>
<div class="line"><span class="lineno"> 1481</span>                }</div>
<div class="line"><span class="lineno"> 1482</span>                <span class="comment">// Adjust the first dimension if the product is less than</span></div>
<div class="line"><span class="lineno"> 1483</span>                <span class="comment">// fixed_num_buckets.</span></div>
<div class="line"><span class="lineno"> 1484</span>                <span class="keywordtype">int</span> product = 1;</div>
<div class="line"><span class="lineno"> 1485</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno"> 1486</span>                    product *= node_split_counts[r];</div>
<div class="line"><span class="lineno"> 1487</span>                }</div>
<div class="line"><span class="lineno"> 1488</span>                <span class="keywordflow">if</span> (product &lt; fixed_num_buckets) {</div>
<div class="line"><span class="lineno"> 1489</span>                    <span class="keywordtype">int</span> factor = fixed_num_buckets / product;</div>
<div class="line"><span class="lineno"> 1490</span>                    node_split_counts[0] *= factor;</div>
<div class="line"><span class="lineno"> 1491</span>                }</div>
<div class="line"><span class="lineno"> 1492</span>            }</div>
<div class="line"><span class="lineno"> 1493</span> </div>
<div class="line"><span class="lineno"> 1494</span>            <span class="comment">// Compute the width (base interval) for each resource</span></div>
<div class="line"><span class="lineno"> 1495</span>            <span class="comment">// dimension.</span></div>
<div class="line"><span class="lineno"> 1496</span>            std::vector&lt;double&gt; node_base_interval(num_intervals);</div>
<div class="line"><span class="lineno"> 1497</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno"> 1498</span>                node_base_interval[r] =</div>
<div class="line"><span class="lineno"> 1499</span>                    (VRPNode.ub[r] - VRPNode.lb[r]) /</div>
<div class="line"><span class="lineno"> 1500</span>                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(node_split_counts[r]);</div>
<div class="line"><span class="lineno"> 1501</span>            }</div>
<div class="line"><span class="lineno"> 1502</span> </div>
<div class="line"><span class="lineno"> 1503</span>            <span class="comment">// Optionally store the per-node split information.</span></div>
<div class="line"><span class="lineno"> 1504</span>            <span class="comment">// (Here we store just the first dimension&#39;s split count; you</span></div>
<div class="line"><span class="lineno"> 1505</span>            <span class="comment">// could store the full vector.)</span></div>
<div class="line"><span class="lineno"> 1506</span>            bucket_splits[VRPNode.id] = (num_intervals == 1)</div>
<div class="line"><span class="lineno"> 1507</span>                                            ? node_split_counts[0]</div>
<div class="line"><span class="lineno"> 1508</span>                                            : node_split_counts[0];</div>
<div class="line"><span class="lineno"> 1509</span> </div>
<div class="line"><span class="lineno"> 1510</span>            SplayTree node_tree;</div>
<div class="line"><span class="lineno"> 1511</span>            <span class="keywordtype">int</span> n_buckets = 0;</div>
<div class="line"><span class="lineno"> 1512</span> </div>
<div class="line"><span class="lineno"> 1513</span>            <span class="keywordflow">if</span> (num_intervals == 1) {</div>
<div class="line"><span class="lineno"> 1514</span>                <span class="comment">// Single-dimensional splitting.</span></div>
<div class="line"><span class="lineno"> 1515</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; node_split_counts[0]; ++j) {</div>
<div class="line"><span class="lineno"> 1516</span>                    <span class="keyword">auto</span> [start, end] = calculate_interval(</div>
<div class="line"><span class="lineno"> 1517</span>                        VRPNode.lb[0], VRPNode.ub[0], node_base_interval[0], j,</div>
<div class="line"><span class="lineno"> 1518</span>                        node_split_counts[0], D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>);</div>
<div class="line"><span class="lineno"> 1519</span>                    <span class="comment">// Clamp to the node&#39;s bounds.</span></div>
<div class="line"><span class="lineno"> 1520</span>                    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Direction::Backward</a>) {</div>
<div class="line"><span class="lineno"> 1521</span>                        start = std::max(start, VRPNode.lb[0]);</div>
<div class="line"><span class="lineno"> 1522</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1523</span>                        end = std::min(end, VRPNode.ub[0]);</div>
<div class="line"><span class="lineno"> 1524</span>                    }</div>
<div class="line"><span class="lineno"> 1525</span>                    buckets.push_back(<a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">Bucket</a>(VRPNode.id,</div>
<div class="line"><span class="lineno"> 1526</span>                                             std::vector&lt;double&gt;{start},</div>
<div class="line"><span class="lineno"> 1527</span>                                             std::vector&lt;double&gt;{end}));</div>
<div class="line"><span class="lineno"> 1528</span>                    node_tree.<a class="code hl_function" href="classSplayTree.html#a082bcce6c2734f2bbf7e967c32c8aa7f">insert</a>(std::vector&lt;double&gt;{start},</div>
<div class="line"><span class="lineno"> 1529</span>                                     std::vector&lt;double&gt;{end}, bucket_index++);</div>
<div class="line"><span class="lineno"> 1530</span>                    n_buckets++;</div>
<div class="line"><span class="lineno"> 1531</span>                    cum_sum++;</div>
<div class="line"><span class="lineno"> 1532</span>                }</div>
<div class="line"><span class="lineno"> 1533</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1534</span>                <span class="comment">// Multi-dimensional splitting.</span></div>
<div class="line"><span class="lineno"> 1535</span>                std::fill(pos.begin(), pos.end(), 0);</div>
<div class="line"><span class="lineno"> 1536</span>                <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><span class="lineno"> 1537</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno"> 1538</span>                        <span class="keyword">auto</span> [start, end] = calculate_interval(</div>
<div class="line"><span class="lineno"> 1539</span>                            VRPNode.lb[r], VRPNode.ub[r], node_base_interval[r],</div>
<div class="line"><span class="lineno"> 1540</span>                            pos[r], node_split_counts[r],</div>
<div class="line"><span class="lineno"> 1541</span>                            D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>);</div>
<div class="line"><span class="lineno"> 1542</span>                        interval_start[r] = start;</div>
<div class="line"><span class="lineno"> 1543</span>                        interval_end[r] = end;</div>
<div class="line"><span class="lineno"> 1544</span>                        <span class="comment">// Optionally clamp to global resource bounds.</span></div>
<div class="line"><span class="lineno"> 1545</span>                        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Direction::Backward</a>) {</div>
<div class="line"><span class="lineno"> 1546</span>                            interval_start[r] =</div>
<div class="line"><span class="lineno"> 1547</span>                                std::max(interval_start[r], <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[r]);</div>
<div class="line"><span class="lineno"> 1548</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1549</span>                            interval_end[r] =</div>
<div class="line"><span class="lineno"> 1550</span>                                std::min(interval_end[r], <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[r]);</div>
<div class="line"><span class="lineno"> 1551</span>                        }</div>
<div class="line"><span class="lineno"> 1552</span>                    }</div>
<div class="line"><span class="lineno"> 1553</span>                    buckets.push_back(</div>
<div class="line"><span class="lineno"> 1554</span>                        <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">Bucket</a>(VRPNode.id, interval_start, interval_end));</div>
<div class="line"><span class="lineno"> 1555</span>                    node_tree.<a class="code hl_function" href="classSplayTree.html#a082bcce6c2734f2bbf7e967c32c8aa7f">insert</a>(interval_start, interval_end,</div>
<div class="line"><span class="lineno"> 1556</span>                                     bucket_index++);</div>
<div class="line"><span class="lineno"> 1557</span>                    n_buckets++;</div>
<div class="line"><span class="lineno"> 1558</span>                    cum_sum++;</div>
<div class="line"><span class="lineno"> 1559</span> </div>
<div class="line"><span class="lineno"> 1560</span>                    <span class="comment">// Generate next combination of splits.</span></div>
<div class="line"><span class="lineno"> 1561</span>                    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno"> 1562</span>                    <span class="keywordflow">while</span> (i &lt; num_intervals) {</div>
<div class="line"><span class="lineno"> 1563</span>                        ++pos[i];</div>
<div class="line"><span class="lineno"> 1564</span>                        <span class="keywordflow">if</span> (pos[i] &lt; node_split_counts[i]) {</div>
<div class="line"><span class="lineno"> 1565</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1566</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1567</span>                            pos[i] = 0;</div>
<div class="line"><span class="lineno"> 1568</span>                            ++i;</div>
<div class="line"><span class="lineno"> 1569</span>                        }</div>
<div class="line"><span class="lineno"> 1570</span>                    }</div>
<div class="line"><span class="lineno"> 1571</span>                    <span class="keywordflow">if</span> (i == num_intervals) <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1572</span>                }</div>
<div class="line"><span class="lineno"> 1573</span>            }</div>
<div class="line"><span class="lineno"> 1574</span> </div>
<div class="line"><span class="lineno"> 1575</span>            <span class="comment">// Update per-node bucket bookkeeping.</span></div>
<div class="line"><span class="lineno"> 1576</span>            num_buckets[VRPNode.id] = n_buckets;</div>
<div class="line"><span class="lineno"> 1577</span>            num_buckets_index[VRPNode.id] = cum_sum - n_buckets;</div>
<div class="line"><span class="lineno"> 1578</span>            node_interval_trees[VRPNode.id] = node_tree;</div>
<div class="line"><span class="lineno"> 1579</span>        }</div>
<div class="line"><span class="lineno"> 1580</span> </div>
<div class="line"><span class="lineno"> 1581</span>        <span class="comment">// Update the overall bucket count.</span></div>
<div class="line"><span class="lineno"> 1582</span>        buckets_size = buckets.size();</div>
<div class="line"><span class="lineno"> 1583</span>    }</div>
<div class="ttc" id="aclassSplayTree_html_a082bcce6c2734f2bbf7e967c32c8aa7f"><div class="ttname"><a href="classSplayTree.html#a082bcce6c2734f2bbf7e967c32c8aa7f">SplayTree::insert</a></div><div class="ttdeci">void insert(const std::vector&lt; double &gt; &amp;low, const std::vector&lt; double &gt; &amp;high, int bucket_index)</div><div class="ttdef"><b>Definition</b> <a href="Trees_8h_source.html#l00236">Trees.h:236</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a81eab196dbca0caf987ff14899abe843_cgraph.png" border="0" usemap="#aclassBucketGraph_a81eab196dbca0caf987ff14899abe843_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a81eab196dbca0caf987ff14899abe843_cgraph" id="aclassBucketGraph_a81eab196dbca0caf987ff14899abe843_cgraph">
<area shape="rect" title=" " alt="" coords="5,63,143,103"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="210,5,352,46"/>
<area shape="poly" title=" " alt="" coords="143,61,195,47,196,52,144,66"/>
<area shape="rect" href="classSplayTree.html#a082bcce6c2734f2bbf7e967c32c8aa7f" title=" " alt="" coords="222,70,340,96"/>
<area shape="poly" title=" " alt="" coords="143,80,206,80,206,86,143,86"/>
<area shape="rect" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf" title=" " alt="" coords="191,120,371,145"/>
<area shape="poly" title=" " alt="" coords="144,97,210,113,209,118,143,102"/>
</map>
</div>

</div>
</div>
<a id="a3425fb8e2340ddde4be8faefd8656865" name="a3425fb8e2340ddde4be8faefd8656865"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3425fb8e2340ddde4be8faefd8656865">&#9670;&#160;</a></span>define_elementarity_sets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::define_elementarity_sets </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00404">404</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  404</span>                                    {</div>
<div class="line"><span class="lineno">  405</span>        <span class="keywordtype">size_t</span> num_nodes = nodes.size();</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>        <span class="comment">// Initialize elementarity sets</span></div>
<div class="line"><span class="lineno">  408</span>        <a class="code hl_variable" href="#a47e48b3401a5611676526b47489c9afc">elementarity_bitmap</a>.resize(num_nodes);  <span class="comment">// Bitmap for elementarity sets</span></div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_nodes; ++i) {</div>
<div class="line"><span class="lineno">  411</span>            <span class="comment">// Each customer should appear in its own elementarity</span></div>
<div class="line"><span class="lineno">  412</span>            <span class="comment">// set</span></div>
<div class="line"><span class="lineno">  413</span>            <span class="keywordtype">size_t</span> num_segments = (num_nodes + 63) / 64;</div>
<div class="line"><span class="lineno">  414</span>            <a class="code hl_variable" href="#a47e48b3401a5611676526b47489c9afc">elementarity_bitmap</a>[i].resize(num_segments, 0);</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>            <span class="comment">// Mark the node itself in the elementarity set</span></div>
<div class="line"><span class="lineno">  417</span>            <span class="keywordtype">size_t</span> segment_self = i &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordtype">size_t</span> bit_position_self = i &amp; 63;</div>
<div class="line"><span class="lineno">  419</span>            <a class="code hl_variable" href="#a47e48b3401a5611676526b47489c9afc">elementarity_bitmap</a>[i][segment_self] |= (1ULL &lt;&lt; bit_position_self);</div>
<div class="line"><span class="lineno">  420</span>        }</div>
<div class="line"><span class="lineno">  421</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_a47e48b3401a5611676526b47489c9afc"><div class="ttname"><a href="#a47e48b3401a5611676526b47489c9afc">BucketGraph::elementarity_bitmap</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; uint64_t &gt; &gt; elementarity_bitmap</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00400">BucketGraph.h:400</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acd7d40f2575e0465f9960497afbe7f7a" name="acd7d40f2575e0465f9960497afbe7f7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd7d40f2575e0465f9960497afbe7f7a">&#9670;&#160;</a></span>define_packing_sets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::define_packing_sets </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00423">423</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  423</span>                               {</div>
<div class="line"><span class="lineno">  424</span>        <span class="keywordtype">size_t</span> num_nodes = nodes.size();</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>        <span class="comment">// Initialize packing sets</span></div>
<div class="line"><span class="lineno">  427</span>        <a class="code hl_variable" href="#a77972ca77209a8fad937cc84bf616eb8">packing_bitmap</a>.resize(num_nodes);  <span class="comment">// Bitmap for packing sets</span></div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_nodes; ++i) {</div>
<div class="line"><span class="lineno">  430</span>            <span class="comment">// Each customer should appear in its own packing set</span></div>
<div class="line"><span class="lineno">  431</span>            <span class="keywordtype">size_t</span> num_segments = (num_nodes + 63) / 64;</div>
<div class="line"><span class="lineno">  432</span>            <a class="code hl_variable" href="#a77972ca77209a8fad937cc84bf616eb8">packing_bitmap</a>[i].resize(num_segments, 0);</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>            <span class="comment">// Mark the node itself in the packing set</span></div>
<div class="line"><span class="lineno">  435</span>            <span class="keywordtype">size_t</span> segment_self = i &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  436</span>            <span class="keywordtype">size_t</span> bit_position_self = i &amp; 63;</div>
<div class="line"><span class="lineno">  437</span>            <a class="code hl_variable" href="#a77972ca77209a8fad937cc84bf616eb8">packing_bitmap</a>[i][segment_self] |= (1ULL &lt;&lt; bit_position_self);</div>
<div class="line"><span class="lineno">  438</span>        }</div>
<div class="line"><span class="lineno">  439</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_a77972ca77209a8fad937cc84bf616eb8"><div class="ttname"><a href="#a77972ca77209a8fad937cc84bf616eb8">BucketGraph::packing_bitmap</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; uint64_t &gt; &gt; packing_bitmap</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00402">BucketGraph.h:402</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99cf37f55610682c8bc8c3d1a9e05d83" name="a99cf37f55610682c8bc8c3d1a9e05d83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99cf37f55610682c8bc8c3d1a9e05d83">&#9670;&#160;</a></span>DominatedInCompWiseSmallerBuckets() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::DominatedInCompWiseSmallerBuckets </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *__restrict__</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bucket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;__restrict__</td>          <td class="paramname"><span class="paramname"><em>c_bar</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint64_t &gt; &amp;__restrict__</td>          <td class="paramname"><span class="paramname"><em>Bvisited</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint &amp;</td>          <td class="paramname"><span class="paramname"><em>stat_n_dom</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines if a label is dominated in component-wise smaller buckets. </p>
<p>This function checks if a given label is dominated by any other label in component-wise smaller buckets. The dominance is determined based on the cost and order of the buckets. </p>

<p class="definition">Definition at line <a class="el" href="BucketSolve_8h_source.html#l01264">1264</a> of file <a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1267</span>                                                                           {</div>
<div class="line"><span class="lineno"> 1268</span>    <span class="comment">// Cache direction-specific data</span></div>
<div class="line"><span class="lineno"> 1269</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno"> 1270</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Phi = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>, <a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>);</div>
<div class="line"><span class="lineno"> 1271</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;uf = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a077e9ffa43523f437f55703fcae4a5b5">fw_union_find</a>, <a class="code hl_variable" href="#a0e73efd3e095762e2a7ab26357fe30ea">bw_union_find</a>);</div>
<div class="line"><span class="lineno"> 1272</span>    <span class="keyword">auto</span> &amp;union_cache = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#af6eb5a88d38f5316f4fc75853dbd2aa7">fw_union_cache</a>, <a class="code hl_variable" href="#aa291b2863abe14e56b7645adb19c6894">bw_union_cache</a>);</div>
<div class="line"><span class="lineno"> 1273</span> </div>
<div class="line"><span class="lineno"> 1274</span>    <span class="comment">// Cache frequently used label properties</span></div>
<div class="line"><span class="lineno"> 1275</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> b_L = L-&gt;<a class="code hl_variable" href="structLabel.html#ac6af58cb0b0d0f16da388d10f4259e6f">vertex</a>;</div>
<div class="line"><span class="lineno"> 1276</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> label_cost = L-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a>;</div>
<div class="line"><span class="lineno"> 1277</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> res_size = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size();</div>
<div class="line"><span class="lineno"> 1278</span> </div>
<div class="line"><span class="lineno"> 1279</span>    <span class="comment">// Use static thread-local stack to avoid repeated allocations</span></div>
<div class="line"><span class="lineno"> 1280</span>    <span class="keyword">static</span> <span class="keyword">thread_local</span> std::vector&lt;int&gt; stack_buffer;</div>
<div class="line"><span class="lineno"> 1281</span>    <span class="keywordflow">if</span> (stack_buffer.capacity() &lt; R_SIZE) {</div>
<div class="line"><span class="lineno"> 1282</span>        stack_buffer.reserve(R_SIZE);</div>
<div class="line"><span class="lineno"> 1283</span>    }</div>
<div class="line"><span class="lineno"> 1284</span>    stack_buffer.clear();</div>
<div class="line"><span class="lineno"> 1285</span>    stack_buffer.push_back(bucket);</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>    <span class="comment">// Direct pointer to bit mask lookup for fast bit operations</span></div>
<div class="line"><span class="lineno"> 1288</span>    <span class="keyword">const</span> uint64_t *<span class="keyword">const</span> bit_mask_lookup_ptr = <a class="code hl_variable" href="#ac8ef42169458fa3ce65c86652e4f1dd8">bit_mask_lookup</a>.data();</div>
<div class="line"><span class="lineno"> 1289</span> </div>
<div class="line"><span class="lineno"> 1290</span>    <span class="comment">// Inline dominance check function to avoid lambda overhead</span></div>
<div class="line"><span class="lineno"> 1291</span>    <span class="keyword">auto</span> inline_check_dominance = [&amp;](<span class="keyword">const</span> std::pmr::vector&lt;Label *&gt; &amp;labels,</div>
<div class="line"><span class="lineno"> 1292</span>                                      uint &amp;n_dom) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><span class="lineno"> 1293</span><span class="preprocessor">#ifdef __AVX2__</span></div>
<div class="line"><span class="lineno"> 1294</span>        <span class="keywordflow">if</span> (labels.size() &gt;= <a class="code hl_variable" href="Definitions_8h.html#ae78ef8566b42d93f1e174ff693a345eb">AVX_LIM</a>)</div>
<div class="line"><span class="lineno"> 1295</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="BucketAVX_8h.html#ae227f266495f4f4b7271522f58d49b41">check_dominance_against_vector&lt;D, S&gt;</a>(L, labels, <a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>,</div>
<div class="line"><span class="lineno"> 1296</span>                                                        res_size, n_dom);</div>
<div class="line"><span class="lineno"> 1297</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1298</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> size = labels.size();</div>
<div class="line"><span class="lineno"> 1299</span>        <span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><span class="lineno"> 1300</span>        <span class="comment">// Loop unrolling: process 4 labels at a time</span></div>
<div class="line"><span class="lineno"> 1301</span>        <span class="keywordflow">for</span> (; i + 3 &lt; size; i += 4) {</div>
<div class="line"><span class="lineno"> 1302</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(L, labels[i]) ||</div>
<div class="line"><span class="lineno"> 1303</span>                <a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(L, labels[i + 1]) ||</div>
<div class="line"><span class="lineno"> 1304</span>                <a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(L, labels[i + 2]) ||</div>
<div class="line"><span class="lineno"> 1305</span>                <a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(L, labels[i + 3])) {</div>
<div class="line"><span class="lineno"> 1306</span>                ++n_dom;</div>
<div class="line"><span class="lineno"> 1307</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1308</span>            }</div>
<div class="line"><span class="lineno"> 1309</span>        }</div>
<div class="line"><span class="lineno"> 1310</span>        <span class="comment">// Process remaining labels</span></div>
<div class="line"><span class="lineno"> 1311</span>        <span class="keywordflow">for</span> (; i &lt; size; ++i) {</div>
<div class="line"><span class="lineno"> 1312</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(L, labels[i])) {</div>
<div class="line"><span class="lineno"> 1313</span>                ++n_dom;</div>
<div class="line"><span class="lineno"> 1314</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1315</span>            }</div>
<div class="line"><span class="lineno"> 1316</span>        }</div>
<div class="line"><span class="lineno"> 1317</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1318</span>    };</div>
<div class="line"><span class="lineno"> 1319</span> </div>
<div class="line"><span class="lineno"> 1320</span>    <span class="comment">// Main DFS traversal loop</span></div>
<div class="line"><span class="lineno"> 1321</span>    <span class="keywordflow">while</span> (!stack_buffer.empty()) {</div>
<div class="line"><span class="lineno"> 1322</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> current_bucket = stack_buffer.back();</div>
<div class="line"><span class="lineno"> 1323</span>        stack_buffer.pop_back();</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> segment = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(current_bucket) &gt;&gt; 6;</div>
<div class="line"><span class="lineno"> 1326</span>        <span class="keyword">const</span> uint64_t bit = bit_mask_lookup_ptr[current_bucket &amp; 63];</div>
<div class="line"><span class="lineno"> 1327</span> </div>
<div class="line"><span class="lineno"> 1328</span>        <span class="keywordflow">if</span> (unlikely(Bvisited[segment] &amp; bit)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1329</span> </div>
<div class="line"><span class="lineno"> 1330</span>        <span class="comment">// Mark as visited</span></div>
<div class="line"><span class="lineno"> 1331</span>        Bvisited[segment] |= bit;</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>        <span class="comment">// Fast path: if label cost is lower and bucket precedes L in the SCC</span></div>
<div class="line"><span class="lineno"> 1334</span>        <span class="comment">// order, return early</span></div>
<div class="line"><span class="lineno"> 1335</span>        <span class="keywordflow">if</span> (likely(label_cost &lt; c_bar[current_bucket] &amp;&amp;</div>
<div class="line"><span class="lineno"> 1336</span>                   <a class="code hl_function" href="BucketSolve_8h.html#acac4db2cf1255f9afae93662ceb821ef">::precedes</a>(current_bucket, b_L, uf, union_cache)))</div>
<div class="line"><span class="lineno"> 1337</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>        <span class="comment">// Skip dominance check for L&#39;s own bucket</span></div>
<div class="line"><span class="lineno"> 1340</span>        <span class="keywordflow">if</span> (b_L != current_bucket) {</div>
<div class="line"><span class="lineno"> 1341</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mother_bucket = buckets[current_bucket];</div>
<div class="line"><span class="lineno"> 1342</span>            <span class="keywordflow">if</span> (mother_bucket.check_dominance(L, inline_check_dominance,</div>
<div class="line"><span class="lineno"> 1343</span>                                              stat_n_dom))</div>
<div class="line"><span class="lineno"> 1344</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1345</span>        }</div>
<div class="line"><span class="lineno"> 1346</span> </div>
<div class="line"><span class="lineno"> 1347</span>        <span class="comment">// Process neighbor buckets using pointer arithmetic and prefetching</span></div>
<div class="line"><span class="lineno"> 1348</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;neighbors = Phi[current_bucket];</div>
<div class="line"><span class="lineno"> 1349</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> n_neighbors = neighbors.size();</div>
<div class="line"><span class="lineno"> 1350</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> *neighbor_ptr = neighbors.data();</div>
<div class="line"><span class="lineno"> 1351</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> *neighbor_end = neighbor_ptr + n_neighbors;</div>
<div class="line"><span class="lineno"> 1352</span>        <span class="keywordflow">for</span> (; neighbor_ptr != neighbor_end; ++neighbor_ptr) {</div>
<div class="line"><span class="lineno"> 1353</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> b_prime = *neighbor_ptr;</div>
<div class="line"><span class="lineno"> 1354</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> word_idx = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(b_prime) &gt;&gt; 6;</div>
<div class="line"><span class="lineno"> 1355</span>            <span class="keyword">const</span> uint64_t mask = bit_mask_lookup_ptr[b_prime &amp; 63];</div>
<div class="line"><span class="lineno"> 1356</span>            __builtin_prefetch(&amp;Bvisited[word_idx], 0,</div>
<div class="line"><span class="lineno"> 1357</span>                               1);  <span class="comment">// Prefetch Bvisited for this segment</span></div>
<div class="line"><span class="lineno"> 1358</span>            <span class="keywordflow">if</span> (!(Bvisited[word_idx] &amp; mask)) stack_buffer.push_back(b_prime);</div>
<div class="line"><span class="lineno"> 1359</span>        }</div>
<div class="line"><span class="lineno"> 1360</span>    }</div>
<div class="line"><span class="lineno"> 1361</span> </div>
<div class="line"><span class="lineno"> 1362</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1363</span>}</div>
<div class="ttc" id="aBucketAVX_8h_html_ae227f266495f4f4b7271522f58d49b41"><div class="ttname"><a href="BucketAVX_8h.html#ae227f266495f4f4b7271522f58d49b41">check_dominance_against_vector</a></div><div class="ttdeci">bool check_dominance_against_vector(const Label *__restrict__ new_label, const std::pmr::vector&lt; Label * &gt; &amp;__restrict__ labels, const CutStorage *__restrict__ cut_storage, int r_size, uint &amp;__restrict__ stat_n_dom) noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketAVX_8h_source.html#l00077">BucketAVX.h:77</a></div></div>
<div class="ttc" id="aBucketSolve_8h_html_acac4db2cf1255f9afae93662ceb821ef"><div class="ttname"><a href="BucketSolve_8h.html#acac4db2cf1255f9afae93662ceb821ef">precedes</a></div><div class="ttdeci">bool precedes(const T a, const T b, const UnionFind &amp;uf, ankerl::unordered_dense::map&lt; std::pair&lt; T, T &gt;, bool &gt; &amp;cache)</div><div class="ttdoc">Checks if element &#39;a&#39; precedes element &#39;b&#39; in the given strongly connected components (SCCs).</div><div class="ttdef"><b>Definition</b> <a href="BucketSolve_8h_source.html#l01239">BucketSolve.h:1239</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_ae78ef8566b42d93f1e174ff693a345eb"><div class="ttname"><a href="Definitions_8h.html#ae78ef8566b42d93f1e174ff693a345eb">AVX_LIM</a></div><div class="ttdeci">constexpr int AVX_LIM</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00017">Definitions.h:17</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a077e9ffa43523f437f55703fcae4a5b5"><div class="ttname"><a href="#a077e9ffa43523f437f55703fcae4a5b5">BucketGraph::fw_union_find</a></div><div class="ttdeci">UnionFind fw_union_find</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l01025">BucketGraph.h:1025</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a0e73efd3e095762e2a7ab26357fe30ea"><div class="ttname"><a href="#a0e73efd3e095762e2a7ab26357fe30ea">BucketGraph::bw_union_find</a></div><div class="ttdeci">UnionFind bw_union_find</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l01026">BucketGraph.h:1026</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a469baec04539f3c8ae984f5558fbfc25"><div class="ttname"><a href="#a469baec04539f3c8ae984f5558fbfc25">BucketGraph::is_dominated</a></div><div class="ttdeci">bool is_dominated(const Label *new_label, const Label *labels) noexcept</div></div>
<div class="ttc" id="aclassBucketGraph_html_aa291b2863abe14e56b7645adb19c6894"><div class="ttname"><a href="#aa291b2863abe14e56b7645adb19c6894">BucketGraph::bw_union_cache</a></div><div class="ttdeci">ankerl::unordered_dense::map&lt; std::pair&lt; int, int &gt;, bool &gt; bw_union_cache</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00100">BucketGraph.h:100</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_af6eb5a88d38f5316f4fc75853dbd2aa7"><div class="ttname"><a href="#af6eb5a88d38f5316f4fc75853dbd2aa7">BucketGraph::fw_union_cache</a></div><div class="ttdeci">ankerl::unordered_dense::map&lt; std::pair&lt; int, int &gt;, bool &gt; fw_union_cache</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00099">BucketGraph.h:99</a></div></div>
<div class="ttc" id="astructLabel_html_ac6af58cb0b0d0f16da388d10f4259e6f"><div class="ttname"><a href="structLabel.html#ac6af58cb0b0d0f16da388d10f4259e6f">Label::vertex</a></div><div class="ttdeci">int vertex</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00035">Label.h:35</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a99cf37f55610682c8bc8c3d1a9e05d83_cgraph.png" border="0" usemap="#aclassBucketGraph_a99cf37f55610682c8bc8c3d1a9e05d83_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a99cf37f55610682c8bc8c3d1a9e05d83_cgraph" id="aclassBucketGraph_a99cf37f55610682c8bc8c3d1a9e05d83_cgraph">
<area shape="rect" title="Determines if a label is dominated in component&#45;wise smaller buckets." alt="" coords="5,728,182,768"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="1482,220,1624,260"/>
<area shape="poly" title=" " alt="" coords="94,727,104,661,122,563,152,445,195,320,223,259,254,201,290,147,331,99,377,60,429,29,486,10,549,3,1037,3,1149,7,1195,14,1236,24,1319,57,1419,111,1451,132,1480,157,1527,206,1524,210,1476,161,1447,137,1416,116,1317,62,1235,29,1194,19,1149,13,1037,8,549,8,487,15,431,34,381,64,335,103,295,150,259,204,227,261,200,322,157,447,127,565,109,662,100,728"/>
<area shape="rect" href="BucketAVX_8h.html#ae227f266495f4f4b7271522f58d49b41" title=" " alt="" coords="1465,886,1641,927"/>
<area shape="poly" title=" " alt="" coords="121,767,191,818,293,881,353,909,416,933,482,949,549,955,1037,955,1147,951,1258,943,1450,920,1450,925,1259,948,1148,957,1037,960,549,960,481,954,415,938,351,914,290,885,188,823,118,771"/>
<area shape="rect" href="classBucketGraph.html#a469baec04539f3c8ae984f5558fbfc25" title=" " alt="" coords="230,604,410,630"/>
<area shape="poly" title=" " alt="" coords="129,725,281,636,284,641,132,729"/>
<area shape="rect" href="BucketSolve_8h.html#acac4db2cf1255f9afae93662ceb821ef" title="Checks if element &#39;a&#39; precedes element &#39;b&#39; in the given strongly connected components (SCCs)." alt="" coords="283,995,357,1021"/>
<area shape="poly" title=" " alt="" coords="104,768,121,811,148,866,184,924,207,950,231,974,249,986,269,994,267,999,247,990,228,978,203,954,180,927,143,869,116,813,99,770"/>
<area shape="rect" href="BucketAVX_8h.html#a1055d33f3fa0023a7782b354c84f30d6" title=" " alt="" coords="1713,868,1794,894"/>
<area shape="poly" title=" " alt="" coords="1641,893,1698,886,1698,891,1641,898"/>
<area shape="rect" href="BucketAVX_8h.html#a4f6006d66fa23bc62965a93c057360af" title=" " alt="" coords="1689,918,1818,944"/>
<area shape="poly" title=" " alt="" coords="1641,915,1674,919,1673,924,1641,920"/>
<area shape="poly" title=" " alt="" coords="282,606,275,596,279,586,295,580,320,578,347,581,362,587,359,592,346,586,320,583,296,585,283,590,280,595,286,602"/>
<area shape="rect" href="classBucketGraph.html#a8153a13e14a6233434a3f7ef3230f8b8" title=" " alt="" coords="468,518,632,559"/>
<area shape="poly" title=" " alt="" coords="359,601,473,562,475,567,361,607"/>
<area shape="rect" href="classBucketGraph.html#a395e609a3dcdb495e2a43da1742af7bd" title="Eliminates bucket arcs based on a given threshold." alt="" coords="922,151,1149,177"/>
<area shape="poly" title=" " alt="" coords="321,603,333,549,358,468,376,423,398,377,425,334,456,295,503,254,557,222,615,197,675,178,736,166,797,158,906,153,906,159,797,163,737,171,677,183,617,202,559,226,506,259,460,299,429,337,403,380,381,425,363,469,338,550,326,605"/>
<area shape="rect" href="classBucketGraph.html#a07082dcbaab12cbea07fbe16acee9bcf" title="Get the opposite bucket number for a given bucket index." alt="" coords="1222,701,1399,742"/>
<area shape="poly" title=" " alt="" coords="346,628,404,659,488,699,587,738,691,767,820,789,923,797,1025,790,1156,771,1202,760,1246,745,1248,750,1203,765,1156,776,1026,795,923,802,820,794,690,772,585,743,486,704,402,664,343,633"/>
<area shape="rect" href="classBucketGraph.html#a394e55293111f386caf44ed9e67c5653" title=" " alt="" coords="1204,126,1417,152"/>
<area shape="poly" title=" " alt="" coords="319,604,326,537,346,435,363,379,387,323,417,270,456,223,499,187,546,156,596,131,649,111,704,97,760,86,873,77,984,79,1086,89,1175,104,1246,119,1245,124,1174,109,1086,95,983,84,873,82,761,92,705,102,651,117,598,136,549,161,502,191,460,227,422,273,392,325,368,381,351,437,331,538,324,604"/>
<area shape="rect" href="classBucketGraph.html#a84a8345b541e0e44e44e6215a9cdc779" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="915,200,1156,226"/>
<area shape="poly" title=" " alt="" coords="325,603,367,528,402,474,445,415,495,354,553,296,618,245,689,206,727,196,778,193,899,197,899,202,778,198,728,202,691,210,621,250,557,300,499,358,449,418,406,477,372,531,330,606"/>
<area shape="rect" href="classBucketGraph.html#a1546f6d1eec5a80afaed3be7ccda0d4a" title=" " alt="" coords="690,677,867,718"/>
<area shape="poly" title=" " alt="" coords="398,628,676,677,675,682,398,633"/>
<area shape="rect" href="classBucketGraph.html#adea4cf77fe1775dac8bb3aa80b4c0dd4" title="Fixes the bucket arcs for the specified stage." alt="" coords="707,245,850,286"/>
<area shape="poly" title=" " alt="" coords="556,517,574,473,602,416,640,356,689,302,702,292,706,296,692,306,645,359,607,419,579,476,561,519"/>
<area shape="rect" href="classBucketGraph.html#a8b934dd825af2c3536269ac190b398b3" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="959,365,1112,406"/>
<area shape="poly" title=" " alt="" coords="600,515,689,481,822,440,943,406,945,411,824,445,691,487,602,520"/>
<area shape="rect" href="classBucketGraph.html#a66484f0fb3c999584f77880b3dd54f7c" title="Runs forward and backward labeling algorithms in parallel and synchronizes the results." alt="" coords="949,441,1122,482"/>
<area shape="poly" title=" " alt="" coords="632,523,933,475,934,480,633,528"/>
<area shape="rect" href="classBucketGraph.html#aa05e883574a58a277e1dbf8cfcdcde11" title=" " alt="" coords="1237,836,1384,876"/>
<area shape="poly" title=" " alt="" coords="560,559,576,604,602,661,641,720,665,745,692,767,756,802,825,829,897,847,969,859,1040,866,1107,868,1221,863,1222,869,1107,873,1040,871,969,865,896,853,823,834,754,807,689,772,661,749,637,723,598,664,571,606,555,560"/>
<area shape="rect" href="classBucketGraph.html#a858b68317a9a0a60723698509d78d575" title="Checks the feasibility of a given forward and backward label." alt="" coords="966,638,1104,679"/>
<area shape="poly" title=" " alt="" coords="583,557,632,586,691,612,758,630,827,642,951,654,951,659,826,647,757,635,689,617,630,591,580,562"/>
<area shape="rect" href="classBucketGraph.html#a7d2d975e13b1fdeaafca99aa6fb29486" title=" " alt="" coords="959,721,1112,762"/>
<area shape="poly" title=" " alt="" coords="562,558,579,597,607,644,644,691,667,711,692,727,721,740,753,750,819,760,884,761,943,756,943,762,884,767,818,766,752,755,720,745,689,732,664,715,641,695,603,647,575,599,557,561"/>
<area shape="poly" title=" " alt="" coords="573,558,625,606,692,656,712,668,709,672,689,661,622,610,570,561"/>
<area shape="rect" href="classBucketGraph.html#ac36d91be18f5093577ee00a38ceb771e" title=" " alt="" coords="707,576,850,602"/>
<area shape="poly" title=" " alt="" coords="634,554,703,570,702,575,632,560"/>
<area shape="rect" href="classBucketGraph.html#a7ffbc9d76efacdae82ed10f5b7009348" title=" " alt="" coords="966,514,1104,555"/>
<area shape="poly" title=" " alt="" coords="633,535,951,533,951,538,633,541"/>
<area shape="rect" href="classBucketGraph.html#a06036b30388d0f91c677340bff2c6b6a" title="Applies heuristic fixing to the current solution." alt="" coords="702,360,855,400"/>
<area shape="poly" title=" " alt="" coords="570,516,622,468,689,416,709,405,712,410,692,421,625,472,573,520"/>
<area shape="rect" href="classBucketGraph.html#a2379392ccc37be9a4a27800b116465d2" title="Resets all fixed arcs in the graph." alt="" coords="969,250,1102,291"/>
<area shape="poly" title=" " alt="" coords="551,517,561,458,584,378,602,336,625,296,654,260,689,231,710,223,737,219,805,222,882,233,955,248,954,253,881,238,805,227,737,224,711,228,692,236,657,264,629,299,606,338,589,380,566,459,556,518"/>
<area shape="rect" href="classBucketGraph.html#a3e1492bb1589d5edb06e80a753d000dd" title="Resets the forward and backward label pools." alt="" coords="954,315,1117,341"/>
<area shape="poly" title=" " alt="" coords="557,517,575,478,603,430,641,383,664,362,689,346,719,332,751,321,817,309,883,307,942,310,942,316,883,312,818,315,753,326,721,337,692,350,667,367,645,387,607,433,580,481,562,519"/>
<area shape="poly" title=" " alt="" coords="808,242,856,213,914,186,934,179,936,184,916,190,859,217,811,247"/>
<area shape="poly" title=" " alt="" coords="808,284,857,318,916,351,945,362,943,367,914,356,854,323,805,288"/>
<area shape="poly" title=" " alt="" coords="850,248,953,227,954,232,851,254"/>
<area shape="poly" title=" " alt="" coords="806,284,869,346,883,366,891,383,900,399,916,415,943,432,941,436,913,419,896,402,886,386,878,369,865,350,802,288"/>
<area shape="poly" title=" " alt="" coords="1150,172,1279,186,1418,207,1468,217,1467,222,1417,212,1278,192,1149,177"/>
<area shape="poly" title=" " alt="" coords="1143,175,1158,186,1186,223,1211,279,1234,347,1254,422,1287,572,1307,685,1301,686,1282,573,1249,423,1229,348,1206,281,1181,226,1154,190,1140,180"/>
<area shape="poly" title=" " alt="" coords="1149,151,1188,147,1189,153,1150,156"/>
<area shape="poly" title=" " alt="" coords="1364,150,1418,168,1503,209,1501,214,1416,173,1362,155"/>
<area shape="poly" title=" " alt="" coords="1112,363,1155,351,1467,262,1468,267,1157,356,1113,368"/>
<area shape="poly" title=" " alt="" coords="1156,217,1467,233,1467,238,1156,222"/>
<area shape="poly" title=" " alt="" coords="1123,476,1142,487,1158,501,1180,533,1190,563,1192,593,1190,623,1187,684,1192,717,1206,752,1235,791,1269,824,1266,828,1231,795,1202,755,1187,718,1182,684,1185,623,1187,593,1185,565,1175,535,1154,504,1139,491,1121,481"/>
<area shape="poly" title=" " alt="" coords="1339,833,1379,798,1398,776,1415,752,1447,689,1474,622,1496,553,1513,486,1536,364,1546,275,1552,276,1541,365,1518,487,1501,555,1479,624,1452,691,1420,755,1403,779,1383,802,1343,837"/>
<area shape="poly" title=" " alt="" coords="1385,869,1451,883,1450,888,1384,874"/>
<area shape="poly" title=" " alt="" coords="1237,870,1156,879,1024,887,921,887,819,876,690,848,568,819,517,799,457,764,420,736,387,704,337,645,342,641,391,700,424,732,459,759,519,794,569,813,691,843,819,870,921,882,1024,881,1156,873,1236,865"/>
<area shape="poly" title=" " alt="" coords="867,681,950,669,951,674,868,687"/>
<area shape="poly" title=" " alt="" coords="868,710,944,723,943,728,867,715"/>
<area shape="poly" title=" " alt="" coords="850,595,917,599,994,597,1076,587,1116,577,1155,564,1215,536,1273,501,1328,461,1379,419,1464,337,1523,271,1527,274,1468,340,1382,423,1331,466,1276,505,1218,541,1157,569,1118,582,1077,592,995,602,917,604,850,600"/>
<area shape="poly" title=" " alt="" coords="841,573,950,550,951,555,843,579"/>
<area shape="poly" title=" " alt="" coords="855,379,943,381,943,386,855,384"/>
<area shape="poly" title=" " alt="" coords="846,398,955,433,954,438,844,403"/>
<area shape="poly" title=" " alt="" coords="809,357,857,328,914,300,953,286,955,292,916,305,860,333,812,361"/>
<area shape="poly" title=" " alt="" coords="855,362,952,342,954,347,856,367"/>
<area shape="rect" href="classUnionFind.html#a65a85b39d8df2490b9ea9ef465e112d6" title=" " alt="" coords="458,995,642,1021"/>
<area shape="poly" title=" " alt="" coords="357,1005,442,1005,442,1011,357,1011"/>
<area shape="rect" href="classUnionFind.html#a062823e09caac93290691c9ce81edfb3" title=" " alt="" coords="725,995,832,1021"/>
<area shape="poly" title=" " alt="" coords="643,1005,710,1005,710,1011,643,1011"/>
</map>
</div>

</div>
</div>
<a id="a8349140e5144647cfc32a12c9834a16f" name="a8349140e5144647cfc32a12c9834a16f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8349140e5144647cfc32a12c9834a16f">&#9670;&#160;</a></span>DominatedInCompWiseSmallerBuckets() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::DominatedInCompWiseSmallerBuckets </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>L</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bucket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>c_bar</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint64_t &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>Bvisited</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint &amp;</td>          <td class="paramname"><span class="paramname"><em>stat_n_dom</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac36d91be18f5093577ee00a38ceb771e" name="ac36d91be18f5093577ee00a38ceb771e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac36d91be18f5093577ee00a38ceb771e">&#9670;&#160;</a></span>Extend()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S, <a class="el" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9d">ArcType</a> A, <a class="el" href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179d">Mutability</a> M, <a class="el" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0">Full</a> F&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto BucketGraph::Extend </td>
          <td>(</td>
          <td class="paramtype">const std::conditional_t&lt; M==<a class="el" href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179daebb87a770abac0e394d963d20ed574b7">Mutability::Mut</a>, <a class="el" href="structLabel.html">Label</a> *, const <a class="el" href="structLabel.html">Label</a> * &gt;</td>          <td class="paramname"><span class="paramname"><em>L_prime</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::conditional_t&lt; A==<a class="el" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">ArcType::Bucket</a>, <a class="el" href="structBucketArc.html">BucketArc</a>, std::conditional_t&lt; A==<a class="el" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da101f693f72287a2819a364f64ca1c0ed">ArcType::Jump</a>, <a class="el" href="structJumpArc.html">JumpArc</a>, <a class="el" href="structArc.html">Arc</a> &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>gamma</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>depth</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Extends the label L_prime with the given <a class="el" href="structBucketArc.html" title="Represents an arc between two buckets.">BucketArc</a> gamma. </p>

<p class="definition">Definition at line <a class="el" href="BucketSolve_8h_source.html#l00784">784</a> of file <a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  790</span>                        {</div>
<div class="line"><span class="lineno">  791</span>    <span class="comment">// Pre-allocated result vector to avoid allocations for the common case of</span></div>
<div class="line"><span class="lineno">  792</span>    <span class="comment">// 0-1 results</span></div>
<div class="line"><span class="lineno">  793</span>    <span class="keyword">static</span> <span class="keyword">thread_local</span> std::vector&lt;Label *&gt; result_vector;</div>
<div class="line"><span class="lineno">  794</span>    Label *result = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>    <span class="comment">// Prepare temporary resource storage (resize to current resources size)</span></div>
<div class="line"><span class="lineno">  797</span>    <span class="keyword">static</span> <span class="keyword">thread_local</span> std::vector&lt;double&gt; new_resources;</div>
<div class="line"><span class="lineno">  798</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> n_resources = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size();</div>
<div class="line"><span class="lineno">  799</span>    new_resources.resize(n_resources);</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>    <span class="comment">// Cache initial values from L_prime</span></div>
<div class="line"><span class="lineno">  802</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> initial_node_id = L_prime-&gt;node_id;</div>
<div class="line"><span class="lineno">  803</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;initial_resources =</div>
<div class="line"><span class="lineno">  804</span>        L_prime-&gt;resources;  <span class="comment">// Use reference instead of copy</span></div>
<div class="line"><span class="lineno">  805</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> initial_cost = L_prime-&gt;cost;</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>    <span class="comment">// Determine target node ID based on arc type</span></div>
<div class="line"><span class="lineno">  808</span>    <span class="keywordtype">int</span> node_id;</div>
<div class="line"><span class="lineno">  809</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (A == <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">ArcType::Bucket</a>) {</div>
<div class="line"><span class="lineno">  810</span>        node_id =</div>
<div class="line"><span class="lineno">  811</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>)[gamma.to_bucket].node_id;</div>
<div class="line"><span class="lineno">  812</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (A == <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da6c3a6944a808a7c0bbb6788dbec54a9f">ArcType::Node</a>) {</div>
<div class="line"><span class="lineno">  813</span>        node_id = gamma.to;</div>
<div class="line"><span class="lineno">  814</span>    } <span class="keywordflow">else</span> {  <span class="comment">// Jump arc</span></div>
<div class="line"><span class="lineno">  815</span>        <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  816</span>        node_id = buckets[gamma.jump_bucket].node_id;</div>
<div class="line"><span class="lineno">  817</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket = buckets[gamma.jump_bucket];</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>        <span class="comment">// Fast copy the resources</span></div>
<div class="line"><span class="lineno">  820</span>        std::memcpy(new_resources.data(), initial_resources.data(),</div>
<div class="line"><span class="lineno">  821</span>                    n_resources * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>        <span class="comment">// Update resource bounds based on jump bucket properties</span></div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n_resources; ++i) {</div>
<div class="line"><span class="lineno">  825</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  826</span>                new_resources[i] = std::max(new_resources[i],</div>
<div class="line"><span class="lineno">  827</span>                                            <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(bucket.lb[i]));</div>
<div class="line"><span class="lineno">  828</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  829</span>                new_resources[i] = std::min(new_resources[i],</div>
<div class="line"><span class="lineno">  830</span>                                            <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(bucket.ub[i]));</div>
<div class="line"><span class="lineno">  831</span>            }</div>
<div class="line"><span class="lineno">  832</span>        }</div>
<div class="line"><span class="lineno">  833</span>    }</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>    <span class="comment">// Early rejection: if we loop back or the node was already visited</span></div>
<div class="line"><span class="lineno">  836</span>    <span class="keywordflow">if</span> (node_id == initial_node_id ||</div>
<div class="line"><span class="lineno">  837</span>        <a class="code hl_function" href="#aac3c165dfb9837288ad63ac34ad91041">is_node_visited</a>(L_prime-&gt;visited_bitmap, node_id)) {</div>
<div class="line"><span class="lineno">  838</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>)</div>
<div class="line"><span class="lineno">  839</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  840</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  841</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  842</span>    }</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>    <span class="comment">// For stages where fixed arcs matter</span></div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S &gt;= <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604ebaca8a2087e5557e317599344687a57391">Stage::Three</a> || S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba3c451149fe91949f919d451b19f8c0f6">Stage::Eliminate</a>) {</div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">if</span> ((D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  847</span>             <a class="code hl_function" href="#a7ffbc9d76efacdae82ed10f5b7009348">is_arc_fixed</a>(initial_node_id, node_id)) ||</div>
<div class="line"><span class="lineno">  848</span>            (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Direction::Backward</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  849</span>             <a class="code hl_function" href="#a7ffbc9d76efacdae82ed10f5b7009348">is_arc_fixed</a>(node_id, initial_node_id))) {</div>
<div class="line"><span class="lineno">  850</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>)</div>
<div class="line"><span class="lineno">  851</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  852</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  853</span>                <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  854</span>        }</div>
<div class="line"><span class="lineno">  855</span>    }</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>    <span class="comment">// Process resources (feasibility check)</span></div>
<div class="line"><span class="lineno">  858</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F != <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0ae902a36ade483cde97d806974068a10f">Full::TSP</a>) {</div>
<div class="line"><span class="lineno">  859</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (A != <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da101f693f72287a2819a364f64ca1c0ed">ArcType::Jump</a>) {</div>
<div class="line"><span class="lineno">  860</span>            <span class="comment">// Only copy resources for non-jump arcs (jump arcs already copied)</span></div>
<div class="line"><span class="lineno">  861</span>            std::memcpy(new_resources.data(), initial_resources.data(),</div>
<div class="line"><span class="lineno">  862</span>                        n_resources * <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="#af2436dd7416920cc8f4bed442dc84c86">process_all_resources&lt;D&gt;</a>(new_resources, initial_resources,</div>
<div class="line"><span class="lineno">  865</span>                                          gamma, nodes[node_id], n_resources)) {</div>
<div class="line"><span class="lineno">  866</span>                <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>)</div>
<div class="line"><span class="lineno">  867</span>                    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  868</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  869</span>                    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  870</span>            }</div>
<div class="line"><span class="lineno">  871</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  872</span>            <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  873</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket = buckets[gamma.jump_bucket];</div>
<div class="line"><span class="lineno">  874</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n_resources; ++i) {</div>
<div class="line"><span class="lineno">  875</span>                <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  876</span>                    new_resources[i] =</div>
<div class="line"><span class="lineno">  877</span>                        std::max(new_resources[i] + gamma.resource_increment[i],</div>
<div class="line"><span class="lineno">  878</span>                                 <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(bucket.lb[i]));</div>
<div class="line"><span class="lineno">  879</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(new_resources[i], bucket.ub[i])) {</div>
<div class="line"><span class="lineno">  880</span>                        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>)</div>
<div class="line"><span class="lineno">  881</span>                            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  882</span>                        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  883</span>                            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  884</span>                    }</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  887</span>                    new_resources[i] =</div>
<div class="line"><span class="lineno">  888</span>                        std::min(new_resources[i] - gamma.resource_increment[i],</div>
<div class="line"><span class="lineno">  889</span>                                 <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(bucket.ub[i]));</div>
<div class="line"><span class="lineno">  890</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e">numericutils::lt</a>(new_resources[i], bucket.lb[i])) {</div>
<div class="line"><span class="lineno">  891</span>                        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>)</div>
<div class="line"><span class="lineno">  892</span>                            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  893</span>                        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  894</span>                            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  895</span>                    }</div>
<div class="line"><span class="lineno">  896</span>                }</div>
<div class="line"><span class="lineno">  897</span>            }</div>
<div class="line"><span class="lineno">  898</span>        }</div>
<div class="line"><span class="lineno">  899</span>    }</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>    <span class="comment">// For PSTEP/TSP: Check path length constraints</span></div>
<div class="line"><span class="lineno">  902</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a159adaee61ec4fa72f55b84ea7916261">Full::PSTEP</a> || F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0ae902a36ade483cde97d806974068a10f">Full::TSP</a>) {</div>
<div class="line"><span class="lineno">  903</span>        <span class="keywordtype">int</span> n_visited = 0;</div>
<div class="line"><span class="lineno">  904</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;bitmap : L_prime-&gt;visited_bitmap)</div>
<div class="line"><span class="lineno">  905</span>            n_visited += __builtin_popcountll(bitmap);</div>
<div class="line"><span class="lineno">  906</span>        <span class="keywordflow">if</span> (n_visited &gt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.max_path_size ||</div>
<div class="line"><span class="lineno">  907</span>            (n_visited == <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.max_path_size &amp;&amp;</div>
<div class="line"><span class="lineno">  908</span>             node_id != <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.end_depot)) {</div>
<div class="line"><span class="lineno">  909</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>)</div>
<div class="line"><span class="lineno">  910</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  911</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  912</span>                <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  913</span>        }</div>
<div class="line"><span class="lineno">  914</span>    }</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>    <span class="comment">// Get bucket number for the new label</span></div>
<div class="line"><span class="lineno">  917</span>    <span class="keywordtype">int</span> to_bucket = -1;</div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (A == <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">ArcType::Bucket</a>) {</div>
<div class="line"><span class="lineno">  919</span>        to_bucket = <a class="code hl_function" href="#abb791c45d27a9425607480e3101f7d28">get_bucket_number&lt;D&gt;</a>(node_id, new_resources);</div>
<div class="line"><span class="lineno">  920</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (A == <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da101f693f72287a2819a364f64ca1c0ed">ArcType::Jump</a>) {</div>
<div class="line"><span class="lineno">  921</span>        to_bucket = gamma.jump_bucket;</div>
<div class="line"><span class="lineno">  922</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (A == <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da6c3a6944a808a7c0bbb6788dbec54a9f">ArcType::Node</a>) {</div>
<div class="line"><span class="lineno">  923</span>        to_bucket = <a class="code hl_function" href="#abb791c45d27a9425607480e3101f7d28">get_bucket_number&lt;D&gt;</a>(node_id, new_resources);</div>
<div class="line"><span class="lineno">  924</span>    }</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>    <span class="comment">// Handle Reverse mode early</span></div>
<div class="line"><span class="lineno">  927</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>) {</div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">if</span> (new_resources[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0]] &lt;=</div>
<div class="line"><span class="lineno">  929</span>            std::floor(<a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0]]))</div>
<div class="line"><span class="lineno">  930</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">return</span> to_bucket;</div>
<div class="line"><span class="lineno">  933</span>    }</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>    <span class="comment">// Calculate new cost</span></div>
<div class="line"><span class="lineno">  936</span><span class="preprocessor">#ifdef CUSTOM_COST</span></div>
<div class="line"><span class="lineno">  937</span>    <span class="keyword">const</span> <span class="keyword">auto</span> distance = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(initial_node_id, node_id);</div>
<div class="line"><span class="lineno">  938</span>    <span class="keywordtype">double</span> new_cost = <a class="code hl_variable" href="#a91ceea45f7a15a8541dd999e806ffe6d">cost_calculator</a>.calculate_cost(initial_cost, distance,</div>
<div class="line"><span class="lineno">  939</span>                                                     node_id, new_resources);</div>
<div class="line"><span class="lineno">  940</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  941</span>    <span class="comment">// Cache the distance value to avoid repeated calls</span></div>
<div class="line"><span class="lineno">  942</span>    <span class="keyword">const</span> <span class="keyword">auto</span> distance = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(initial_node_id, node_id);</div>
<div class="line"><span class="lineno">  943</span>    <span class="keywordtype">double</span> new_cost = initial_cost + distance;</div>
<div class="line"><span class="lineno">  944</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;VRPNode = nodes[node_id];</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F != <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a159adaee61ec4fa72f55b84ea7916261">Full::PSTEP</a>) {</div>
<div class="line"><span class="lineno">  949</span>        new_cost -= VRPNode.cost;</div>
<div class="line"><span class="lineno">  950</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  951</span>        <span class="keywordtype">int</span> n_visited = 0;</div>
<div class="line"><span class="lineno">  952</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;bitmap : L_prime-&gt;visited_bitmap)</div>
<div class="line"><span class="lineno">  953</span>            n_visited += __builtin_popcountll(bitmap);</div>
<div class="line"><span class="lineno">  954</span>        <span class="keywordflow">if</span> (n_visited &gt; 1 &amp;&amp; initial_node_id != <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.depot) {</div>
<div class="line"><span class="lineno">  955</span>            <span class="keyword">const</span> <span class="keyword">auto</span> three_two_dual =</div>
<div class="line"><span class="lineno">  956</span>                <a class="code hl_variable" href="#a77cc1fc155ee1234301d754b1e32d1f1">pstep_duals</a>.getThreeTwoDualValue(initial_node_id);</div>
<div class="line"><span class="lineno">  957</span>            new_cost += three_two_dual +</div>
<div class="line"><span class="lineno">  958</span>                        <a class="code hl_variable" href="#a77cc1fc155ee1234301d754b1e32d1f1">pstep_duals</a>.getThreeThreeDualValue(initial_node_id);</div>
<div class="line"><span class="lineno">  959</span>        }</div>
<div class="line"><span class="lineno">  960</span>        new_cost += -<a class="code hl_variable" href="#a77cc1fc155ee1234301d754b1e32d1f1">pstep_duals</a>.getThreeTwoDualValue(node_id) +</div>
<div class="line"><span class="lineno">  961</span>                    <a class="code hl_variable" href="#a77cc1fc155ee1234301d754b1e32d1f1">pstep_duals</a>.getArcDualValue(initial_node_id, node_id);</div>
<div class="line"><span class="lineno">  962</span>    }</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>    <span class="comment">// Apply branching dual adjustments if present - use local variables to</span></div>
<div class="line"><span class="lineno">  965</span>    <span class="comment">// avoid repeated pointer dereferencing</span></div>
<div class="line"><span class="lineno">  966</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a38bf6e63a45004dba3e06846ea151983">branching_duals</a>-&gt;empty()) {</div>
<div class="line"><span class="lineno">  967</span>        <span class="keywordflow">if</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  968</span>            new_cost += <a class="code hl_variable" href="#a38bf6e63a45004dba3e06846ea151983">branching_duals</a>-&gt;getDual(initial_node_id, node_id);</div>
<div class="line"><span class="lineno">  969</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  970</span>            new_cost += <a class="code hl_variable" href="#a38bf6e63a45004dba3e06846ea151983">branching_duals</a>-&gt;getDual(node_id, initial_node_id);</div>
<div class="line"><span class="lineno">  971</span>        }</div>
<div class="line"><span class="lineno">  972</span>        new_cost += <a class="code hl_variable" href="#a38bf6e63a45004dba3e06846ea151983">branching_duals</a>-&gt;getDual(node_id);</div>
<div class="line"><span class="lineno">  973</span>    }</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>    <a class="code hl_define" href="Definitions_8h.html#a193d914edeb3709d3a2058d974612af5">RCC_MODE_BLOCK</a>(<span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a>) {</div>
<div class="line"><span class="lineno">  976</span>        <span class="keywordflow">if</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  977</span>            new_cost -= arc_duals.getDual(initial_node_id, node_id);</div>
<div class="line"><span class="lineno">  978</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  979</span>            new_cost -= arc_duals.getDual(node_id, initial_node_id);</div>
<div class="line"><span class="lineno">  980</span>        }</div>
<div class="line"><span class="lineno">  981</span>    })</div>
<div class="line"><span class="lineno">  982</span> </div>
<div class="line"><span class="lineno">  983</span>    <span class="comment">// Create and initialize a new label</span></div>
<div class="line"><span class="lineno">  984</span>    <span class="keyword">auto</span> &amp;label_pool = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a122e64987e05917c0fa982a63228d2e6">label_pool_fw</a>, <a class="code hl_variable" href="#a4607757f8a773ef38967f88448cec5fd">label_pool_bw</a>);</div>
<div class="line"><span class="lineno">  985</span>    <span class="keyword">auto</span> new_label = label_pool-&gt;acquire();</div>
<div class="line"><span class="lineno">  986</span>    new_label-&gt;initialize(to_bucket, new_cost, new_resources, node_id);</div>
<div class="line"><span class="lineno">  987</span>    new_label-&gt;vertex = to_bucket;</div>
<div class="line"><span class="lineno">  988</span>    new_label-&gt;real_cost =</div>
<div class="line"><span class="lineno">  989</span>        L_prime-&gt;real_cost + distance;  <span class="comment">// Use cached distance</span></div>
<div class="line"><span class="lineno">  990</span> </div>
<div class="line"><span class="lineno">  991</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (M == <a class="code hl_enumvalue" href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179daebb87a770abac0e394d963d20ed574b7">Mutability::Mut</a>) {</div>
<div class="line"><span class="lineno">  992</span>        L_prime-&gt;children.push_back(new_label);</div>
<div class="line"><span class="lineno">  993</span>    }</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>    <span class="comment">// Update visited bitmap: intersect parent&#39;s visited bits with neighborhood</span></div>
<div class="line"><span class="lineno">  996</span>    <span class="comment">// mask</span></div>
<div class="line"><span class="lineno">  997</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F != <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a159adaee61ec4fa72f55b84ea7916261">Full::PSTEP</a>) {</div>
<div class="line"><span class="lineno">  998</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; new_label-&gt;visited_bitmap.size(); ++i) {</div>
<div class="line"><span class="lineno">  999</span>            <span class="keyword">const</span> uint64_t current_visited = L_prime-&gt;visited_bitmap[i];</div>
<div class="line"><span class="lineno"> 1000</span>            <span class="keywordflow">if</span> (current_visited) {</div>
<div class="line"><span class="lineno"> 1001</span>                new_label-&gt;visited_bitmap[i] =</div>
<div class="line"><span class="lineno"> 1002</span>                    current_visited &amp; <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[node_id][i];</div>
<div class="line"><span class="lineno"> 1003</span>            }</div>
<div class="line"><span class="lineno"> 1004</span>        }</div>
<div class="line"><span class="lineno"> 1005</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1006</span>        <span class="comment">// Use memcpy for direct bitmap copy (likely faster than assignment for</span></div>
<div class="line"><span class="lineno"> 1007</span>        <span class="comment">// large bitmaps)</span></div>
<div class="line"><span class="lineno"> 1008</span>        std::memcpy(new_label-&gt;visited_bitmap.data(),</div>
<div class="line"><span class="lineno"> 1009</span>                    L_prime-&gt;visited_bitmap.data(),</div>
<div class="line"><span class="lineno"> 1010</span>                    new_label-&gt;visited_bitmap.size() * <span class="keyword">sizeof</span>(uint64_t));</div>
<div class="line"><span class="lineno"> 1011</span>    }</div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span>    <a class="code hl_function" href="#ad36a543a58c7d3cd4ded313dd5069f03">set_node_visited</a>(new_label-&gt;visited_bitmap, node_id);</div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span>    <span class="comment">// Update the path (nodes covered) by copying parent&#39;s path and adding</span></div>
<div class="line"><span class="lineno"> 1016</span>    <span class="comment">// current node</span></div>
<div class="line"><span class="lineno"> 1017</span>    new_label-&gt;nodes_covered = L_prime-&gt;nodes_covered;</div>
<div class="line"><span class="lineno"> 1018</span>    new_label-&gt;nodes_covered.push_back(node_id);</div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span><span class="preprocessor">#if defined(SRC)</span></div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a> || S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba81999728593fbd0249e73b02f3d7ad74">Stage::Enumerate</a>) {</div>
<div class="line"><span class="lineno"> 1022</span>        new_label-&gt;SRCmap = L_prime-&gt;SRCmap;</div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keyword">auto</span> &amp;cutter = <a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>;</div>
<div class="line"><span class="lineno"> 1024</span>        <span class="keyword">const</span> <span class="keyword">auto</span> active_cuts = cutter-&gt;getActiveCuts();</div>
<div class="line"><span class="lineno"> 1025</span>        <span class="keyword">const</span> <span class="keyword">auto</span> n_cuts = cutter-&gt;activeSize();</div>
<div class="line"><span class="lineno"> 1026</span>        <span class="keywordflow">if</span> (__builtin_expect(n_cuts == 0, 0)) {  <span class="comment">// Branch prediction: unlikely</span></div>
<div class="line"><span class="lineno"> 1027</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>) {</div>
<div class="line"><span class="lineno"> 1028</span>                <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1029</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1030</span>                <span class="keywordflow">return</span> new_label;</div>
<div class="line"><span class="lineno"> 1031</span>            }</div>
<div class="line"><span class="lineno"> 1032</span>        }</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>        <span class="keywordtype">double</span> total_cost_update = 0.0;</div>
<div class="line"><span class="lineno"> 1035</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> segment = node_id &gt;&gt; 6;</div>
<div class="line"><span class="lineno"> 1036</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> bit_position = node_id &amp; 63;</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>        <span class="comment">// Prefetch critical data structures</span></div>
<div class="line"><span class="lineno"> 1039</span>        <span class="keyword">auto</span> &amp;masks = cutter-&gt;getSegmentMasks();</div>
<div class="line"><span class="lineno"> 1040</span>        __builtin_prefetch(&amp;masks, 0, 3);</div>
<div class="line"><span class="lineno"> 1041</span>        __builtin_prefetch(active_cuts.data(), 0, 3);</div>
<div class="line"><span class="lineno"> 1042</span>        __builtin_prefetch(new_label-&gt;SRCmap.data(), 1, 3);  <span class="comment">// 1 = read-write</span></div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>        <span class="keyword">const</span> <span class="keyword">auto</span> cut_limit_mask = masks.get_cut_limit_mask();</div>
<div class="line"><span class="lineno"> 1045</span>        <span class="keyword">const</span> uint64_t valid_cuts =</div>
<div class="line"><span class="lineno"> 1046</span>            masks.get_valid_cut_mask(segment, bit_position) &amp; cut_limit_mask;</div>
<div class="line"><span class="lineno"> 1047</span> </div>
<div class="line"><span class="lineno"> 1048</span>        <span class="comment">// Skip processing if no valid cuts</span></div>
<div class="line"><span class="lineno"> 1049</span>        <span class="keywordflow">if</span> (__builtin_expect(valid_cuts != 0,</div>
<div class="line"><span class="lineno"> 1050</span>                             1)) {  <span class="comment">// Branch prediction: likely</span></div>
<div class="line"><span class="lineno"> 1051</span>            <span class="comment">// Process valid cuts (4 at a time if possible)</span></div>
<div class="line"><span class="lineno"> 1052</span>            uint64_t remaining_cuts = valid_cuts;</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>            <span class="comment">// Process blocks of 4 cuts if available (manual loop unrolling)</span></div>
<div class="line"><span class="lineno"> 1055</span>            <span class="keywordflow">while</span> (__builtin_popcountll(remaining_cuts) &gt;= 4) {</div>
<div class="line"><span class="lineno"> 1056</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; i++) {</div>
<div class="line"><span class="lineno"> 1057</span>                    <span class="keyword">const</span> <span class="keywordtype">int</span> cut_idx = __builtin_ctzll(remaining_cuts);</div>
<div class="line"><span class="lineno"> 1058</span>                    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;active_cut = active_cuts[cut_idx];</div>
<div class="line"><span class="lineno"> 1059</span>                    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;cut = *active_cut.cut_ptr;</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>                    <span class="comment">// Prefetch the next cut data we&#39;ll need</span></div>
<div class="line"><span class="lineno"> 1062</span>                    <span class="keywordflow">if</span> (i &lt; 3) {</div>
<div class="line"><span class="lineno"> 1063</span>                        uint64_t next_bits =</div>
<div class="line"><span class="lineno"> 1064</span>                            remaining_cuts &amp; (remaining_cuts - 1);</div>
<div class="line"><span class="lineno"> 1065</span>                        <span class="keyword">const</span> <span class="keywordtype">int</span> next_cut_idx = __builtin_ctzll(next_bits);</div>
<div class="line"><span class="lineno"> 1066</span>                        __builtin_prefetch(&amp;active_cuts[next_cut_idx], 0, 3);</div>
<div class="line"><span class="lineno"> 1067</span>                        __builtin_prefetch(active_cuts[next_cut_idx].cut_ptr, 0,</div>
<div class="line"><span class="lineno"> 1068</span>                                           3);</div>
<div class="line"><span class="lineno"> 1069</span>                    }</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>                    <span class="keyword">auto</span> &amp;src_map_value = new_label-&gt;SRCmap[active_cut.index];</div>
<div class="line"><span class="lineno"> 1072</span>                    <span class="keyword">const</span> <span class="keywordtype">double</span> num_value =</div>
<div class="line"><span class="lineno"> 1073</span>                        cut.p.num[cut.baseSetOrder[node_id]];</div>
<div class="line"><span class="lineno"> 1074</span>                    src_map_value += num_value;</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>                    <span class="comment">// Use branchless version when possible</span></div>
<div class="line"><span class="lineno"> 1077</span>                    <span class="keyword">const</span> <span class="keywordtype">bool</span> overflow = src_map_value &gt;= cut.p.den;</div>
<div class="line"><span class="lineno"> 1078</span>                    src_map_value -= overflow ? cut.p.den : 0;</div>
<div class="line"><span class="lineno"> 1079</span>                    total_cost_update -= overflow ? active_cut.dual_value : 0;</div>
<div class="line"><span class="lineno"> 1080</span> </div>
<div class="line"><span class="lineno"> 1081</span>                    remaining_cuts &amp;=</div>
<div class="line"><span class="lineno"> 1082</span>                        (remaining_cuts - 1);  <span class="comment">// Clear processed bit</span></div>
<div class="line"><span class="lineno"> 1083</span>                }</div>
<div class="line"><span class="lineno"> 1084</span>            }</div>
<div class="line"><span class="lineno"> 1085</span> </div>
<div class="line"><span class="lineno"> 1086</span>            <span class="comment">// Process remaining cuts (less than 4)</span></div>
<div class="line"><span class="lineno"> 1087</span>            <span class="keywordflow">while</span> (remaining_cuts) {</div>
<div class="line"><span class="lineno"> 1088</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> cut_idx = __builtin_ctzll(remaining_cuts);</div>
<div class="line"><span class="lineno"> 1089</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;active_cut = active_cuts[cut_idx];</div>
<div class="line"><span class="lineno"> 1090</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;cut = *active_cut.cut_ptr;</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>                <span class="keyword">auto</span> &amp;src_map_value = new_label-&gt;SRCmap[active_cut.index];</div>
<div class="line"><span class="lineno"> 1093</span>                src_map_value += cut.p.num[cut.baseSetOrder[node_id]];</div>
<div class="line"><span class="lineno"> 1094</span>                <span class="keywordflow">if</span> (src_map_value &gt;= cut.p.den) {</div>
<div class="line"><span class="lineno"> 1095</span>                    src_map_value -= cut.p.den;</div>
<div class="line"><span class="lineno"> 1096</span>                    total_cost_update -= active_cut.dual_value;</div>
<div class="line"><span class="lineno"> 1097</span>                }</div>
<div class="line"><span class="lineno"> 1098</span>                remaining_cuts &amp;= (remaining_cuts - 1);</div>
<div class="line"><span class="lineno"> 1099</span>            }</div>
<div class="line"><span class="lineno"> 1100</span>        }</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>        <span class="comment">// Process cuts to clear</span></div>
<div class="line"><span class="lineno"> 1103</span>        uint64_t to_clear =</div>
<div class="line"><span class="lineno"> 1104</span>            (~masks.get_neighbor_mask(segment, bit_position)) &amp; cut_limit_mask;</div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>        <span class="keywordflow">if</span> (__builtin_expect(to_clear != 0, 1)) {  <span class="comment">// Branch prediction: likely</span></div>
<div class="line"><span class="lineno"> 1107</span>            <span class="comment">// Use vectorization for clearing multiple cuts when possible</span></div>
<div class="line"><span class="lineno"> 1108</span>            <span class="keyword">constexpr</span> <span class="keywordtype">int</span> vector_size =</div>
<div class="line"><span class="lineno"> 1109</span>                8;  <span class="comment">// Process 8 cuts at a time if possible</span></div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>            <span class="keywordflow">while</span> (__builtin_popcountll(to_clear) &gt;= vector_size) {</div>
<div class="line"><span class="lineno"> 1112</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; vector_size; i++) {</div>
<div class="line"><span class="lineno"> 1113</span>                    <span class="keyword">const</span> <span class="keywordtype">int</span> cut_idx = __builtin_ctzll(to_clear);</div>
<div class="line"><span class="lineno"> 1114</span>                    new_label-&gt;SRCmap[active_cuts[cut_idx].index] = 0.0;</div>
<div class="line"><span class="lineno"> 1115</span>                    to_clear &amp;= (to_clear - 1);</div>
<div class="line"><span class="lineno"> 1116</span>                }</div>
<div class="line"><span class="lineno"> 1117</span>            }</div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>            <span class="comment">// Process remaining cuts to clear</span></div>
<div class="line"><span class="lineno"> 1120</span>            <span class="keywordflow">while</span> (to_clear) {</div>
<div class="line"><span class="lineno"> 1121</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> cut_idx = __builtin_ctzll(to_clear);</div>
<div class="line"><span class="lineno"> 1122</span>                new_label-&gt;SRCmap[active_cuts[cut_idx].index] = 0.0;</div>
<div class="line"><span class="lineno"> 1123</span>                to_clear &amp;= (to_clear - 1);</div>
<div class="line"><span class="lineno"> 1124</span>            }</div>
<div class="line"><span class="lineno"> 1125</span>        }</div>
<div class="line"><span class="lineno"> 1126</span> </div>
<div class="line"><span class="lineno"> 1127</span>        new_label-&gt;cost += total_cost_update;</div>
<div class="line"><span class="lineno"> 1128</span>    }</div>
<div class="line"><span class="lineno"> 1129</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1130</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F != <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a67f115c1fddc4ce1aeb1c754001585bc">Full::Reverse</a>) {</div>
<div class="line"><span class="lineno"> 1131</span>        <span class="keywordflow">return</span> new_label;</div>
<div class="line"><span class="lineno"> 1132</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1133</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1134</span>    }</div>
<div class="line"><span class="lineno"> 1135</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a193d914edeb3709d3a2058d974612af5"><div class="ttname"><a href="Definitions_8h.html#a193d914edeb3709d3a2058d974612af5">RCC_MODE_BLOCK</a></div><div class="ttdeci">#define RCC_MODE_BLOCK(code_block)</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00439">Definitions.h:439</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a491fba2810f85cff5c316e40d8645a9da101f693f72287a2819a364f64ca1c0ed"><div class="ttname"><a href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da101f693f72287a2819a364f64ca1c0ed">ArcType::Jump</a></div><div class="ttdeci">@ Jump</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00079">Definitions.h:79</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a491fba2810f85cff5c316e40d8645a9da6c3a6944a808a7c0bbb6788dbec54a9f"><div class="ttname"><a href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da6c3a6944a808a7c0bbb6788dbec54a9f">ArcType::Node</a></div><div class="ttdeci">@ Node</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00079">Definitions.h:79</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a8358969dab0ab050f0cde1bd2391f4f0a159adaee61ec4fa72f55b84ea7916261"><div class="ttname"><a href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a159adaee61ec4fa72f55b84ea7916261">Full::PSTEP</a></div><div class="ttdeci">@ PSTEP</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00081">Definitions.h:81</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a8358969dab0ab050f0cde1bd2391f4f0ae902a36ade483cde97d806974068a10f"><div class="ttname"><a href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0ae902a36ade483cde97d806974068a10f">Full::TSP</a></div><div class="ttdeci">@ TSP</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00081">Definitions.h:81</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_ae89bd8b92ab73e02af41939d44a3179daebb87a770abac0e394d963d20ed574b7"><div class="ttname"><a href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179daebb87a770abac0e394d963d20ed574b7">Mutability::Mut</a></div><div class="ttdeci">@ Mut</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00080">Definitions.h:80</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a77cc1fc155ee1234301d754b1e32d1f1"><div class="ttname"><a href="#a77cc1fc155ee1234301d754b1e32d1f1">BucketGraph::pstep_duals</a></div><div class="ttdeci">PSTEPDuals pstep_duals</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00119">BucketGraph.h:119</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a91ceea45f7a15a8541dd999e806ffe6d"><div class="ttname"><a href="#a91ceea45f7a15a8541dd999e806ffe6d">BucketGraph::cost_calculator</a></div><div class="ttdeci">CostFunction cost_calculator</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00102">BucketGraph.h:102</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aac3c165dfb9837288ad63ac34ad91041"><div class="ttname"><a href="#aac3c165dfb9837288ad63ac34ad91041">BucketGraph::is_node_visited</a></div><div class="ttdeci">static bool is_node_visited(const std::array&lt; uint64_t, num_words &gt; &amp;bitmap, int node_id)</div><div class="ttdoc">Checks if a node has been visited based on a bitmap.</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00555">BucketGraph.h:555</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_af2436dd7416920cc8f4bed442dc84c86"><div class="ttname"><a href="#af2436dd7416920cc8f4bed442dc84c86">BucketGraph::process_all_resources</a></div><div class="ttdeci">bool process_all_resources(std::vector&lt; double &gt; &amp;new_resources, const std::array&lt; double, R_SIZE &gt; &amp;initial_resources, const Gamma &amp;gamma, const VRPNode &amp;theNode, size_t N)</div><div class="ttdoc">Processes all resources by iterating through them and applying constraints.</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00114">BucketRes.h:114</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_ac36d91be18f5093577ee00a38ceb771e_cgraph.png" border="0" usemap="#aclassBucketGraph_ac36d91be18f5093577ee00a38ceb771e_cgraph" alt=""/></div>
<map name="aclassBucketGraph_ac36d91be18f5093577ee00a38ceb771e_cgraph" id="aclassBucketGraph_ac36d91be18f5093577ee00a38ceb771e_cgraph">
<area shape="rect" title=" " alt="" coords="5,217,148,243"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="426,18,567,58"/>
<area shape="poly" title=" " alt="" coords="78,216,90,177,112,125,147,73,169,50,194,32,220,20,247,11,304,3,360,5,411,12,410,18,359,10,304,9,248,16,222,25,197,36,172,54,151,76,117,128,95,179,84,217"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="196,46,363,86"/>
<area shape="poly" title=" " alt="" coords="84,215,127,159,158,125,194,96,200,92,203,96,197,100,162,129,131,162,88,218"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="212,110,346,136"/>
<area shape="poly" title=" " alt="" coords="92,215,136,180,194,145,207,139,209,144,197,150,139,185,95,219"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="225,160,334,185"/>
<area shape="poly" title=" " alt="" coords="124,214,216,188,217,193,125,219"/>
<area shape="rect" href="classBucketGraph.html#a7ffbc9d76efacdae82ed10f5b7009348" title=" " alt="" coords="210,210,348,250"/>
<area shape="poly" title=" " alt="" coords="148,227,194,227,194,233,148,233"/>
<area shape="rect" href="classBucketGraph.html#aac3c165dfb9837288ad63ac34ad91041" title="Checks if a node has been visited based on a bitmap." alt="" coords="205,275,354,316"/>
<area shape="poly" title=" " alt="" coords="120,241,200,267,198,272,118,246"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="227,340,332,365"/>
<area shape="poly" title=" " alt="" coords="92,241,136,282,165,305,197,325,213,333,211,337,194,330,162,309,133,286,89,245"/>
<area shape="rect" href="classBucketGraph.html#af2436dd7416920cc8f4bed442dc84c86" title="Processes all resources by iterating through them and applying constraints." alt="" coords="205,390,354,430"/>
<area shape="poly" title=" " alt="" coords="87,242,129,305,161,343,197,376,203,379,200,384,194,380,157,346,125,308,83,245"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="201,455,358,496"/>
<area shape="poly" title=" " alt="" coords="84,242,98,281,121,333,154,390,174,416,197,440,203,444,199,448,194,444,170,420,150,393,116,336,93,283,79,244"/>
<area shape="poly" title=" " alt="" coords="363,52,410,46,410,52,364,58"/>
<area shape="rect" href="BucketRes_8h.html#a01cb6322e983d262cc6b687e0894e278" title=" " alt="" coords="411,233,581,259"/>
<area shape="poly" title=" " alt="" coords="347,387,361,376,372,363,378,350,384,323,390,295,397,281,409,268,413,265,416,269,413,272,401,284,395,297,389,324,383,351,377,366,365,380,350,391"/>
<area shape="rect" href="BucketRes_8h.html#a5cb124036dd2244f498826336ba75678" title=" " alt="" coords="414,282,579,308"/>
<area shape="poly" title=" " alt="" coords="343,387,361,376,376,362,384,347,394,333,409,318,420,312,422,317,413,323,398,336,389,350,380,365,365,380,346,391"/>
<area shape="rect" href="BucketRes_8h.html#adc9ed5f87789d0ecbacc1793d27f9855" title=" " alt="" coords="428,332,564,373"/>
<area shape="poly" title=" " alt="" coords="354,388,412,372,414,377,355,393"/>
<area shape="rect" href="BucketRes_8h.html#a621f51219a252a664bbc9d0240e9c646" title=" " alt="" coords="418,397,574,423"/>
<area shape="poly" title=" " alt="" coords="354,407,402,407,402,413,354,413"/>
<area shape="rect" href="BucketRes_8h.html#a91340d0cebc8cce4adc13c109946b6c3" title=" " alt="" coords="414,447,578,488"/>
<area shape="poly" title=" " alt="" coords="355,427,403,440,401,445,354,432"/>
<area shape="rect" href="BucketRes_8h.html#aa271d5b57809ba00a31d11a88861bc15" title=" " alt="" coords="414,512,578,537"/>
<area shape="poly" title=" " alt="" coords="343,428,365,441,380,456,389,470,398,484,413,497,423,503,420,507,409,501,394,487,384,473,376,459,361,445,340,433"/>
<area shape="rect" href="BucketRes_8h.html#af7d18c39ae22f1ea2c5d3cd25971c9d2" title=" " alt="" coords="418,561,574,587"/>
<area shape="poly" title=" " alt="" coords="348,429,365,441,376,455,383,469,389,497,395,523,401,535,413,548,416,551,413,555,409,552,397,539,390,525,384,498,378,471,372,458,361,445,344,433"/>
<area shape="rect" href="namespacenumericutils.html#a8d554fdb4468068ab99dc7a219308492" title=" " alt="" coords="629,316,745,341"/>
<area shape="poly" title=" " alt="" coords="565,341,613,335,614,340,565,347"/>
<area shape="rect" href="namespacenumericutils.html#afa1d31c5f18a361509ba1faacca5feb4" title=" " alt="" coords="631,365,743,391"/>
<area shape="poly" title=" " alt="" coords="565,359,616,366,616,371,565,364"/>
</map>
</div>

</div>
</div>
<a id="a3e3715398269e849bd2172508ef57245" name="a3e3715398269e849bd2172508ef57245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e3715398269e849bd2172508ef57245">&#9670;&#160;</a></span>extend_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt; BucketGraph::extend_path </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>resources</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l01056">1056</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1057</span>                                                                            {</div>
<div class="line"><span class="lineno"> 1058</span>    <span class="comment">// Add the new nodes to the path</span></div>
<div class="line"><span class="lineno"> 1059</span>    <span class="keyword">auto</span> label = <a class="code hl_variable" href="#a122e64987e05917c0fa982a63228d2e6">label_pool_fw</a>-&gt;acquire();</div>
<div class="line"><span class="lineno"> 1060</span>    label-&gt;node_id = path.back();</div>
<div class="line"><span class="lineno"> 1061</span>    label-&gt;cost = 0.0;</div>
<div class="line"><span class="lineno"> 1062</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; resources.size(); ++i) {</div>
<div class="line"><span class="lineno"> 1063</span>        label-&gt;resources[i] = resources[i];</div>
<div class="line"><span class="lineno"> 1064</span>    }</div>
<div class="line"><span class="lineno"> 1065</span>    label-&gt;addRoute(path);</div>
<div class="line"><span class="lineno"> 1066</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> node : path) {</div>
<div class="line"><span class="lineno"> 1067</span>        <a class="code hl_function" href="#ad36a543a58c7d3cd4ded313dd5069f03">set_node_visited</a>(label-&gt;visited_bitmap, node);</div>
<div class="line"><span class="lineno"> 1068</span>    }</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>    label-&gt;cost = 0.0;</div>
<div class="line"><span class="lineno"> 1071</span>    std::vector&lt;Label *&gt; new_labels;</div>
<div class="line"><span class="lineno"> 1072</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;arcs = nodes[label-&gt;node_id].get_arcs&lt;<a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>&gt;();</div>
<div class="line"><span class="lineno"> 1073</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;arc : arcs) {</div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keyword">auto</span> new_label =</div>
<div class="line"><span class="lineno"> 1075</span>            <a class="code hl_function" href="#ac36d91be18f5093577ee00a38ceb771e">Extend</a>&lt;<a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>, <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba3bc026b815790a05493fa56fc4b8d8bd">Stage::Extend</a>, <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da6c3a6944a808a7c0bbb6788dbec54a9f">ArcType::Node</a>,</div>
<div class="line"><span class="lineno"> 1076</span>                   <a class="code hl_enumvalue" href="Definitions_8h.html#ae89bd8b92ab73e02af41939d44a3179daebb87a770abac0e394d963d20ed574b7">Mutability::Mut</a>, <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a44ffd38a6dea695cbe2b34efdcc6cf27">Full::Partial</a>&gt;(label, arc);</div>
<div class="line"><span class="lineno"> 1077</span>        new_labels.insert(new_labels.end(), new_label);</div>
<div class="line"><span class="lineno"> 1078</span>    }</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>    <span class="comment">// std::vector&lt;Label *&gt; new_labels_to_return;</span></div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>    <span class="comment">// for (auto new_label : new_labels) {</span></div>
<div class="line"><span class="lineno"> 1083</span>    <span class="comment">//     //new_label = compute_mono_label(new_label);</span></div>
<div class="line"><span class="lineno"> 1084</span>    <span class="comment">//     // add label-&gt;nodes_covered to the front of</span></div>
<div class="line"><span class="lineno"> 1085</span>    <span class="comment">//     new_labels-&gt;nodes_covered</span></div>
<div class="line"><span class="lineno"> 1086</span>    <span class="comment">//     //new_label-&gt;nodes_covered.insert(new_label-&gt;nodes_covered.begin(),</span></div>
<div class="line"><span class="lineno"> 1087</span>    <span class="comment">//     label-&gt;nodes_covered.begin(),</span></div>
<div class="line"><span class="lineno"> 1088</span>    <span class="comment">//                                     // label-&gt;nodes_covered.end() -</span></div>
<div class="line"><span class="lineno"> 1089</span>    <span class="comment">//                                     1);</span></div>
<div class="line"><span class="lineno"> 1090</span>    <span class="comment">//     // print new_labels-&gt;nodes_covered</span></div>
<div class="line"><span class="lineno"> 1091</span>    <span class="comment">//     new_labels_to_return.push_back(new_label);</span></div>
<div class="line"><span class="lineno"> 1092</span>    <span class="comment">// }</span></div>
<div class="line"><span class="lineno"> 1093</span>    <span class="keywordflow">return</span> new_labels;</div>
<div class="line"><span class="lineno"> 1094</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a8358969dab0ab050f0cde1bd2391f4f0a44ffd38a6dea695cbe2b34efdcc6cf27"><div class="ttname"><a href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a44ffd38a6dea695cbe2b34efdcc6cf27">Full::Partial</a></div><div class="ttdeci">@ Partial</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00081">Definitions.h:81</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_aca8133200c1122e29b87b314d82604eba3bc026b815790a05493fa56fc4b8d8bd"><div class="ttname"><a href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba3bc026b815790a05493fa56fc4b8d8bd">Stage::Extend</a></div><div class="ttdeci">@ Extend</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00078">Definitions.h:78</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a3e3715398269e849bd2172508ef57245_cgraph.png" border="0" usemap="#aclassBucketGraph_a3e3715398269e849bd2172508ef57245_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a3e3715398269e849bd2172508ef57245_cgraph" id="aclassBucketGraph_a3e3715398269e849bd2172508ef57245_cgraph">
<area shape="rect" title=" " alt="" coords="5,341,179,367"/>
<area shape="rect" href="classBucketGraph.html#ac36d91be18f5093577ee00a38ceb771e" title=" " alt="" coords="227,252,369,278"/>
<area shape="poly" title=" " alt="" coords="123,338,251,282,253,287,125,343"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="422,457,579,497"/>
<area shape="poly" title=" " alt="" coords="139,365,417,449,415,454,137,370"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="647,19,788,60"/>
<area shape="poly" title=" " alt="" coords="299,251,308,207,329,146,344,114,363,83,387,56,416,33,441,21,468,12,524,4,581,5,632,13,631,18,580,11,525,9,469,17,443,25,418,38,391,59,368,86,349,116,334,148,313,209,304,252"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="417,47,584,88"/>
<area shape="poly" title=" " alt="" coords="303,251,343,179,376,136,415,98,420,94,423,98,419,102,380,139,348,182,308,253"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="434,112,568,138"/>
<area shape="poly" title=" " alt="" coords="307,250,350,200,381,171,416,147,425,142,427,147,418,151,384,175,354,204,311,253"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="446,161,555,187"/>
<area shape="poly" title=" " alt="" coords="319,249,363,224,416,197,434,190,436,195,418,202,365,228,322,254"/>
<area shape="rect" href="classBucketGraph.html#a7ffbc9d76efacdae82ed10f5b7009348" title=" " alt="" coords="432,211,570,252"/>
<area shape="poly" title=" " alt="" coords="369,251,416,243,417,248,370,256"/>
<area shape="rect" href="classBucketGraph.html#aac3c165dfb9837288ad63ac34ad91041" title="Checks if a node has been visited based on a bitmap." alt="" coords="426,277,575,317"/>
<area shape="poly" title=" " alt="" coords="370,274,411,280,411,285,369,279"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="448,341,553,367"/>
<area shape="poly" title=" " alt="" coords="322,276,366,301,418,327,437,334,435,339,416,331,363,306,319,281"/>
<area shape="rect" href="classBucketGraph.html#af2436dd7416920cc8f4bed442dc84c86" title="Processes all resources by iterating through them and applying constraints." alt="" coords="426,391,575,432"/>
<area shape="poly" title=" " alt="" coords="312,277,355,325,386,353,418,377,425,381,422,386,416,382,382,357,352,329,308,280"/>
<area shape="poly" title=" " alt="" coords="312,277,371,360,384,384,392,404,401,422,419,442,424,446,421,450,415,446,397,425,387,406,379,386,367,362,307,280"/>
<area shape="poly" title=" " alt="" coords="584,54,631,48,632,53,585,59"/>
<area shape="rect" href="BucketRes_8h.html#a01cb6322e983d262cc6b687e0894e278" title=" " alt="" coords="632,235,803,260"/>
<area shape="poly" title=" " alt="" coords="568,389,582,378,593,365,600,351,605,324,611,297,618,283,631,270,634,266,638,271,634,274,623,286,616,299,610,325,605,353,598,367,586,382,571,393"/>
<area shape="rect" href="BucketRes_8h.html#a5cb124036dd2244f498826336ba75678" title=" " alt="" coords="635,284,800,310"/>
<area shape="poly" title=" " alt="" coords="564,388,583,378,597,363,606,349,615,335,631,320,641,314,644,319,634,324,619,338,610,352,601,367,586,382,567,393"/>
<area shape="rect" href="BucketRes_8h.html#adc9ed5f87789d0ecbacc1793d27f9855" title=" " alt="" coords="649,334,786,375"/>
<area shape="poly" title=" " alt="" coords="575,389,634,374,635,379,576,394"/>
<area shape="rect" href="BucketRes_8h.html#a621f51219a252a664bbc9d0240e9c646" title=" " alt="" coords="639,399,796,424"/>
<area shape="poly" title=" " alt="" coords="576,409,624,409,624,414,576,414"/>
<area shape="rect" href="BucketRes_8h.html#a91340d0cebc8cce4adc13c109946b6c3" title=" " alt="" coords="635,449,800,489"/>
<area shape="poly" title=" " alt="" coords="576,429,624,442,623,447,575,434"/>
<area shape="rect" href="BucketRes_8h.html#aa271d5b57809ba00a31d11a88861bc15" title=" " alt="" coords="636,513,799,539"/>
<area shape="poly" title=" " alt="" coords="564,430,586,443,601,458,610,472,619,486,634,499,644,504,641,509,631,503,615,489,606,475,597,461,583,447,562,435"/>
<area shape="rect" href="BucketRes_8h.html#af7d18c39ae22f1ea2c5d3cd25971c9d2" title=" " alt="" coords="639,563,796,588"/>
<area shape="poly" title=" " alt="" coords="569,430,586,443,598,457,605,471,610,499,616,525,623,537,634,550,638,553,634,557,631,554,618,540,611,527,605,500,600,473,593,460,582,447,566,435"/>
</map>
</div>

</div>
</div>
<a id="a8abd2e954b1f55ea9d1da79f4df33244" name="a8abd2e954b1f55ea9d1da79f4df33244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8abd2e954b1f55ea9d1da79f4df33244">&#9670;&#160;</a></span>fix_arc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::fix_arc </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00319">319</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  319</span>                                                   {</div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordtype">size_t</span> bit_pos = from * nodes.size() + to;</div>
<div class="line"><span class="lineno">  321</span>        <a class="code hl_variable" href="#a619c4493e5de7a18f6f947b550025f78">fixed_arcs_bitmap</a>[bit_pos / 64] |= (1ULL &lt;&lt; (bit_pos % 64));</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  323</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_a619c4493e5de7a18f6f947b550025f78"><div class="ttname"><a href="#a619c4493e5de7a18f6f947b550025f78">BucketGraph::fixed_arcs_bitmap</a></div><div class="ttdeci">std::vector&lt; uint64_t &gt; fixed_arcs_bitmap</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00301">BucketGraph.h:301</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6ef36ef1f1276342c17231dc693f95b" name="ab6ef36ef1f1276342c17231dc693f95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6ef36ef1f1276342c17231dc693f95b">&#9670;&#160;</a></span>forbidCycle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::forbidCycle </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>cycle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>aggressive</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Forbids a cycle in the bucket graph.</p>
<p>This function takes a vector representing a cycle in the graph and forbids the edges corresponding to the cycle. If the 'aggressive' flag is set to true, it also forbids additional edges between the vertices of the cycle. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00521">521</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  521</span>                                                                          {</div>
<div class="line"><span class="lineno">  522</span>    <span class="comment">// If the cycle is too short, there is nothing to forbid.</span></div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">if</span> (cycle.size() &lt; 2) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>    <span class="comment">// Process each adjacent pair in the cycle.</span></div>
<div class="line"><span class="lineno">  526</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; cycle.size() - 1; ++i) {</div>
<div class="line"><span class="lineno">  527</span>        <span class="keywordtype">int</span> v1 = cycle[i];</div>
<div class="line"><span class="lineno">  528</span>        <span class="keywordtype">int</span> v2 = cycle[i + 1];</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>        <span class="comment">// Forbid v2 in the neighborhood of v1.</span></div>
<div class="line"><span class="lineno">  531</span>        <span class="keywordtype">size_t</span> segment = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v2) &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordtype">size_t</span> bit_position = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v2) &amp; 63;</div>
<div class="line"><span class="lineno">  533</span>        <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[v1][segment] |= <a class="code hl_variable" href="#ac8ef42169458fa3ce65c86652e4f1dd8">bit_mask_lookup</a>[bit_position];</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>        <span class="keywordflow">if</span> (aggressive) {</div>
<div class="line"><span class="lineno">  536</span>            <span class="comment">// Additionally, forbid v1 in the neighborhood of v2.</span></div>
<div class="line"><span class="lineno">  537</span>            segment = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v1) &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  538</span>            bit_position = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v1) &amp; 63;</div>
<div class="line"><span class="lineno">  539</span>            <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[v2][segment] |= <a class="code hl_variable" href="#ac8ef42169458fa3ce65c86652e4f1dd8">bit_mask_lookup</a>[bit_position];</div>
<div class="line"><span class="lineno">  540</span>        }</div>
<div class="line"><span class="lineno">  541</span>    }</div>
<div class="line"><span class="lineno">  542</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a78afa4d3e7c6078f874480c68f43caff" name="a78afa4d3e7c6078f874480c68f43caff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78afa4d3e7c6078f874480c68f43caff">&#9670;&#160;</a></span>generate_arcs() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::generate_arcs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates arcs in both forward and backward directions in parallel. </p>
<p>This function uses OpenMP to parallelize the generation of arcs in both forward and backward directions. It performs the following steps for each direction:</p><ul>
<li>Calls the generate_arcs function template with the appropriate direction.</li>
<li>Clears and resizes the Phi vector for the respective direction.</li>
<li>Computes the Phi values for each bucket and stores them in the Phi vector.</li>
<li>Calls the SCC_handler function template with the appropriate direction.</li>
</ul>
<p>The forward direction operations are performed in one OpenMP section, and the backward direction operations are performed in another OpenMP section. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00883">883</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  883</span>                                {</div>
<div class="line"><span class="lineno">  884</span>    <a class="code hl_define" href="Definitions_8h.html#aae3681742ccc706b45390ec5d3392d58">PARALLEL_SECTIONS</a>(</div>
<div class="line"><span class="lineno">  885</span>        work, <a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>,</div>
<div class="line"><span class="lineno">  886</span>        <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> {</div>
<div class="line"><span class="lineno">  887</span>            <span class="comment">// Task for Forward Direction</span></div>
<div class="line"><span class="lineno">  888</span>            <a class="code hl_function" href="#a78afa4d3e7c6078f874480c68f43caff">generate_arcs&lt;Direction::Forward&gt;</a>();</div>
<div class="line"><span class="lineno">  889</span>            <a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>.clear();</div>
<div class="line"><span class="lineno">  890</span>            <a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>.resize(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>);</div>
<div class="line"><span class="lineno">  891</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>; ++i) {</div>
<div class="line"><span class="lineno">  892</span>                <a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>[i] = <a class="code hl_function" href="#aa9eea9800ea6652e736b960a729f2c14">computePhi</a>(i, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  893</span>            }</div>
<div class="line"><span class="lineno">  894</span>            <a class="code hl_function" href="#a2925857b35aa31c3c5af4a2795840b98">SCC_handler&lt;Direction::Forward&gt;</a>();</div>
<div class="line"><span class="lineno">  895</span>        },</div>
<div class="line"><span class="lineno">  896</span>        <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> {</div>
<div class="line"><span class="lineno">  897</span>            <span class="comment">// Task for Backward Direction</span></div>
<div class="line"><span class="lineno">  898</span>            <a class="code hl_function" href="#a78afa4d3e7c6078f874480c68f43caff">generate_arcs&lt;Direction::Backward&gt;</a>();</div>
<div class="line"><span class="lineno">  899</span>            <a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>.clear();</div>
<div class="line"><span class="lineno">  900</span>            <a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>.resize(<a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno">  901</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>; ++i) {</div>
<div class="line"><span class="lineno">  902</span>                <a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>[i] = <a class="code hl_function" href="#aa9eea9800ea6652e736b960a729f2c14">computePhi</a>(i, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  903</span>            }</div>
<div class="line"><span class="lineno">  904</span>            <a class="code hl_function" href="#a2925857b35aa31c3c5af4a2795840b98">SCC_handler&lt;Direction::Backward&gt;</a>();</div>
<div class="line"><span class="lineno">  905</span>        });</div>
<div class="line"><span class="lineno">  906</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a2925857b35aa31c3c5af4a2795840b98"><div class="ttname"><a href="#a2925857b35aa31c3c5af4a2795840b98">BucketGraph::SCC_handler</a></div><div class="ttdeci">void SCC_handler()</div><div class="ttdoc">Handles the computation of Strongly Connected Components (SCCs) for the BucketGraph.</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l00864">BucketUtils.h:864</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a78afa4d3e7c6078f874480c68f43caff"><div class="ttname"><a href="#a78afa4d3e7c6078f874480c68f43caff">BucketGraph::generate_arcs</a></div><div class="ttdeci">void generate_arcs()</div><div class="ttdoc">Generates arcs in both forward and backward directions in parallel.</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8cpp_source.html#l00883">BucketGraph.cpp:883</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aa9eea9800ea6652e736b960a729f2c14"><div class="ttname"><a href="#aa9eea9800ea6652e736b960a729f2c14">BucketGraph::computePhi</a></div><div class="ttdeci">std::vector&lt; int &gt; computePhi(int &amp;bucket, bool fw)</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8cpp_source.html#l00196">BucketGraph.cpp:196</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a78afa4d3e7c6078f874480c68f43caff_cgraph.png" border="0" usemap="#aclassBucketGraph_a78afa4d3e7c6078f874480c68f43caff_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a78afa4d3e7c6078f874480c68f43caff_cgraph" id="aclassBucketGraph_a78afa4d3e7c6078f874480c68f43caff_cgraph">
<area shape="rect" title="Generates arcs in both forward and backward directions in parallel." alt="" coords="5,133,191,158"/>
<area shape="poly" title=" " alt="" coords="60,134,52,124,57,114,72,108,98,106,126,109,140,116,138,120,125,114,98,111,74,114,60,118,58,124,64,131"/>
<area shape="rect" href="classBucketGraph.html#aa9eea9800ea6652e736b960a729f2c14" title=" " alt="" coords="242,78,414,104"/>
<area shape="poly" title=" " alt="" coords="154,130,256,105,257,111,156,135"/>
<area shape="rect" href="classBucketGraph.html#a2925857b35aa31c3c5af4a2795840b98" title="Handles the computation of Strongly Connected Components (SCCs) for the BucketGraph." alt="" coords="239,186,418,212"/>
<area shape="poly" title=" " alt="" coords="157,157,256,180,254,185,156,162"/>
<area shape="rect" href="classBucketGraph.html#a90ce1e861b31ed9c05e36aa3f9ab6743" title=" " alt="" coords="492,5,652,46"/>
<area shape="poly" title=" " alt="" coords="378,75,478,48,479,53,380,80"/>
<area shape="rect" href="classBucketGraph.html#a491d87e43d4a6ec6ed9557be1769cd29" title=" " alt="" coords="492,71,652,111"/>
<area shape="poly" title=" " alt="" coords="415,88,477,88,477,94,415,94"/>
<area shape="rect" href="classBucketGraph.html#a78be6c04ca36f1ad7b2e3a594898c335" title=" " alt="" coords="726,71,886,111"/>
<area shape="poly" title=" " alt="" coords="648,44,716,63,715,68,647,49"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="934,100,1075,141"/>
<area shape="poly" title=" " alt="" coords="886,100,919,105,918,110,885,105"/>
<area shape="poly" title=" " alt="" coords="652,88,710,88,710,94,652,94"/>
<area shape="poly" title=" " alt="" coords="395,183,466,171,712,142,918,124,918,129,712,147,466,176,396,188"/>
<area shape="rect" href="classSCC.html#a1c3c0a300e9234ccf344072b1f2c949b" title="Converts an unordered map representation of a graph into an internal graph representation." alt="" coords="466,186,678,212"/>
<area shape="poly" title=" " alt="" coords="418,196,450,196,450,202,418,202"/>
<area shape="rect" href="classSCC.html#afdc7bf9b9ebc6853227b86fe4cb151ea" title="Finds and returns all Strongly Connected Components (SCCs) in the graph using Tarjan&#39;s algorithm." alt="" coords="516,236,629,261"/>
<area shape="poly" title=" " alt="" coords="396,210,501,231,500,237,395,215"/>
<area shape="rect" href="classSCC.html#a62703561fe2b0e0a6f7961b09778ff6e" title="Computes the topological order of Strongly Connected Components (SCCs) in a directed graph." alt="" coords="474,285,670,310"/>
<area shape="poly" title=" " alt="" coords="351,210,402,241,467,271,486,278,485,283,465,276,400,245,348,215"/>
<area shape="rect" href="classSCC.html#a8c9aaadeeda1e882c033db0fed40d548" title="Adds a directed edge from vertex v to vertex w in the graph." alt="" coords="754,186,858,212"/>
<area shape="poly" title=" " alt="" coords="679,196,739,196,739,202,679,202"/>
</map>
</div>

</div>
</div>
<a id="a07a40f85014b0f13739e20d5d6dc547b" name="a07a40f85014b0f13739e20d5d6dc547b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07a40f85014b0f13739e20d5d6dc547b">&#9670;&#160;</a></span>generate_arcs() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::generate_arcs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates arcs in the bucket graph based on the specified direction. </p>
<p>Generates arcs in the bucket graph based on the specified direction. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l00426">426</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  426</span>                                {</div>
<div class="line"><span class="lineno">  427</span>    <span class="comment">// Mutex for protecting global bucket updates.</span></div>
<div class="line"><span class="lineno">  428</span>    std::mutex buckets_mutex;</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>    <span class="comment">// Clear the appropriate graph.</span></div>
<div class="line"><span class="lineno">  431</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  432</span>        <a class="code hl_variable" href="#a9da46b294b52721c7272165c2bc468f7">fw_bucket_graph</a>.clear();</div>
<div class="line"><span class="lineno">  433</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  434</span>        <a class="code hl_variable" href="#aab29c670775c3ff9fa3a9ca48444385e">bw_bucket_graph</a>.clear();</div>
<div class="line"><span class="lineno">  435</span>    }</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>    <span class="comment">// Resolve references based on the direction.</span></div>
<div class="line"><span class="lineno">  438</span>    <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  439</span>    <span class="keyword">auto</span> &amp;num_buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a782519bd84892e3cb57bb237395dcfad">num_buckets_fw</a>, <a class="code hl_variable" href="#aaeaf126e28cef7e5d242c91e6ffcc379">num_buckets_bw</a>);</div>
<div class="line"><span class="lineno">  440</span>    <span class="keyword">auto</span> &amp;num_buckets_idx =</div>
<div class="line"><span class="lineno">  441</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a>, <a class="code hl_variable" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a>);</div>
<div class="line"><span class="lineno">  442</span>    <span class="comment">// Note: we no longer rely solely on bucket_splits here.</span></div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>    <span class="comment">// Pre-compute intervals (base widths) for each node and each resource,</span></div>
<div class="line"><span class="lineno">  445</span>    <span class="comment">// using the same logic as in define_buckets.</span></div>
<div class="line"><span class="lineno">  446</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> num_resources = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size();</div>
<div class="line"><span class="lineno">  447</span>    std::vector&lt;std::vector&lt;double&gt;&gt; node_base_intervals(nodes.size());</div>
<div class="line"><span class="lineno">  448</span>    <span class="comment">// Also store the computed splits per resource for each node.</span></div>
<div class="line"><span class="lineno">  449</span>    std::vector&lt;std::vector&lt;int&gt;&gt; node_split_counts(nodes.size());</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> node_id = 0; node_id &lt; nodes.size(); ++node_id) {</div>
<div class="line"><span class="lineno">  452</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;node = nodes[node_id];</div>
<div class="line"><span class="lineno">  453</span>        node_base_intervals[node_id].resize(num_resources);</div>
<div class="line"><span class="lineno">  454</span>        node_split_counts[node_id].resize(num_resources);</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_resources; ++r) {</div>
<div class="line"><span class="lineno">  456</span>            <span class="keywordtype">double</span> full_range = <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[r] - <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[r];</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordtype">double</span> node_range = node.ub[r] - node.lb[r];</div>
<div class="line"><span class="lineno">  458</span>            <span class="keywordtype">int</span> splits = 1;</div>
<div class="line"><span class="lineno">  459</span>            <span class="keywordflow">if</span> (std::fabs(full_range) &gt;</div>
<div class="line"><span class="lineno">  460</span>                std::numeric_limits&lt;double&gt;::epsilon()) {</div>
<div class="line"><span class="lineno">  461</span>                <span class="keywordtype">double</span> splits_d =</div>
<div class="line"><span class="lineno">  462</span>                    (node_range * intervals[r].interval) / full_range;</div>
<div class="line"><span class="lineno">  463</span>                splits = std::max(1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::round(splits_d)));</div>
<div class="line"><span class="lineno">  464</span>            }</div>
<div class="line"><span class="lineno">  465</span>            node_split_counts[node_id][r] = splits;</div>
<div class="line"><span class="lineno">  466</span>            node_base_intervals[node_id][r] =</div>
<div class="line"><span class="lineno">  467</span>                (node.ub[r] - node.lb[r]) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(splits);</div>
<div class="line"><span class="lineno">  468</span>        }</div>
<div class="line"><span class="lineno">  469</span>    }</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    <span class="comment">// Clear all buckets and their arcs.</span></div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;bucket : buckets) {</div>
<div class="line"><span class="lineno">  473</span>        bucket.clear();</div>
<div class="line"><span class="lineno">  474</span>        bucket.clear_arcs(D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>);</div>
<div class="line"><span class="lineno">  475</span>    }</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>    <span class="comment">// Helper lambda: validate an arc and, if valid, add it.</span></div>
<div class="line"><span class="lineno">  478</span>    <span class="keyword">auto</span> try_add_arc =</div>
<div class="line"><span class="lineno">  479</span>        [&amp;](<span class="keyword">const</span> VRPNode &amp;curr_node, <span class="keywordtype">int</span> from_bucket, <span class="keyword">const</span> VRPNode &amp;next_node,</div>
<div class="line"><span class="lineno">  480</span>            <span class="keywordtype">int</span> to_bucket, <span class="keyword">const</span> std::vector&lt;double&gt; &amp;curr_node_base,</div>
<div class="line"><span class="lineno">  481</span>            <span class="keyword">const</span> std::vector&lt;double&gt; &amp;next_node_base,</div>
<div class="line"><span class="lineno">  482</span>            <span class="keyword">const</span> std::vector&lt;double&gt; &amp;res_inc, <span class="keywordtype">double</span> cost_inc) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordtype">bool</span> valid = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  485</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; res_inc.size() &amp;&amp; valid; ++r) {</div>
<div class="line"><span class="lineno">  486</span>                <span class="comment">// For forward, check that adding the resource increment</span></div>
<div class="line"><span class="lineno">  487</span>                <span class="comment">// from the from-bucket does not push us past the next</span></div>
<div class="line"><span class="lineno">  488</span>                <span class="comment">// node&#39;s upper bound.</span></div>
<div class="line"><span class="lineno">  489</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(buckets[from_bucket].lb[r] + res_inc[r],</div>
<div class="line"><span class="lineno">  490</span>                                     next_node.ub[r])) {</div>
<div class="line"><span class="lineno">  491</span>                    valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  492</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  493</span>                    <span class="keywordtype">double</span> max_calc =</div>
<div class="line"><span class="lineno">  494</span>                        std::max(buckets[from_bucket].lb[r] + res_inc[r],</div>
<div class="line"><span class="lineno">  495</span>                                 next_node.lb[r]);</div>
<div class="line"><span class="lineno">  496</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e">numericutils::lt</a>(max_calc, buckets[to_bucket].lb[r]) ||</div>
<div class="line"><span class="lineno">  497</span>                        <a class="code hl_function" href="namespacenumericutils.html#a8d554fdb4468068ab99dc7a219308492">numericutils::gte</a>(max_calc, buckets[to_bucket].lb[r] +</div>
<div class="line"><span class="lineno">  498</span>                                                        next_node_base[r])) {</div>
<div class="line"><span class="lineno">  499</span>                        valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  500</span>                    }</div>
<div class="line"><span class="lineno">  501</span>                }</div>
<div class="line"><span class="lineno">  502</span>            }</div>
<div class="line"><span class="lineno">  503</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  504</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; res_inc.size() &amp;&amp; valid; ++r) {</div>
<div class="line"><span class="lineno">  505</span>                <span class="comment">// For backward, check that subtracting the resource</span></div>
<div class="line"><span class="lineno">  506</span>                <span class="comment">// increment does not drop below next node&#39;s lb.</span></div>
<div class="line"><span class="lineno">  507</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e">numericutils::lt</a>(buckets[from_bucket].ub[r] - res_inc[r],</div>
<div class="line"><span class="lineno">  508</span>                                     next_node.lb[r])) {</div>
<div class="line"><span class="lineno">  509</span>                    valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  510</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  511</span>                    <span class="keywordtype">double</span> min_calc =</div>
<div class="line"><span class="lineno">  512</span>                        std::min(buckets[from_bucket].ub[r] - res_inc[r],</div>
<div class="line"><span class="lineno">  513</span>                                 next_node.ub[r]);</div>
<div class="line"><span class="lineno">  514</span>                    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(min_calc, buckets[to_bucket].ub[r]) ||</div>
<div class="line"><span class="lineno">  515</span>                        <a class="code hl_function" href="namespacenumericutils.html#afa1d31c5f18a361509ba1faacca5feb4">numericutils::lte</a>(min_calc, buckets[to_bucket].ub[r] -</div>
<div class="line"><span class="lineno">  516</span>                                                        next_node_base[r])) {</div>
<div class="line"><span class="lineno">  517</span>                        valid = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  518</span>                    }</div>
<div class="line"><span class="lineno">  519</span>                }</div>
<div class="line"><span class="lineno">  520</span>            }</div>
<div class="line"><span class="lineno">  521</span>        }</div>
<div class="line"><span class="lineno">  522</span>        <span class="keywordflow">if</span> (valid) {</div>
<div class="line"><span class="lineno">  523</span>            <span class="comment">// Add the arc to the global structure.</span></div>
<div class="line"><span class="lineno">  524</span>            {</div>
<div class="line"><span class="lineno">  525</span>                std::lock_guard&lt;std::mutex&gt; lock(buckets_mutex);</div>
<div class="line"><span class="lineno">  526</span>                <a class="code hl_function" href="#a42e016ec947d0a75ffa73ceab03207d7">add_arc&lt;D&gt;</a>(from_bucket, to_bucket, res_inc, cost_inc);</div>
<div class="line"><span class="lineno">  527</span>                buckets[from_bucket].template add_bucket_arc&lt;D&gt;(</div>
<div class="line"><span class="lineno">  528</span>                    from_bucket, to_bucket, res_inc, cost_inc, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  529</span>            }</div>
<div class="line"><span class="lineno">  530</span>        }</div>
<div class="line"><span class="lineno">  531</span>        <span class="keywordflow">return</span> valid;</div>
<div class="line"><span class="lineno">  532</span>    };</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <span class="comment">// Lambda to process a single node.</span></div>
<div class="line"><span class="lineno">  535</span>    <span class="keyword">auto</span> process_node = [&amp;](<span class="keywordtype">int</span> node_id) {</div>
<div class="line"><span class="lineno">  536</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;node = nodes[node_id];</div>
<div class="line"><span class="lineno">  537</span>        std::vector&lt;double&gt; res_inc(num_resources);</div>
<div class="line"><span class="lineno">  538</span>        <span class="comment">// Local container for arcs (if further processing is needed).</span></div>
<div class="line"><span class="lineno">  539</span>        std::vector&lt;std::pair&lt;int, int&gt;&gt; local_arcs;</div>
<div class="line"><span class="lineno">  540</span>        local_arcs.reserve(nodes.size());</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>        <span class="keyword">const</span> <span class="keyword">auto</span> arcs = node.get_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  543</span>        <span class="comment">// Use the pre-computed base intervals for the current node.</span></div>
<div class="line"><span class="lineno">  544</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;curr_node_base = node_base_intervals[node.id];</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>        <span class="comment">// For every bucket in the current node.</span></div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_buckets[node.id]; ++i) {</div>
<div class="line"><span class="lineno">  548</span>            <span class="keywordtype">int</span> from_bucket = i + num_buckets_idx[node.id];</div>
<div class="line"><span class="lineno">  549</span>            <span class="comment">// Process each outgoing arc.</span></div>
<div class="line"><span class="lineno">  550</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;arc : nodes) {</div>
<div class="line"><span class="lineno">  551</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;next_node = arc;</div>
<div class="line"><span class="lineno">  552</span>                <span class="comment">// Avoid self-loop.</span></div>
<div class="line"><span class="lineno">  553</span>                <span class="keywordflow">if</span> (node.id == next_node.id) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;next_node_base = node_base_intervals[next_node.id];</div>
<div class="line"><span class="lineno">  556</span>                <span class="keyword">const</span> <span class="keywordtype">double</span> travel_cost = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(node.id, next_node.id);</div>
<div class="line"><span class="lineno">  557</span>                <span class="keywordtype">double</span> cost_inc = travel_cost - next_node.cost;</div>
<div class="line"><span class="lineno">  558</span>                <span class="comment">// Pre-calculate resource increments.</span></div>
<div class="line"><span class="lineno">  559</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_resources; r++) {</div>
<div class="line"><span class="lineno">  560</span>                    res_inc[r] = node.consumption[r];</div>
<div class="line"><span class="lineno">  561</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources[r] == <span class="stringliteral">&quot;time&quot;</span>) {</div>
<div class="line"><span class="lineno">  562</span>                        res_inc[r] += travel_cost;</div>
<div class="line"><span class="lineno">  563</span>                    }</div>
<div class="line"><span class="lineno">  564</span>                }</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>                <span class="comment">// Iterate over buckets in the next node.</span></div>
<div class="line"><span class="lineno">  567</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; num_buckets[next_node.id]; ++j) {</div>
<div class="line"><span class="lineno">  568</span>                    <span class="keywordtype">int</span> to_bucket = j + num_buckets_idx[next_node.id];</div>
<div class="line"><span class="lineno">  569</span>                    <span class="comment">// if (from_bucket == to_bucket ||</span></div>
<div class="line"><span class="lineno">  570</span>                    <span class="comment">//     is_bucket_fixed&lt;D&gt;(from_bucket, to_bucket)) {</span></div>
<div class="line"><span class="lineno">  571</span>                    <span class="comment">//     continue;</span></div>
<div class="line"><span class="lineno">  572</span>                    <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  573</span>                    <span class="keywordflow">if</span> (from_bucket == to_bucket) {</div>
<div class="line"><span class="lineno">  574</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  575</span>                    }</div>
<div class="line"><span class="lineno">  576</span>                    <span class="comment">// // Validate and add arc if valid.</span></div>
<div class="line"><span class="lineno">  577</span>                    <span class="keywordflow">if</span> (try_add_arc(node, from_bucket, next_node, to_bucket,</div>
<div class="line"><span class="lineno">  578</span>                                    curr_node_base, next_node_base, res_inc,</div>
<div class="line"><span class="lineno">  579</span>                                    cost_inc)) {</div>
<div class="line"><span class="lineno">  580</span>                        local_arcs.emplace_back(from_bucket, to_bucket);</div>
<div class="line"><span class="lineno">  581</span>                    }</div>
<div class="line"><span class="lineno">  582</span>                }</div>
<div class="line"><span class="lineno">  583</span>            }</div>
<div class="line"><span class="lineno">  584</span>        }</div>
<div class="line"><span class="lineno">  585</span>        <span class="comment">// If needed, local_arcs can be used for debugging or further</span></div>
<div class="line"><span class="lineno">  586</span>        <span class="comment">// processing.</span></div>
<div class="line"><span class="lineno">  587</span>    };</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>    <span class="comment">// Create a list of tasks (each task is a node index).</span></div>
<div class="line"><span class="lineno">  590</span>    std::vector&lt;int&gt; tasks(nodes.size());</div>
<div class="line"><span class="lineno">  591</span>    std::iota(tasks.begin(), tasks.end(), 0);</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>    <span class="comment">// Choose a chunk size based on a heuristic.</span></div>
<div class="line"><span class="lineno">  594</span>    <span class="keyword">constexpr</span> <span class="keywordtype">int</span> chunk_size = 10;</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>    <span class="comment">// Set up the thread pool.</span></div>
<div class="line"><span class="lineno">  597</span>    <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> thread_count =</div>
<div class="line"><span class="lineno">  598</span>        std::max(1u, std::thread::hardware_concurrency() / 2);</div>
<div class="line"><span class="lineno">  599</span>    exec::static_thread_pool <a class="code hl_variable" href="BucketUtils_8h.html#aa20416f5844808465090dd41979ead8e">pool</a>(thread_count);</div>
<div class="line"><span class="lineno">  600</span>    <span class="keyword">auto</span> sched = <a class="code hl_variable" href="BucketUtils_8h.html#aa20416f5844808465090dd41979ead8e">pool</a>.get_scheduler();</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>    <span class="comment">// Launch tasks in parallel over chunks.</span></div>
<div class="line"><span class="lineno">  603</span>    <span class="keyword">auto</span> bulk_sender = stdexec::bulk(</div>
<div class="line"><span class="lineno">  604</span>        stdexec::just(), (tasks.size() + chunk_size - 1) / chunk_size,</div>
<div class="line"><span class="lineno">  605</span>        [&amp;, chunk_size](std::size_t chunk_idx) {</div>
<div class="line"><span class="lineno">  606</span>            const size_t start_idx = chunk_idx * chunk_size;</div>
<div class="line"><span class="lineno">  607</span>            const size_t end_idx =</div>
<div class="line"><span class="lineno">  608</span>                std::min(start_idx + chunk_size, tasks.size());</div>
<div class="line"><span class="lineno">  609</span>            for (size_t idx = start_idx; idx &lt; end_idx; ++idx) {</div>
<div class="line"><span class="lineno">  610</span>                process_node(tasks[idx]);</div>
<div class="line"><span class="lineno">  611</span>            }</div>
<div class="line"><span class="lineno">  612</span>        });</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>    <span class="keyword">auto</span> work = stdexec::starts_on(sched, bulk_sender);</div>
<div class="line"><span class="lineno">  615</span>    stdexec::sync_wait(std::move(work));</div>
<div class="line"><span class="lineno">  616</span>}</div>
<div class="ttc" id="aBucketUtils_8h_html_aa20416f5844808465090dd41979ead8e"><div class="ttname"><a href="BucketUtils_8h.html#aa20416f5844808465090dd41979ead8e">pool</a></div><div class="ttdeci">thread_local std::vector&lt; std::vector&lt; T &gt; &gt; ThreadLocalPool&lt; T &gt;::pool</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l00060">BucketUtils.h:60</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a42e016ec947d0a75ffa73ceab03207d7"><div class="ttname"><a href="#a42e016ec947d0a75ffa73ceab03207d7">BucketGraph::add_arc</a></div><div class="ttdeci">void add_arc(int from_bucket, int to_bucket, const std::vector&lt; double &gt; &amp;res_inc, double cost_inc)</div><div class="ttdoc">Represents a bucket in the Bucket Graph. Adds an arc to the bucket graph.</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l00073">BucketUtils.h:73</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a07a40f85014b0f13739e20d5d6dc547b_cgraph.png" border="0" usemap="#aclassBucketGraph_a07a40f85014b0f13739e20d5d6dc547b_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a07a40f85014b0f13739e20d5d6dc547b_cgraph" id="aclassBucketGraph_a07a40f85014b0f13739e20d5d6dc547b_cgraph">
<area shape="rect" title="Generates arcs in the bucket graph based on the specified direction." alt="" coords="5,169,191,195"/>
<area shape="rect" href="classBucketGraph.html#a42e016ec947d0a75ffa73ceab03207d7" title="Represents a bucket in the Bucket Graph. Adds an arc to the bucket graph." alt="" coords="239,5,388,31"/>
<area shape="poly" title=" " alt="" coords="107,167,159,107,196,72,237,41,248,35,251,40,240,46,199,76,163,111,111,170"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="243,55,384,96"/>
<area shape="poly" title=" " alt="" coords="121,167,237,105,247,100,250,105,240,110,124,171"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="246,120,380,146"/>
<area shape="poly" title=" " alt="" coords="157,166,238,147,240,152,158,171"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="259,169,368,195"/>
<area shape="poly" title=" " alt="" coords="191,180,244,180,244,185,191,185"/>
<area shape="rect" href="namespacenumericutils.html#a8d554fdb4468068ab99dc7a219308492" title=" " alt="" coords="256,219,371,244"/>
<area shape="poly" title=" " alt="" coords="158,193,241,212,240,218,157,198"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="261,268,366,294"/>
<area shape="poly" title=" " alt="" coords="123,193,175,223,240,254,253,260,251,265,238,259,173,228,120,198"/>
<area shape="rect" href="namespacenumericutils.html#afa1d31c5f18a361509ba1faacca5feb4" title=" " alt="" coords="258,317,369,343"/>
<area shape="poly" title=" " alt="" coords="113,193,164,247,201,277,240,304,249,308,246,313,237,308,197,281,161,250,109,197"/>
</map>
</div>

</div>
</div>
<a id="ab7738ed00c7b51fb6787762b6b47133e" name="ab7738ed00c7b51fb6787762b6b47133e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7738ed00c7b51fb6787762b6b47133e">&#9670;&#160;</a></span>get_adjacency_list()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a936c0260cd027c71e69c8f8003a45f30">AdjList</a> BucketGraph::get_adjacency_list </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01304">1304</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1304</span>                                 {</div>
<div class="line"><span class="lineno"> 1305</span>        <a class="code hl_typedef" href="#a936c0260cd027c71e69c8f8003a45f30">AdjList</a> adjacency_list;</div>
<div class="line"><span class="lineno"> 1306</span> </div>
<div class="line"><span class="lineno"> 1307</span>        <span class="comment">// Iterate through all nodes in the graph</span></div>
<div class="line"><span class="lineno"> 1308</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;node : nodes) {</div>
<div class="line"><span class="lineno"> 1309</span>            std::vector&lt;std::tuple&lt;int, double, int&gt;&gt; arcs;</div>
<div class="line"><span class="lineno"> 1310</span> </div>
<div class="line"><span class="lineno"> 1311</span>            <span class="comment">// Retrieve all arcs associated with the current node</span></div>
<div class="line"><span class="lineno"> 1312</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;arc : node.get_arcs&lt;<a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>&gt;()) {</div>
<div class="line"><span class="lineno"> 1313</span>                <span class="keywordtype">int</span> to_node = arc.to;</div>
<div class="line"><span class="lineno"> 1314</span>                <span class="keywordtype">double</span> cost = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(node.id, to_node) - nodes[to_node].cost;</div>
<div class="line"><span class="lineno"> 1315</span>                <span class="keywordtype">int</span> capacity = 1;</div>
<div class="line"><span class="lineno"> 1316</span> </div>
<div class="line"><span class="lineno"> 1317</span>                <span class="comment">// Only add arcs with non-zero capacity</span></div>
<div class="line"><span class="lineno"> 1318</span>                <span class="keywordflow">if</span> (capacity &gt; 0) {</div>
<div class="line"><span class="lineno"> 1319</span>                    arcs.emplace_back(to_node, cost, capacity);</div>
<div class="line"><span class="lineno"> 1320</span>                }</div>
<div class="line"><span class="lineno"> 1321</span>            }</div>
<div class="line"><span class="lineno"> 1322</span> </div>
<div class="line"><span class="lineno"> 1323</span>            <span class="comment">// Add the node&#39;s arcs to the adjacency list if it has</span></div>
<div class="line"><span class="lineno"> 1324</span>            <span class="comment">// any outgoing edges</span></div>
<div class="line"><span class="lineno"> 1325</span>            <span class="keywordflow">if</span> (!arcs.empty()) {</div>
<div class="line"><span class="lineno"> 1326</span>                adjacency_list[node.id] = arcs;</div>
<div class="line"><span class="lineno"> 1327</span>            }</div>
<div class="line"><span class="lineno"> 1328</span>        }</div>
<div class="line"><span class="lineno"> 1329</span> </div>
<div class="line"><span class="lineno"> 1330</span>        <span class="keywordflow">return</span> adjacency_list;</div>
<div class="line"><span class="lineno"> 1331</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_a936c0260cd027c71e69c8f8003a45f30"><div class="ttname"><a href="#a936c0260cd027c71e69c8f8003a45f30">BucketGraph::AdjList</a></div><div class="ttdeci">std::unordered_map&lt; int, std::vector&lt; std::tuple&lt; int, double, int &gt; &gt; &gt; AdjList</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l01300">BucketGraph.h:1300</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_ab7738ed00c7b51fb6787762b6b47133e_cgraph.png" border="0" usemap="#aclassBucketGraph_ab7738ed00c7b51fb6787762b6b47133e_cgraph" alt=""/></div>
<map name="aclassBucketGraph_ab7738ed00c7b51fb6787762b6b47133e_cgraph" id="aclassBucketGraph_ab7738ed00c7b51fb6787762b6b47133e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,216,31"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="264,5,398,31"/>
<area shape="poly" title=" " alt="" coords="216,16,248,16,248,21,216,21"/>
</map>
</div>

</div>
</div>
<a id="abc324fb45e794482eb642adb8b0f664d" name="abc324fb45e794482eb642adb8b0f664d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc324fb45e794482eb642adb8b0f664d">&#9670;&#160;</a></span>get_best_label()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLabel.html">Label</a> * BucketGraph::get_best_label </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>topological_order</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>c_bar</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>sccs</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the best label from the bucket graph based on the given topological order, c_bar values, and strongly connected components. </p>
<p>This function iterates through the given topological order and for each component, it retrieves the labels from the corresponding buckets in the bucket graph. It then compares the cost of each label and keeps track of the label with the lowest cost. The best label, along with its associated bucket, is returned. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l00630">630</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  632</span>                                                                          {</div>
<div class="line"><span class="lineno">  633</span>    <span class="keywordtype">double</span> best_cost = std::numeric_limits&lt;double&gt;::infinity();</div>
<div class="line"><span class="lineno">  634</span>    Label *best_label = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  635</span>    <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>    <span class="comment">// Iterate over all buckets, and select the label with the lowest cost.</span></div>
<div class="line"><span class="lineno">  638</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;bucket : buckets) {</div>
<div class="line"><span class="lineno">  639</span>        Label *label = bucket.get_best_label();</div>
<div class="line"><span class="lineno">  640</span>        <span class="keywordflow">if</span> (!label) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  641</span>        <span class="keywordflow">if</span> (label-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a> &lt; best_cost) {</div>
<div class="line"><span class="lineno">  642</span>            best_cost = label-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a>;</div>
<div class="line"><span class="lineno">  643</span>            best_label = label;</div>
<div class="line"><span class="lineno">  644</span>        }</div>
<div class="line"><span class="lineno">  645</span>    }</div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">return</span> best_label;</div>
<div class="line"><span class="lineno">  647</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_abc324fb45e794482eb642adb8b0f664d_cgraph.png" border="0" usemap="#aclassBucketGraph_abc324fb45e794482eb642adb8b0f664d_cgraph" alt=""/></div>
<map name="aclassBucketGraph_abc324fb45e794482eb642adb8b0f664d_cgraph" id="aclassBucketGraph_abc324fb45e794482eb642adb8b0f664d_cgraph">
<area shape="rect" title="Retrieves the best label from the bucket graph based on the given topological order,..." alt="" coords="5,5,159,46"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="207,5,348,46"/>
<area shape="poly" title=" " alt="" coords="159,23,191,23,191,28,159,28"/>
</map>
</div>

</div>
</div>
<a id="abb791c45d27a9425607480e3101f7d28" name="abb791c45d27a9425607480e3101f7d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb791c45d27a9425607480e3101f7d28">&#9670;&#160;</a></span>get_bucket_number()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::get_bucket_number </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>node</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>values</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l00086">86</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>                                                               {</div>
<div class="line"><span class="lineno">   88</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_resources = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size();</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    <span class="comment">// Optionally adjust resource values (uncomment if you need epsilon</span></div>
<div class="line"><span class="lineno">   93</span>    <span class="comment">// adjustments)</span></div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; num_resources; ++r) {</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">   96</span>            <span class="comment">// resource_values_vec[r] += numericutils::eps;</span></div>
<div class="line"><span class="lineno">   97</span>        } <span class="keywordflow">else</span> {  <span class="comment">// Direction::Backward</span></div>
<div class="line"><span class="lineno">   98</span>            <span class="comment">// resource_values_vec[r] -= numericutils::eps;</span></div>
<div class="line"><span class="lineno">   99</span>        }</div>
<div class="line"><span class="lineno">  100</span>    }</div>
<div class="line"><span class="lineno">  101</span>    <span class="keyword">auto</span> &amp;num_buckets_index =</div>
<div class="line"><span class="lineno">  102</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a>, <a class="code hl_variable" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a>);</div>
<div class="line"><span class="lineno">  103</span>    <span class="comment">// Start with the offset for this node’s buckets.</span></div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordtype">int</span> bucket_number = num_buckets_index[node];</div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordtype">int</span> multiplier = 1;</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; num_resources; ++r) {</div>
<div class="line"><span class="lineno">  108</span>        <span class="comment">// Node-specific resource bounds.</span></div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordtype">double</span> node_lb = nodes[node].lb[r];</div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordtype">double</span> node_ub = nodes[node].ub[r];</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>        <span class="comment">// Global bounds (if needed for computing splits).</span></div>
<div class="line"><span class="lineno">  113</span>        <span class="keywordtype">double</span> global_lb = <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[r];</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordtype">double</span> global_ub = <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[r];</div>
<div class="line"><span class="lineno">  115</span>        <span class="keywordtype">double</span> full_range = global_ub - global_lb;</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordtype">double</span> node_range = node_ub - node_lb;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>        <span class="comment">// Determine the number of splits (i.e. intervals) for resource r.</span></div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordtype">int</span> splits =</div>
<div class="line"><span class="lineno">  120</span>            std::max(1, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::round((node_range / full_range) *</div>
<div class="line"><span class="lineno">  121</span>                                                    intervals[r].interval)));</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordtype">double</span> interval_width = node_range / splits;</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordtype">int</span> pos = 0;</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  126</span>            <span class="comment">// Compute the bucket &quot;digit&quot; from the lower bound.</span></div>
<div class="line"><span class="lineno">  127</span>            pos = std::min(</div>
<div class="line"><span class="lineno">  128</span>                splits - 1,</div>
<div class="line"><span class="lineno">  129</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor((resource_values_vec[r] - node_lb) /</div>
<div class="line"><span class="lineno">  130</span>                                            interval_width)));</div>
<div class="line"><span class="lineno">  131</span>        } <span class="keywordflow">else</span> {  <span class="comment">// Direction::Backward</span></div>
<div class="line"><span class="lineno">  132</span>            <span class="comment">// For backward, we consider the distance from the upper bound.</span></div>
<div class="line"><span class="lineno">  133</span>            pos = std::min(</div>
<div class="line"><span class="lineno">  134</span>                splits - 1,</div>
<div class="line"><span class="lineno">  135</span>                <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(std::floor((node_ub - resource_values_vec[r]) /</div>
<div class="line"><span class="lineno">  136</span>                                            interval_width)));</div>
<div class="line"><span class="lineno">  137</span>        }</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>        bucket_number += pos * multiplier;</div>
<div class="line"><span class="lineno">  140</span>        multiplier *= splits;</div>
<div class="line"><span class="lineno">  141</span>    }</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    <span class="comment">// check if buckets[bucket_number] contains the resource_vec</span></div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">if</span> (unlikely(!buckets[bucket_number].contains(resource_values_vec))) {</div>
<div class="line"><span class="lineno">  145</span>        <span class="comment">// print resource_values_vec</span></div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> val : resource_values_vec) {</div>
<div class="line"><span class="lineno">  147</span>            fmt::print(<span class="stringliteral">&quot;{}\n&quot;</span>, val);</div>
<div class="line"><span class="lineno">  148</span>        }</div>
<div class="line"><span class="lineno">  149</span>        <span class="comment">// print bucket bounds</span></div>
<div class="line"><span class="lineno">  150</span>        fmt::print(<span class="stringliteral">&quot;{}\n&quot;</span>, buckets[bucket_number].lb[0]);</div>
<div class="line"><span class="lineno">  151</span>        fmt::print(<span class="stringliteral">&quot;{}\n&quot;</span>, buckets[bucket_number].ub[0]);</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>        std::throw_with_nested(</div>
<div class="line"><span class="lineno">  154</span>            std::runtime_error(<span class="stringliteral">&quot;Resource values not contained in bucket&quot;</span>));</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  156</span>    }</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">return</span> bucket_number;</div>
<div class="line"><span class="lineno">  159</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_abb791c45d27a9425607480e3101f7d28_cgraph.png" border="0" usemap="#aclassBucketGraph_abb791c45d27a9425607480e3101f7d28_cgraph" alt=""/></div>
<map name="aclassBucketGraph_abb791c45d27a9425607480e3101f7d28_cgraph" id="aclassBucketGraph_abb791c45d27a9425607480e3101f7d28_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,173,46"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="221,5,362,46"/>
<area shape="poly" title=" " alt="" coords="173,23,205,23,205,28,173,28"/>
</map>
</div>

</div>
</div>
<a id="a969616f31655bd99cbb35c1c863d1ef4" name="a969616f31655bd99cbb35c1c863d1ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a969616f31655bd99cbb35c1c863d1ef4">&#9670;&#160;</a></span>get_neighborhood_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t BucketGraph::get_neighborhood_size </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01139">1139</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1139</span>                                                 {</div>
<div class="line"><span class="lineno"> 1140</span>        <span class="keywordflow">if</span> (i &gt;= <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>.size()) <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1141</span> </div>
<div class="line"><span class="lineno"> 1142</span>        <span class="keywordtype">size_t</span> count = 0;</div>
<div class="line"><span class="lineno"> 1143</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;segment : <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[i]) {</div>
<div class="line"><span class="lineno"> 1144</span>            count += __builtin_popcountll(segment);  <span class="comment">// Count set bits</span></div>
<div class="line"><span class="lineno"> 1145</span>        }</div>
<div class="line"><span class="lineno"> 1146</span>        <span class="keywordflow">return</span> count;</div>
<div class="line"><span class="lineno"> 1147</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4221aa973f92048f0518fd307f7e4ad0" name="a4221aa973f92048f0518fd307f7e4ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4221aa973f92048f0518fd307f7e4ad0">&#9670;&#160;</a></span>get_neighbors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; size_t &gt; BucketGraph::get_neighbors </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01150">1150</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1150</span>                                                    {</div>
<div class="line"><span class="lineno"> 1151</span>        std::vector&lt;size_t&gt; neighbors;</div>
<div class="line"><span class="lineno"> 1152</span>        <span class="keywordflow">if</span> (i &gt;= <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>.size()) <span class="keywordflow">return</span> neighbors;</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>        <span class="keywordtype">size_t</span> num_nodes = nodes.size();</div>
<div class="line"><span class="lineno"> 1155</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; num_nodes; ++j) {</div>
<div class="line"><span class="lineno"> 1156</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="#a47765e452c071946b8669f7ee4e231d4">is_in_neighborhood</a>(i, j)) {</div>
<div class="line"><span class="lineno"> 1157</span>                neighbors.push_back(j);</div>
<div class="line"><span class="lineno"> 1158</span>            }</div>
<div class="line"><span class="lineno"> 1159</span>        }</div>
<div class="line"><span class="lineno"> 1160</span>        <span class="keywordflow">return</span> neighbors;</div>
<div class="line"><span class="lineno"> 1161</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_a47765e452c071946b8669f7ee4e231d4"><div class="ttname"><a href="#a47765e452c071946b8669f7ee4e231d4">BucketGraph::is_in_neighborhood</a></div><div class="ttdeci">bool is_in_neighborhood(size_t i, size_t j) const</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l01127">BucketGraph.h:1127</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a4221aa973f92048f0518fd307f7e4ad0_cgraph.png" border="0" usemap="#aclassBucketGraph_a4221aa973f92048f0518fd307f7e4ad0_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a4221aa973f92048f0518fd307f7e4ad0_cgraph" id="aclassBucketGraph_a4221aa973f92048f0518fd307f7e4ad0_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,190,38"/>
<area shape="rect" href="classBucketGraph.html#a47765e452c071946b8669f7ee4e231d4" title=" " alt="" coords="238,5,368,46"/>
<area shape="poly" title=" " alt="" coords="190,23,222,23,222,28,190,28"/>
</map>
</div>

</div>
</div>
<a id="a07082dcbaab12cbea07fbe16acee9bcf" name="a07082dcbaab12cbea07fbe16acee9bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07082dcbaab12cbea07fbe16acee9bcf">&#9670;&#160;</a></span>get_opposite_bucket_number()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::get_opposite_bucket_number </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>current_bucket_index</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>inc</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the opposite bucket number for a given bucket index. </p>
<p>This function retrieves the opposite bucket number based on the current bucket index and the specified direction. It determines the node and bounds of the current bucket, then calculates the opposite bucket index using the appropriate direction. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l01021">1021</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1022</span>                                                                    {</div>
<div class="line"><span class="lineno"> 1023</span>    <span class="comment">// Retrieve the current bucket based on the current direction.</span></div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;current_bucket = (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>)</div>
<div class="line"><span class="lineno"> 1025</span>                                     ? <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>[current_bucket_index]</div>
<div class="line"><span class="lineno"> 1026</span>                                     : <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>[current_bucket_index];</div>
<div class="line"><span class="lineno"> 1027</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> node = current_bucket.node_id;</div>
<div class="line"><span class="lineno"> 1028</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;theNode = nodes[node];</div>
<div class="line"><span class="lineno"> 1029</span> </div>
<div class="line"><span class="lineno"> 1030</span>    <span class="comment">// Pre-compute the reference point for the given node using the main</span></div>
<div class="line"><span class="lineno"> 1031</span>    <span class="comment">// resources.</span></div>
<div class="line"><span class="lineno"> 1032</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_resources = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size();</div>
<div class="line"><span class="lineno"> 1033</span>    <span class="comment">// Optionally, add an assertion or check that inc has the expected size.</span></div>
<div class="line"><span class="lineno"> 1034</span>    assert(inc.size() == num_resources &amp;&amp; theNode.lb.size() == num_resources &amp;&amp;</div>
<div class="line"><span class="lineno"> 1035</span>           theNode.ub.size() == num_resources);</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>    std::vector&lt;double&gt; reference_point(num_resources);</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno"> 1040</span>        <span class="comment">// For Forward direction:</span></div>
<div class="line"><span class="lineno"> 1041</span>        <span class="comment">// Use the maximum of inc and the node&#39;s lower bounds.</span></div>
<div class="line"><span class="lineno"> 1042</span>        <span class="comment">// This ensures we do not fall below the allowed lower bound.</span></div>
<div class="line"><span class="lineno"> 1043</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_resources; ++i) {</div>
<div class="line"><span class="lineno"> 1044</span>            reference_point[i] = std::max(inc[i], theNode.lb[i]);</div>
<div class="line"><span class="lineno"> 1045</span>            <span class="comment">// Optionally, adjust with epsilon if needed:</span></div>
<div class="line"><span class="lineno"> 1046</span>            <span class="comment">// reference_point[i] += numericutils::eps;</span></div>
<div class="line"><span class="lineno"> 1047</span>        }</div>
<div class="line"><span class="lineno"> 1048</span>        <span class="comment">// Get the opposite bucket using the Backward tree.</span></div>
<div class="line"><span class="lineno"> 1049</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#abb791c45d27a9425607480e3101f7d28">get_bucket_number&lt;Direction::Backward&gt;</a>(node, reference_point);</div>
<div class="line"><span class="lineno"> 1050</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1051</span>        <span class="comment">// For Backward direction:</span></div>
<div class="line"><span class="lineno"> 1052</span>        <span class="comment">// Use the minimum of inc and the node&#39;s upper bounds.</span></div>
<div class="line"><span class="lineno"> 1053</span>        <span class="comment">// This ensures we do not exceed the allowed upper bound.</span></div>
<div class="line"><span class="lineno"> 1054</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_resources; ++i) {</div>
<div class="line"><span class="lineno"> 1055</span>            reference_point[i] = std::min(inc[i], theNode.ub[i]);</div>
<div class="line"><span class="lineno"> 1056</span>            <span class="comment">// Optionally, adjust with epsilon if needed:</span></div>
<div class="line"><span class="lineno"> 1057</span>            <span class="comment">// reference_point[i] -= numericutils::eps;</span></div>
<div class="line"><span class="lineno"> 1058</span>        }</div>
<div class="line"><span class="lineno"> 1059</span>        <span class="comment">// Get the opposite bucket using the Forward tree.</span></div>
<div class="line"><span class="lineno"> 1060</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#abb791c45d27a9425607480e3101f7d28">get_bucket_number&lt;Direction::Forward&gt;</a>(node, reference_point);</div>
<div class="line"><span class="lineno"> 1061</span>    }</div>
<div class="line"><span class="lineno"> 1062</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a07082dcbaab12cbea07fbe16acee9bcf_cgraph.png" border="0" usemap="#aclassBucketGraph_a07082dcbaab12cbea07fbe16acee9bcf_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a07082dcbaab12cbea07fbe16acee9bcf_cgraph" id="aclassBucketGraph_a07082dcbaab12cbea07fbe16acee9bcf_cgraph">
<area shape="rect" title="Get the opposite bucket number for a given bucket index." alt="" coords="5,5,183,46"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="231,5,398,46"/>
<area shape="poly" title=" " alt="" coords="183,23,215,23,215,28,183,28"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="446,5,587,46"/>
<area shape="poly" title=" " alt="" coords="399,23,430,23,430,28,399,28"/>
</map>
</div>

</div>
</div>
<a id="af122bd2a719b0557ff2371addf5aa448" name="af122bd2a719b0557ff2371addf5aa448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af122bd2a719b0557ff2371addf5aa448">&#9670;&#160;</a></span>get_static_bucket_number()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::get_static_bucket_number </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>node</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>resource_values_vec</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01031">1031</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1032</span>                                                                   {</div>
<div class="line"><span class="lineno"> 1033</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_resources = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size();</div>
<div class="line"><span class="lineno"> 1034</span> </div>
<div class="line"><span class="lineno"> 1035</span>        <span class="comment">// Optionally adjust resource values (epsilon adjustments can be enabled</span></div>
<div class="line"><span class="lineno"> 1036</span>        <span class="comment">// here)</span></div>
<div class="line"><span class="lineno"> 1037</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; num_resources; ++r) {</div>
<div class="line"><span class="lineno"> 1038</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno"> 1039</span>                <span class="comment">// resource_values_vec[r] += numericutils::eps; // Uncomment if</span></div>
<div class="line"><span class="lineno"> 1040</span>                <span class="comment">// needed.</span></div>
<div class="line"><span class="lineno"> 1041</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1042</span>                <span class="comment">// resource_values_vec[r] -= numericutils::eps; // Uncomment if</span></div>
<div class="line"><span class="lineno"> 1043</span>                <span class="comment">// needed.</span></div>
<div class="line"><span class="lineno"> 1044</span>            }</div>
<div class="line"><span class="lineno"> 1045</span>        }</div>
<div class="line"><span class="lineno"> 1046</span> </div>
<div class="line"><span class="lineno"> 1047</span>        <span class="comment">// Query the appropriate node interval tree based on direction.</span></div>
<div class="line"><span class="lineno"> 1048</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno"> 1049</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="#a1dda85f087bb1fc1ec387c1010c6b8e0">fw_node_interval_trees</a>[node].queryStatic(</div>
<div class="line"><span class="lineno"> 1050</span>                resource_values_vec);</div>
<div class="line"><span class="lineno"> 1051</span>        } <span class="keywordflow">else</span> {  <span class="comment">// Direction::Backward</span></div>
<div class="line"><span class="lineno"> 1052</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="#a9cac4e84e8eb32f15e9f5516ded673b1">bw_node_interval_trees</a>[node].queryStatic(</div>
<div class="line"><span class="lineno"> 1053</span>                resource_values_vec);</div>
<div class="line"><span class="lineno"> 1054</span>        }</div>
<div class="line"><span class="lineno"> 1055</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad15267e0cffaa8dc5222028409c9e082" name="ad15267e0cffaa8dc5222028409c9e082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad15267e0cffaa8dc5222028409c9e082">&#9670;&#160;</a></span>getcij()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double BucketGraph::getcij </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00526">526</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  526</span>                                             {</div>
<div class="line"><span class="lineno">  527</span>        <span class="comment">// if (i == options.end_depot) { i = options.depot; }</span></div>
<div class="line"><span class="lineno">  528</span>        <span class="comment">// if (j == options.end_depot) { j = options.depot; }</span></div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">distance_matrix</a>[i][j];</div>
<div class="line"><span class="lineno">  530</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_a2f8ba4399d8ff94a6e29b27e84dfa58e"><div class="ttname"><a href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">BucketGraph::distance_matrix</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; double &gt; &gt; distance_matrix</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00370">BucketGraph.h:370</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a32da6366cb0593f095b3e74c5dd545e9" name="a32da6366cb0593f095b3e74c5dd545e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32da6366cb0593f095b3e74c5dd545e9">&#9670;&#160;</a></span>getNodes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structVRPNode.html">VRPNode</a> &gt; BucketGraph::getNodes </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00532">532</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  532</span>{ <span class="keywordflow">return</span> nodes; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d5f2f83ae5e3849e002e335b749f59f" name="a9d5f2f83ae5e3849e002e335b749f59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5f2f83ae5e3849e002e335b749f59f">&#9670;&#160;</a></span>getStage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::getStage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00518">518</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  518</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#ac9f682a4f77f436707be4b3726009ef8">stage</a>; }</div>
<div class="ttc" id="aclassBucketGraph_html_ac9f682a4f77f436707be4b3726009ef8"><div class="ttname"><a href="#ac9f682a4f77f436707be4b3726009ef8">BucketGraph::stage</a></div><div class="ttdeci">int stage</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00246">BucketGraph.h:246</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aba744326ee9d94a097b5a60775c5822a" name="aba744326ee9d94a097b5a60775c5822a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba744326ee9d94a097b5a60775c5822a">&#9670;&#160;</a></span>getStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70b">Status</a> BucketGraph::getStatus </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00519">519</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  519</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a>; }</div>
<div class="ttc" id="aclassBucketGraph_html_a5929b489cdfe15a32c1e72e1e09f461b"><div class="ttname"><a href="#a5929b489cdfe15a32c1e72e1e09f461b">BucketGraph::status</a></div><div class="ttdeci">Status status</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00250">BucketGraph.h:250</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a06036b30388d0f91c677340bff2c6b6a" name="a06036b30388d0f91c677340bff2c6b6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06036b30388d0f91c677340bff2c6b6a">&#9670;&#160;</a></span>heuristic_fixing()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::heuristic_fixing </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Applies heuristic fixing to the current solution. </p>
<p>This function modifies the current solution based on the heuristic fixing strategy using the provided vector of values. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l01143">1143</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1143</span>                                   {</div>
<div class="line"><span class="lineno"> 1144</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a0febdc3971ad6124d3c7cf689048bc4e">fixed</a>) {</div>
<div class="line"><span class="lineno"> 1145</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1146</span>    }</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>    <span class="comment">// Reset and initialize state.</span></div>
<div class="line"><span class="lineno"> 1149</span>    <a class="code hl_function" href="#a3e1492bb1589d5edb06e80a753d000dd">reset_pool</a>();</div>
<div class="line"><span class="lineno"> 1150</span>    <a class="code hl_function" href="#a2379392ccc37be9a4a27800b116465d2">reset_fixed</a>();</div>
<div class="line"><span class="lineno"> 1151</span>    <a class="code hl_function" href="#a8b934dd825af2c3536269ac190b398b3">common_initialization</a>();</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>    <span class="comment">// Pre-allocate c-bar vectors with infinity.</span></div>
<div class="line"><span class="lineno"> 1154</span>    std::vector&lt;double&gt; forward_cbar(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.size(),</div>
<div class="line"><span class="lineno"> 1155</span>                                     std::numeric_limits&lt;double&gt;::infinity());</div>
<div class="line"><span class="lineno"> 1156</span>    std::vector&lt;double&gt; backward_cbar(<a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>.size(),</div>
<div class="line"><span class="lineno"> 1157</span>                                      std::numeric_limits&lt;double&gt;::infinity());</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>    <a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a> = std::ceil(<a class="code hl_variable" href="#acde574f4709bc762b0548829aa37a766">incumbent</a> - (<a class="code hl_variable" href="#af227da41aee6febd9cb4d2c3ba1d1cc4">relaxation</a> + std::min(0.0, <a class="code hl_variable" href="#a0aff433ba355139b060e4f97ed90510e">min_red_cost</a>)));</div>
<div class="line"><span class="lineno"> 1160</span> </div>
<div class="line"><span class="lineno"> 1161</span>    <span class="comment">// Run the appropriate labeling algorithms based on stage</span></div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keywordflow">if</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604ebaca8a2087e5557e317599344687a57391">Stage::Three</a>) {</div>
<div class="line"><span class="lineno"> 1163</span>        <span class="comment">// Run the labeling algorithms for Stage::Two with Full::Partial mode.</span></div>
<div class="line"><span class="lineno"> 1164</span>        <a class="code hl_function" href="#a66484f0fb3c999584f77880b3dd54f7c">run_labeling_algorithms&lt;Stage::Two, Full::Partial&gt;</a>(forward_cbar,</div>
<div class="line"><span class="lineno"> 1165</span>                                                           backward_cbar);</div>
<div class="line"><span class="lineno"> 1166</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a>) {</div>
<div class="line"><span class="lineno"> 1167</span>        fmt::print(<span class="stringliteral">&quot;\033[34m_STARTING ARC FIXING PROCEDURE\033[0m\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1168</span>        fmt::print(<span class="stringliteral">&quot;gap: {}\n&quot;</span>, <a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a>);</div>
<div class="line"><span class="lineno"> 1169</span>        <span class="comment">// Run the labeling algorithms for Stage::Four with Full::Full mode.</span></div>
<div class="line"><span class="lineno"> 1170</span>        <a class="code hl_function" href="#a66484f0fb3c999584f77880b3dd54f7c">run_labeling_algorithms&lt;Stage::Four, Full::Full&gt;</a>(forward_cbar,</div>
<div class="line"><span class="lineno"> 1171</span>                                                         backward_cbar);</div>
<div class="line"><span class="lineno"> 1172</span>    }</div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>    <span class="comment">// Prepare containers for grouping labels by node.</span></div>
<div class="line"><span class="lineno"> 1175</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_nodes = nodes.size();</div>
<div class="line"><span class="lineno"> 1176</span> </div>
<div class="line"><span class="lineno"> 1177</span>    <span class="comment">// Preallocate vectors with nullptr to avoid resizing</span></div>
<div class="line"><span class="lineno"> 1178</span>    std::vector&lt;const Label *&gt; min_fw_labels(num_nodes, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1179</span>    std::vector&lt;const Label *&gt; min_bw_labels(num_nodes, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno"> 1180</span> </div>
<div class="line"><span class="lineno"> 1181</span>    <span class="comment">// Find minimum cost label for each node directly from buckets</span></div>
<div class="line"><span class="lineno"> 1182</span>    <span class="comment">// without creating intermediate label maps</span></div>
<div class="line"><span class="lineno"> 1183</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;bucket : <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>) {</div>
<div class="line"><span class="lineno"> 1184</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> Label *label : bucket.get_labels()) {</div>
<div class="line"><span class="lineno"> 1185</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> node_id = label-&gt;node_id;</div>
<div class="line"><span class="lineno"> 1186</span>            <span class="keywordflow">if</span> (!min_fw_labels[node_id] ||</div>
<div class="line"><span class="lineno"> 1187</span>                label-&gt;cost &lt; min_fw_labels[node_id]-&gt;cost) {</div>
<div class="line"><span class="lineno"> 1188</span>                min_fw_labels[node_id] = label;</div>
<div class="line"><span class="lineno"> 1189</span>            }</div>
<div class="line"><span class="lineno"> 1190</span>        }</div>
<div class="line"><span class="lineno"> 1191</span>    }</div>
<div class="line"><span class="lineno"> 1192</span> </div>
<div class="line"><span class="lineno"> 1193</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;bucket : <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>) {</div>
<div class="line"><span class="lineno"> 1194</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> Label *label : bucket.get_labels()) {</div>
<div class="line"><span class="lineno"> 1195</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> node_id = label-&gt;node_id;</div>
<div class="line"><span class="lineno"> 1196</span>            <span class="keywordflow">if</span> (!min_bw_labels[node_id] ||</div>
<div class="line"><span class="lineno"> 1197</span>                label-&gt;cost &lt; min_bw_labels[node_id]-&gt;cost) {</div>
<div class="line"><span class="lineno"> 1198</span>                min_bw_labels[node_id] = label;</div>
<div class="line"><span class="lineno"> 1199</span>            }</div>
<div class="line"><span class="lineno"> 1200</span>        }</div>
<div class="line"><span class="lineno"> 1201</span>    }</div>
<div class="line"><span class="lineno"> 1202</span> </div>
<div class="line"><span class="lineno"> 1203</span>    <span class="comment">// Pre-compute the index of the &quot;time&quot; resource.</span></div>
<div class="line"><span class="lineno"> 1204</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> time_index = std::distance(</div>
<div class="line"><span class="lineno"> 1205</span>        <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.begin(),</div>
<div class="line"><span class="lineno"> 1206</span>        std::find(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.begin(), <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.end(), <span class="stringliteral">&quot;time&quot;</span>));</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>    <span class="comment">// Precompute lookup tables for common values</span></div>
<div class="line"><span class="lineno"> 1209</span>    std::vector&lt;double&gt; fw_time_resources(num_nodes, 0.0);</div>
<div class="line"><span class="lineno"> 1210</span>    std::vector&lt;double&gt; bw_time_resources(num_nodes, 0.0);</div>
<div class="line"><span class="lineno"> 1211</span>    std::vector&lt;double&gt; fw_costs(num_nodes, 0.0);</div>
<div class="line"><span class="lineno"> 1212</span>    std::vector&lt;double&gt; bw_costs(num_nodes, 0.0);</div>
<div class="line"><span class="lineno"> 1213</span> </div>
<div class="line"><span class="lineno"> 1214</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_nodes; ++i) {</div>
<div class="line"><span class="lineno"> 1215</span>        <span class="keywordflow">if</span> (min_fw_labels[i]) {</div>
<div class="line"><span class="lineno"> 1216</span>            fw_time_resources[i] = min_fw_labels[i]-&gt;resources[time_index];</div>
<div class="line"><span class="lineno"> 1217</span>            fw_costs[i] = min_fw_labels[i]-&gt;cost;</div>
<div class="line"><span class="lineno"> 1218</span>        }</div>
<div class="line"><span class="lineno"> 1219</span>        <span class="keywordflow">if</span> (min_bw_labels[i]) {</div>
<div class="line"><span class="lineno"> 1220</span>            bw_time_resources[i] = min_bw_labels[i]-&gt;resources[time_index];</div>
<div class="line"><span class="lineno"> 1221</span>            bw_costs[i] = min_bw_labels[i]-&gt;cost;</div>
<div class="line"><span class="lineno"> 1222</span>        }</div>
<div class="line"><span class="lineno"> 1223</span>    }</div>
<div class="line"><span class="lineno"> 1224</span> </div>
<div class="line"><span class="lineno"> 1225</span>    <span class="comment">// Cache node data to avoid repeated lookups</span></div>
<div class="line"><span class="lineno"> 1226</span>    std::vector&lt;double&gt; node_durations(num_nodes);</div>
<div class="line"><span class="lineno"> 1227</span>    std::vector&lt;std::vector&lt;double&gt;&gt; node_consumptions(</div>
<div class="line"><span class="lineno"> 1228</span>        num_nodes, std::vector&lt;double&gt;(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size()));</div>
<div class="line"><span class="lineno"> 1229</span> </div>
<div class="line"><span class="lineno"> 1230</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_nodes; ++i) {</div>
<div class="line"><span class="lineno"> 1231</span>        <span class="keyword">const</span> VRPNode &amp;node = nodes[i];</div>
<div class="line"><span class="lineno"> 1232</span>        node_durations[i] = node.<a class="code hl_variable" href="structVRPNode.html#a95ef921434910a24ff716e32251a2613">duration</a>;</div>
<div class="line"><span class="lineno"> 1233</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(); ++r) {</div>
<div class="line"><span class="lineno"> 1234</span>            node_consumptions[i][r] = node.<a class="code hl_variable" href="structVRPNode.html#a9c7840a24952797c86482424e207666c">consumption</a>[r];</div>
<div class="line"><span class="lineno"> 1235</span>        }</div>
<div class="line"><span class="lineno"> 1236</span>    }</div>
<div class="line"><span class="lineno"> 1237</span> </div>
<div class="line"><span class="lineno"> 1238</span>    <span class="keywordtype">size_t</span> num_fixes = 0;</div>
<div class="line"><span class="lineno"> 1239</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> gap_threshold = <a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a>;  <span class="comment">// Cache this value</span></div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>    <span class="comment">// Build a list of candidate node pairs to check</span></div>
<div class="line"><span class="lineno"> 1242</span>    <span class="keyword">struct </span>NodePair {</div>
<div class="line"><span class="lineno"> 1243</span>        <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno"> 1244</span>        <span class="keywordtype">size_t</span> j;</div>
<div class="line"><span class="lineno"> 1245</span>    };</div>
<div class="line"><span class="lineno"> 1246</span> </div>
<div class="line"><span class="lineno"> 1247</span>    std::vector&lt;NodePair&gt; candidate_pairs;</div>
<div class="line"><span class="lineno"> 1248</span>    candidate_pairs.reserve(num_nodes * num_nodes /</div>
<div class="line"><span class="lineno"> 1249</span>                            4);  <span class="comment">// Estimate: 25% of pairs will be candidates</span></div>
<div class="line"><span class="lineno"> 1250</span> </div>
<div class="line"><span class="lineno"> 1251</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; num_nodes; ++i) {</div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">if</span> (!min_fw_labels[i]) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; num_nodes; ++j) {</div>
<div class="line"><span class="lineno"> 1255</span>            <span class="keywordflow">if</span> (i == j || !min_bw_labels[j]) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1256</span>            candidate_pairs.push_back({i, j});</div>
<div class="line"><span class="lineno"> 1257</span>        }</div>
<div class="line"><span class="lineno"> 1258</span>    }</div>
<div class="line"><span class="lineno"> 1259</span> </div>
<div class="line"><span class="lineno"> 1260</span>    <span class="comment">// Process candidate pairs in batches to improve cache locality</span></div>
<div class="line"><span class="lineno"> 1261</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> BATCH_SIZE = 256;</div>
<div class="line"><span class="lineno"> 1262</span>    std::vector&lt;std::pair&lt;size_t, size_t&gt;&gt; arcs_to_fix;</div>
<div class="line"><span class="lineno"> 1263</span>    arcs_to_fix.reserve(BATCH_SIZE);</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> start = 0; start &lt; candidate_pairs.size();</div>
<div class="line"><span class="lineno"> 1266</span>         start += BATCH_SIZE) {</div>
<div class="line"><span class="lineno"> 1267</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> end = std::min(start + BATCH_SIZE, candidate_pairs.size());</div>
<div class="line"><span class="lineno"> 1268</span>        arcs_to_fix.clear();</div>
<div class="line"><span class="lineno"> 1269</span> </div>
<div class="line"><span class="lineno"> 1270</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx = start; idx &lt; end; ++idx) {</div>
<div class="line"><span class="lineno"> 1271</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;pair = candidate_pairs[idx];</div>
<div class="line"><span class="lineno"> 1272</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> i = pair.i;</div>
<div class="line"><span class="lineno"> 1273</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> j = pair.j;</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> cost =</div>
<div class="line"><span class="lineno"> 1276</span>                <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(min_fw_labels[i]-&gt;node_id, min_bw_labels[j]-&gt;node_id);</div>
<div class="line"><span class="lineno"> 1277</span> </div>
<div class="line"><span class="lineno"> 1278</span>            <span class="comment">// Early rejection using precomputed time resources (often most</span></div>
<div class="line"><span class="lineno"> 1279</span>            <span class="comment">// restrictive)</span></div>
<div class="line"><span class="lineno"> 1280</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources[time_index] == <span class="stringliteral">&quot;time&quot;</span>) {</div>
<div class="line"><span class="lineno"> 1281</span>                <span class="keywordflow">if</span> (fw_time_resources[i] + cost +</div>
<div class="line"><span class="lineno"> 1282</span>                        node_durations[min_fw_labels[i]-&gt;node_id] &gt;</div>
<div class="line"><span class="lineno"> 1283</span>                    bw_time_resources[j]) {</div>
<div class="line"><span class="lineno"> 1284</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1285</span>                }</div>
<div class="line"><span class="lineno"> 1286</span>            }</div>
<div class="line"><span class="lineno"> 1287</span> </div>
<div class="line"><span class="lineno"> 1288</span>            <span class="comment">// Check all other resources</span></div>
<div class="line"><span class="lineno"> 1289</span>            <span class="keywordtype">bool</span> violated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1290</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> fw_node_id = min_fw_labels[i]-&gt;node_id;</div>
<div class="line"><span class="lineno"> 1291</span> </div>
<div class="line"><span class="lineno"> 1292</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(); ++r) {</div>
<div class="line"><span class="lineno"> 1293</span>                <span class="keywordflow">if</span> (r != time_index) {</div>
<div class="line"><span class="lineno"> 1294</span>                    <span class="keywordflow">if</span> (min_fw_labels[i]-&gt;resources[r] +</div>
<div class="line"><span class="lineno"> 1295</span>                            node_consumptions[fw_node_id][r] &gt;</div>
<div class="line"><span class="lineno"> 1296</span>                        min_bw_labels[j]-&gt;resources[r]) {</div>
<div class="line"><span class="lineno"> 1297</span>                        violated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1298</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1299</span>                    }</div>
<div class="line"><span class="lineno"> 1300</span>                }</div>
<div class="line"><span class="lineno"> 1301</span>            }</div>
<div class="line"><span class="lineno"> 1302</span> </div>
<div class="line"><span class="lineno"> 1303</span>            <span class="comment">// If all resource constraints are satisfied and the cost exceeds</span></div>
<div class="line"><span class="lineno"> 1304</span>            <span class="comment">// the gap, fix the arc</span></div>
<div class="line"><span class="lineno"> 1305</span>            <span class="keywordflow">if</span> (!violated &amp;&amp;</div>
<div class="line"><span class="lineno"> 1306</span>                (fw_costs[i] + cost + bw_costs[j] &gt; gap_threshold)) {</div>
<div class="line"><span class="lineno"> 1307</span>                arcs_to_fix.emplace_back(i, j);</div>
<div class="line"><span class="lineno"> 1308</span>                ++num_fixes;</div>
<div class="line"><span class="lineno"> 1309</span>            }</div>
<div class="line"><span class="lineno"> 1310</span>        }</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>        <span class="comment">// Fix arcs in batch</span></div>
<div class="line"><span class="lineno"> 1313</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[i, j] : arcs_to_fix) {</div>
<div class="line"><span class="lineno"> 1314</span>            <a class="code hl_function" href="#a8abd2e954b1f55ea9d1da79f4df33244">fix_arc</a>(i, j);</div>
<div class="line"><span class="lineno"> 1315</span>        }</div>
<div class="line"><span class="lineno"> 1316</span>    }</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>    <span class="keywordflow">if</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a>) {</div>
<div class="line"><span class="lineno"> 1319</span>        fmt::print(<span class="stringliteral">&quot;Applied {} arc fixes\n&quot;</span>, num_fixes);</div>
<div class="line"><span class="lineno"> 1320</span>        fmt::print(<span class="stringliteral">&quot;\033[34m_ARC FIXING PROCEDURE FINISHED\033[0m\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1321</span>    }</div>
<div class="line"><span class="lineno"> 1322</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a8abd2e954b1f55ea9d1da79f4df33244"><div class="ttname"><a href="#a8abd2e954b1f55ea9d1da79f4df33244">BucketGraph::fix_arc</a></div><div class="ttdeci">bool fix_arc(int from, int to) noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00319">BucketGraph.h:319</a></div></div>
<div class="ttc" id="astructVRPNode_html_a95ef921434910a24ff716e32251a2613"><div class="ttname"><a href="structVRPNode.html#a95ef921434910a24ff716e32251a2613">VRPNode::duration</a></div><div class="ttdeci">double duration</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00033">VRPNode.h:33</a></div></div>
<div class="ttc" id="astructVRPNode_html_a9c7840a24952797c86482424e207666c"><div class="ttname"><a href="structVRPNode.html#a9c7840a24952797c86482424e207666c">VRPNode::consumption</a></div><div class="ttdeci">std::vector&lt; double &gt; consumption</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00060">VRPNode.h:60</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a06036b30388d0f91c677340bff2c6b6a_cgraph.png" border="0" usemap="#aclassBucketGraph_a06036b30388d0f91c677340bff2c6b6a_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a06036b30388d0f91c677340bff2c6b6a_cgraph" id="aclassBucketGraph_a06036b30388d0f91c677340bff2c6b6a_cgraph">
<area shape="rect" title="Applies heuristic fixing to the current solution." alt="" coords="5,335,158,375"/>
<area shape="rect" href="classBucketGraph.html#a8b934dd825af2c3536269ac190b398b3" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="215,136,368,177"/>
<area shape="poly" title=" " alt="" coords="103,332,256,185,260,189,107,336"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="650,255,785,281"/>
<area shape="poly" title=" " alt="" coords="114,332,156,309,205,291,320,269,437,259,546,257,635,259,635,265,546,262,437,264,321,274,206,296,158,314,116,336"/>
<area shape="rect" href="classBucketGraph.html#a8abd2e954b1f55ea9d1da79f4df33244" title=" " alt="" coords="222,370,362,396"/>
<area shape="poly" title=" " alt="" coords="158,362,206,369,206,374,157,368"/>
<area shape="rect" href="classBucketGraph.html#a2379392ccc37be9a4a27800b116465d2" title="Resets all fixed arcs in the graph." alt="" coords="226,420,358,461"/>
<area shape="poly" title=" " alt="" coords="130,373,207,406,221,411,219,416,205,411,128,378"/>
<area shape="rect" href="classBucketGraph.html#a3e1492bb1589d5edb06e80a753d000dd" title="Resets the forward and backward label pools." alt="" coords="210,485,374,510"/>
<area shape="poly" title=" " alt="" coords="101,374,146,422,175,448,207,470,219,476,217,481,204,474,172,452,142,426,97,378"/>
<area shape="rect" href="classBucketGraph.html#a66484f0fb3c999584f77880b3dd54f7c" title="Runs forward and backward labeling algorithms in parallel and synchronizes the results." alt="" coords="206,305,378,346"/>
<area shape="poly" title=" " alt="" coords="157,342,189,337,190,342,158,347"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="856,248,997,289"/>
<area shape="poly" title=" " alt="" coords="322,133,409,81,469,52,534,27,604,9,675,3,710,5,744,11,777,22,809,38,834,56,855,79,887,131,909,185,921,232,916,233,903,187,882,133,850,82,830,60,806,42,775,27,743,16,709,10,675,8,605,15,536,32,471,57,412,86,324,138"/>
<area shape="rect" href="classBucketGraph.html#a820c42b7e4fbfb599cdde7550ba3a12e" title=" " alt="" coords="426,136,579,177"/>
<area shape="poly" title=" " alt="" coords="369,154,411,154,411,159,369,159"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="639,52,796,93"/>
<area shape="poly" title=" " alt="" coords="368,135,425,122,624,85,625,90,427,127,369,140"/>
<area shape="rect" href="classBucketGraph.html#abc324fb45e794482eb642adb8b0f664d" title="Retrieves the best label from the bucket graph based on the given topological order,..." alt="" coords="641,305,794,346"/>
<area shape="poly" title=" " alt="" coords="343,175,628,291,644,297,642,302,626,296,341,180"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="634,191,801,231"/>
<area shape="poly" title=" " alt="" coords="581,173,621,184,620,189,579,178"/>
<area shape="poly" title=" " alt="" coords="550,175,581,194,605,219,614,230,629,241,641,247,639,252,626,245,611,234,601,222,578,198,547,179"/>
<area shape="rect" href="classArcDuals.html#ac75e53f0c4f24e6aca539c544e9f8109" title=" " alt="" coords="655,141,780,166"/>
<area shape="poly" title=" " alt="" coords="580,153,640,152,640,157,580,158"/>
<area shape="poly" title=" " alt="" coords="551,133,626,102,641,96,643,101,628,107,553,138"/>
<area shape="poly" title=" " alt="" coords="795,229,841,242,840,247,793,234"/>
<area shape="poly" title=" " alt="" coords="683,142,676,132,680,122,694,116,718,114,743,117,756,124,754,128,742,122,717,119,695,121,684,126,681,131,687,139"/>
<area shape="poly" title=" " alt="" coords="793,302,840,289,841,294,795,307"/>
<area shape="rect" href="classBucketGraph.html#aa05e883574a58a277e1dbf8cfcdcde11" title=" " alt="" coords="429,420,576,461"/>
<area shape="poly" title=" " alt="" coords="355,344,379,355,424,381,463,408,460,412,421,385,377,360,353,349"/>
<area shape="poly" title=" " alt="" coords="576,419,807,355,852,328,890,297,894,301,855,332,809,360,578,424"/>
<area shape="poly" title=" " alt="" coords="534,417,626,362,650,350,652,355,629,367,537,422"/>
<area shape="rect" href="BucketAVX_8h.html#ae227f266495f4f4b7271522f58d49b41" title=" " alt="" coords="630,608,805,649"/>
<area shape="poly" title=" " alt="" coords="517,459,561,525,593,562,629,594,634,598,632,602,626,598,589,566,557,529,513,462"/>
<area shape="rect" href="classBucketGraph.html#a8349140e5144647cfc32a12c9834a16f" title=" " alt="" coords="629,420,806,461"/>
<area shape="poly" title=" " alt="" coords="576,438,613,438,613,443,576,443"/>
<area shape="rect" href="classBucketGraph.html#a469baec04539f3c8ae984f5558fbfc25" title=" " alt="" coords="627,509,808,534"/>
<area shape="poly" title=" " alt="" coords="560,459,668,500,666,505,558,464"/>
<area shape="rect" href="structLabel.html#a19a3474af3d3404369c0fe3cf1797ff2" title=" " alt="" coords="649,558,786,584"/>
<area shape="poly" title=" " alt="" coords="524,459,569,503,598,525,629,545,640,550,637,555,626,549,595,530,566,507,521,463"/>
<area shape="poly" title=" " alt="" coords="683,510,676,500,680,490,694,484,718,482,743,485,756,492,754,496,742,490,717,487,695,489,684,494,681,499,687,507"/>
</map>
</div>

</div>
</div>
<a id="a2394876fca68fed0a417eba0e73711e4" name="a2394876fca68fed0a417eba0e73711e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2394876fca68fed0a417eba0e73711e4">&#9670;&#160;</a></span>initInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::initInfo </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints the configuration information of the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>. </p>
<p>This function outputs the configuration details including resource size, number of clients, and maximum SRC cuts. It also conditionally prints whether RIH, RCC, and SRC are enabled or disabled based on the preprocessor directives.</p>
<p>The output format is as follows:</p>
<p>+-------------------------------&mdash;+ | CONFIGURATION INFO | +-------------------------------&mdash;+ Resources: &lt;R_SIZE&gt; Number of Clients: &lt;N_SIZE&gt; Maximum SRC cuts: &lt;MAX_SRC_CUTS&gt; RIH: &lt;enabled/disabled&gt; RCC: &lt;enabled/disabled&gt; SRC: &lt;enabled/disabled&gt; +-------------------------------&mdash;+ </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00988">988</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  988</span>                           {</div>
<div class="line"><span class="lineno">  989</span>    <span class="comment">// Print header</span></div>
<div class="line"><span class="lineno">  990</span>    fmt::print(<span class="stringliteral">&quot;\n+----------------------------------+\n&quot;</span>);</div>
<div class="line"><span class="lineno">  991</span>    fmt::print(<span class="stringliteral">&quot;|        CONFIGURATION INFO     |\n&quot;</span>);</div>
<div class="line"><span class="lineno">  992</span>    fmt::print(<span class="stringliteral">&quot;+----------------------------------+\n&quot;</span>);</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>    <span class="comment">// Print Resource size</span></div>
<div class="line"><span class="lineno">  995</span>    fmt::print(<span class="stringliteral">&quot;Resources: {}\n&quot;</span>, R_SIZE);</div>
<div class="line"><span class="lineno">  996</span>    fmt::print(<span class="stringliteral">&quot;Number of Clients: {}\n&quot;</span>, N_SIZE - 2);</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span>    <span class="comment">// Conditional configuration (RIH enabled/disabled)</span></div>
<div class="line"><span class="lineno">  999</span><span class="preprocessor">#ifdef RIH</span></div>
<div class="line"><span class="lineno"> 1000</span>    fmt::print(<span class="stringliteral">&quot;RIH: enabled\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1001</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1002</span>    fmt::print(<span class="stringliteral">&quot;RIH: disabled\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1003</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1004</span><span class="preprocessor">#ifdef RCC</span></div>
<div class="line"><span class="lineno"> 1005</span>    fmt::print(<span class="stringliteral">&quot;RCC: enabled\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1006</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1007</span>    fmt::print(<span class="stringliteral">&quot;RCC: disabled\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1008</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1009</span><span class="preprocessor">#ifdef SRC</span></div>
<div class="line"><span class="lineno"> 1010</span>    fmt::print(<span class="stringliteral">&quot;SRC: enabled\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1011</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1012</span>    fmt::print(<span class="stringliteral">&quot;SRC: disabled\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1013</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1014</span>    fmt::print(<span class="stringliteral">&quot;+----------------------------------+\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1015</span> </div>
<div class="line"><span class="lineno"> 1016</span>    fmt::print(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1017</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ffbc9d76efacdae82ed10f5b7009348" name="a7ffbc9d76efacdae82ed10f5b7009348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ffbc9d76efacdae82ed10f5b7009348">&#9670;&#160;</a></span>is_arc_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::is_arc_fixed </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00307">307</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  307</span>                                                              {</div>
<div class="line"><span class="lineno">  308</span>        <span class="keywordtype">size_t</span> bit_pos = from * nodes.size() + to;</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">return</span> (<a class="code hl_variable" href="#a619c4493e5de7a18f6f947b550025f78">fixed_arcs_bitmap</a>[bit_pos / 64] &amp; (1ULL &lt;&lt; (bit_pos % 64))) !=</div>
<div class="line"><span class="lineno">  310</span>               0;</div>
<div class="line"><span class="lineno">  311</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a78748283e2afde93c765b113b991d76c" name="a78748283e2afde93c765b113b991d76c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78748283e2afde93c765b113b991d76c">&#9670;&#160;</a></span>is_arc_not_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::is_arc_not_fixed </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00313">313</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  313</span>                                                                  {</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordtype">size_t</span> bit_pos = from * nodes.size() + to;</div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">return</span> (<a class="code hl_variable" href="#a619c4493e5de7a18f6f947b550025f78">fixed_arcs_bitmap</a>[bit_pos / 64] &amp; (1ULL &lt;&lt; (bit_pos % 64))) ==</div>
<div class="line"><span class="lineno">  316</span>               0;</div>
<div class="line"><span class="lineno">  317</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1272b542e38efd60f4fe2ba7fc01d52" name="aa1272b542e38efd60f4fe2ba7fc01d52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1272b542e38efd60f4fe2ba7fc01d52">&#9670;&#160;</a></span>is_bucket_fixed()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::is_bucket_fixed </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00344">344</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  344</span>                                                                 {</div>
<div class="line"><span class="lineno">  345</span>        <span class="keyword">auto</span> &amp;fixed_buckets_bitmap =</div>
<div class="line"><span class="lineno">  346</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a8e279c08b248c529a0efec509e8a5a47">fw_fixed_buckets_bitmap</a>, <a class="code hl_variable" href="#adf35ff56b8e466beb5b9699379d84e67">bw_fixed_buckets_bitmap</a>);</div>
<div class="line"><span class="lineno">  347</span>        <span class="keyword">auto</span> n_buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordtype">size_t</span> bit_pos = from * n_buckets + to;</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">return</span> (fixed_buckets_bitmap[bit_pos / 64] &amp;</div>
<div class="line"><span class="lineno">  350</span>                (1ULL &lt;&lt; (bit_pos % 64))) != 0;</div>
<div class="line"><span class="lineno">  351</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_aa1272b542e38efd60f4fe2ba7fc01d52_cgraph.png" border="0" usemap="#aclassBucketGraph_aa1272b542e38efd60f4fe2ba7fc01d52_cgraph" alt=""/></div>
<map name="aclassBucketGraph_aa1272b542e38efd60f4fe2ba7fc01d52_cgraph" id="aclassBucketGraph_aa1272b542e38efd60f4fe2ba7fc01d52_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,165,46"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="213,5,354,46"/>
<area shape="poly" title=" " alt="" coords="165,23,197,23,197,28,165,28"/>
</map>
</div>

</div>
</div>
<a id="a78be6c04ca36f1ad7b2e3a594898c335" name="a78be6c04ca36f1ad7b2e3a594898c335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78be6c04ca36f1ad7b2e3a594898c335">&#9670;&#160;</a></span>is_bucket_not_fixed()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::is_bucket_not_fixed </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00326">326</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  326</span>                                                                     {</div>
<div class="line"><span class="lineno">  327</span>        <span class="keyword">auto</span> &amp;fixed_buckets_bitmap =</div>
<div class="line"><span class="lineno">  328</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a8e279c08b248c529a0efec509e8a5a47">fw_fixed_buckets_bitmap</a>, <a class="code hl_variable" href="#adf35ff56b8e466beb5b9699379d84e67">bw_fixed_buckets_bitmap</a>);</div>
<div class="line"><span class="lineno">  329</span>        <span class="keyword">auto</span> n_buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordtype">size_t</span> bit_pos = from * n_buckets + to;</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">return</span> (fixed_buckets_bitmap[bit_pos / 64] &amp;</div>
<div class="line"><span class="lineno">  332</span>                (1ULL &lt;&lt; (bit_pos % 64))) == 0;</div>
<div class="line"><span class="lineno">  333</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a78be6c04ca36f1ad7b2e3a594898c335_cgraph.png" border="0" usemap="#aclassBucketGraph_a78be6c04ca36f1ad7b2e3a594898c335_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a78be6c04ca36f1ad7b2e3a594898c335_cgraph" id="aclassBucketGraph_a78be6c04ca36f1ad7b2e3a594898c335_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,165,46"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="213,5,354,46"/>
<area shape="poly" title=" " alt="" coords="165,23,197,23,197,28,165,28"/>
</map>
</div>

</div>
</div>
<a id="a90ce1e861b31ed9c05e36aa3f9ab6743" name="a90ce1e861b31ed9c05e36aa3f9ab6743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90ce1e861b31ed9c05e36aa3f9ab6743">&#9670;&#160;</a></span>is_bucket_not_fixed_backward()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::is_bucket_not_fixed_backward </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00339">339</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  339</span>                                                                              {</div>
<div class="line"><span class="lineno">  340</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a78be6c04ca36f1ad7b2e3a594898c335">is_bucket_not_fixed&lt;Direction::Backward&gt;</a>(from, to);</div>
<div class="line"><span class="lineno">  341</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_a78be6c04ca36f1ad7b2e3a594898c335"><div class="ttname"><a href="#a78be6c04ca36f1ad7b2e3a594898c335">BucketGraph::is_bucket_not_fixed</a></div><div class="ttdeci">bool is_bucket_not_fixed(int from, int to) const noexcept</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00326">BucketGraph.h:326</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a90ce1e861b31ed9c05e36aa3f9ab6743_cgraph.png" border="0" usemap="#aclassBucketGraph_a90ce1e861b31ed9c05e36aa3f9ab6743_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a90ce1e861b31ed9c05e36aa3f9ab6743_cgraph" id="aclassBucketGraph_a90ce1e861b31ed9c05e36aa3f9ab6743_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,165,46"/>
<area shape="rect" href="classBucketGraph.html#a78be6c04ca36f1ad7b2e3a594898c335" title=" " alt="" coords="213,5,372,46"/>
<area shape="poly" title=" " alt="" coords="165,23,197,23,197,28,165,28"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="420,5,561,46"/>
<area shape="poly" title=" " alt="" coords="372,23,405,23,405,28,372,28"/>
</map>
</div>

</div>
</div>
<a id="a491d87e43d4a6ec6ed9557be1769cd29" name="a491d87e43d4a6ec6ed9557be1769cd29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491d87e43d4a6ec6ed9557be1769cd29">&#9670;&#160;</a></span>is_bucket_not_fixed_forward()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::is_bucket_not_fixed_forward </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>from</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>to</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00335">335</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  335</span>                                                                             {</div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#a78be6c04ca36f1ad7b2e3a594898c335">is_bucket_not_fixed&lt;Direction::Forward&gt;</a>(from, to);</div>
<div class="line"><span class="lineno">  337</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a491d87e43d4a6ec6ed9557be1769cd29_cgraph.png" border="0" usemap="#aclassBucketGraph_a491d87e43d4a6ec6ed9557be1769cd29_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a491d87e43d4a6ec6ed9557be1769cd29_cgraph" id="aclassBucketGraph_a491d87e43d4a6ec6ed9557be1769cd29_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,165,46"/>
<area shape="rect" href="classBucketGraph.html#a78be6c04ca36f1ad7b2e3a594898c335" title=" " alt="" coords="213,5,372,46"/>
<area shape="poly" title=" " alt="" coords="165,23,197,23,197,28,165,28"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="420,5,561,46"/>
<area shape="poly" title=" " alt="" coords="372,23,405,23,405,28,372,28"/>
</map>
</div>

</div>
</div>
<a id="a25d9320c73e809c5d3f57c86d7b50727" name="a25d9320c73e809c5d3f57c86d7b50727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25d9320c73e809c5d3f57c86d7b50727">&#9670;&#160;</a></span>is_dominated() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::is_dominated </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *__restrict</td>          <td class="paramname"><span class="paramname"><em>new_label</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *__restrict</td>          <td class="paramname"><span class="paramname"><em>label</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a label is dominated by a new label based on cost and resource conditions. </p>

<p class="definition">Definition at line <a class="el" href="BucketSolve_8h_source.html#l01142">1142</a> of file <a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1143</span>                                                                              {</div>
<div class="line"><span class="lineno"> 1144</span>    <span class="comment">// A label cannot dominate if its cost is higher.</span></div>
<div class="line"><span class="lineno"> 1145</span>    <span class="comment">// const double cost_diff = label-&gt;cost - new_label-&gt;cost;</span></div>
<div class="line"><span class="lineno"> 1146</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(label-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a>, new_label-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a>)) {</div>
<div class="line"><span class="lineno"> 1147</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1148</span>    }</div>
<div class="line"><span class="lineno"> 1149</span> </div>
<div class="line"><span class="lineno"> 1150</span>    <span class="comment">// Compare resource vectors.</span></div>
<div class="line"><span class="lineno"> 1151</span>    <span class="keyword">const</span> <span class="keyword">auto</span> *__restrict new_res = new_label-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>.data();</div>
<div class="line"><span class="lineno"> 1152</span>    <span class="keyword">const</span> <span class="keyword">auto</span> *__restrict lbl_res = label-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>.data();</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>    <span class="comment">// Prefetch resource data</span></div>
<div class="line"><span class="lineno"> 1155</span>    __builtin_prefetch(new_res, 0,</div>
<div class="line"><span class="lineno"> 1156</span>                       3);  <span class="comment">// 0 = read only, 3 = high temporal locality</span></div>
<div class="line"><span class="lineno"> 1157</span>    __builtin_prefetch(lbl_res, 0, 3);</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> n_res = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size();</div>
<div class="line"><span class="lineno"> 1160</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno"> 1161</span>        <span class="comment">// In the Forward direction, each resource value of &#39;label&#39; must</span></div>
<div class="line"><span class="lineno"> 1162</span>        <span class="comment">// not exceed that of &#39;new_label&#39;</span></div>
<div class="line"><span class="lineno"> 1163</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n_res; ++i) {</div>
<div class="line"><span class="lineno"> 1164</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(lbl_res[i], new_res[i])) {</div>
<div class="line"><span class="lineno"> 1165</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1166</span>            }</div>
<div class="line"><span class="lineno"> 1167</span>        }</div>
<div class="line"><span class="lineno"> 1168</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Direction::Backward</a>) {</div>
<div class="line"><span class="lineno"> 1169</span>        <span class="comment">// In the Backward direction, each resource value of &#39;label&#39;</span></div>
<div class="line"><span class="lineno"> 1170</span>        <span class="comment">// must not be less than that of &#39;new_label&#39;</span></div>
<div class="line"><span class="lineno"> 1171</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n_res; ++i) {</div>
<div class="line"><span class="lineno"> 1172</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e">numericutils::lt</a>(lbl_res[i], new_res[i])) {</div>
<div class="line"><span class="lineno"> 1173</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1174</span>            }</div>
<div class="line"><span class="lineno"> 1175</span>        }</div>
<div class="line"><span class="lineno"> 1176</span>    }</div>
<div class="line"><span class="lineno"> 1177</span> </div>
<div class="line"><span class="lineno"> 1178</span>    <span class="comment">// visits of label.</span></div>
<div class="line"><span class="lineno"> 1179</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604ebaca8a2087e5557e317599344687a57391">Stage::Three</a> || S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a> ||</div>
<div class="line"><span class="lineno"> 1180</span>                  S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba81999728593fbd0249e73b02f3d7ad74">Stage::Enumerate</a>) {</div>
<div class="line"><span class="lineno"> 1181</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> n_bitmap = label-&gt;<a class="code hl_variable" href="structLabel.html#ac020ce84080430f28f2b2651be338693">visited_bitmap</a>.size();</div>
<div class="line"><span class="lineno"> 1182</span> </div>
<div class="line"><span class="lineno"> 1183</span>        <span class="comment">// Prefetch bitmap data</span></div>
<div class="line"><span class="lineno"> 1184</span>        __builtin_prefetch(label-&gt;<a class="code hl_variable" href="structLabel.html#ac020ce84080430f28f2b2651be338693">visited_bitmap</a>.data(), 0, 3);</div>
<div class="line"><span class="lineno"> 1185</span>        __builtin_prefetch(new_label-&gt;<a class="code hl_variable" href="structLabel.html#ac020ce84080430f28f2b2651be338693">visited_bitmap</a>.data(), 0, 3);</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n_bitmap; ++i) {</div>
<div class="line"><span class="lineno"> 1188</span>            <span class="comment">// Every visited node in &#39;label&#39; must also be visited in</span></div>
<div class="line"><span class="lineno"> 1189</span>            <span class="comment">// &#39;new_label&#39;.</span></div>
<div class="line"><span class="lineno"> 1190</span>            <span class="keywordflow">if</span> ((label-&gt;<a class="code hl_variable" href="structLabel.html#ac020ce84080430f28f2b2651be338693">visited_bitmap</a>[i] &amp; new_label-&gt;<a class="code hl_variable" href="structLabel.html#ac020ce84080430f28f2b2651be338693">visited_bitmap</a>[i]) !=</div>
<div class="line"><span class="lineno"> 1191</span>                label-&gt;<a class="code hl_variable" href="structLabel.html#ac020ce84080430f28f2b2651be338693">visited_bitmap</a>[i]) {</div>
<div class="line"><span class="lineno"> 1192</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1193</span>            }</div>
<div class="line"><span class="lineno"> 1194</span>        }</div>
<div class="line"><span class="lineno"> 1195</span>    }</div>
<div class="line"><span class="lineno"> 1196</span><span class="preprocessor">#ifdef SRC</span></div>
<div class="line"><span class="lineno"> 1197</span>    <span class="comment">// For Stage Four or Enumerate, apply additional SRC-based cost</span></div>
<div class="line"><span class="lineno"> 1198</span>    <span class="comment">// adjustments.</span></div>
<div class="line"><span class="lineno"> 1199</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba981b8fcee42e1e726a67a2b9a98ea6e9">Stage::Four</a> || S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba81999728593fbd0249e73b02f3d7ad74">Stage::Enumerate</a>) {</div>
<div class="line"><span class="lineno"> 1200</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> local_cost_diff = label-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a> - new_label-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a>;</div>
<div class="line"><span class="lineno"> 1201</span>        <span class="keyword">const</span> <span class="keyword">auto</span> *__restrict lbl_srcs = label-&gt;SRCmap.data();</div>
<div class="line"><span class="lineno"> 1202</span>        <span class="keyword">const</span> <span class="keyword">auto</span> *__restrict new_lbl_srcs = new_label-&gt;SRCmap.data();</div>
<div class="line"><span class="lineno"> 1203</span> </div>
<div class="line"><span class="lineno"> 1204</span>        <span class="comment">// Prefetch SRCmap data</span></div>
<div class="line"><span class="lineno"> 1205</span>        __builtin_prefetch(lbl_srcs, 0, 3);</div>
<div class="line"><span class="lineno"> 1206</span>        __builtin_prefetch(new_lbl_srcs, 0, 3);</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;active_cuts = <a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>-&gt;getActiveCuts();</div>
<div class="line"><span class="lineno"> 1209</span>        <span class="keywordtype">double</span> dual_sum = 0.0;</div>
<div class="line"><span class="lineno"> 1210</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> n = active_cuts.size();</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><span class="lineno"> 1212</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;cut = active_cuts[i];</div>
<div class="line"><span class="lineno"> 1213</span>            <span class="comment">// Branch prediction hint: likely false.</span></div>
<div class="line"><span class="lineno"> 1214</span>            <span class="keywordflow">if</span> (__builtin_expect(lbl_srcs[cut.index] &gt; new_lbl_srcs[cut.index],</div>
<div class="line"><span class="lineno"> 1215</span>                                 0)) {</div>
<div class="line"><span class="lineno"> 1216</span>                dual_sum += cut.dual_value;</div>
<div class="line"><span class="lineno"> 1217</span>                <span class="keywordflow">if</span> (__builtin_expect(</div>
<div class="line"><span class="lineno"> 1218</span>                        (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(local_cost_diff, dual_sum)), 0)) {</div>
<div class="line"><span class="lineno"> 1219</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1220</span>                }</div>
<div class="line"><span class="lineno"> 1221</span>            }</div>
<div class="line"><span class="lineno"> 1222</span>        }</div>
<div class="line"><span class="lineno"> 1223</span>    }</div>
<div class="line"><span class="lineno"> 1224</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1225</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1226</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a25d9320c73e809c5d3f57c86d7b50727_cgraph.png" border="0" usemap="#aclassBucketGraph_a25d9320c73e809c5d3f57c86d7b50727_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a25d9320c73e809c5d3f57c86d7b50727_cgraph" id="aclassBucketGraph_a25d9320c73e809c5d3f57c86d7b50727_cgraph">
<area shape="rect" title="Checks if a label is dominated by a new label based on cost and resource conditions." alt="" coords="5,31,186,56"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="234,5,342,31"/>
<area shape="poly" title=" " alt="" coords="186,29,218,25,219,30,186,34"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="236,55,340,80"/>
<area shape="poly" title=" " alt="" coords="186,52,221,56,220,62,186,57"/>
</map>
</div>

</div>
</div>
<a id="a469baec04539f3c8ae984f5558fbfc25" name="a469baec04539f3c8ae984f5558fbfc25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a469baec04539f3c8ae984f5558fbfc25">&#9670;&#160;</a></span>is_dominated() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::is_dominated </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>new_label</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>labels</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a469baec04539f3c8ae984f5558fbfc25_cgraph.png" border="0" usemap="#aclassBucketGraph_a469baec04539f3c8ae984f5558fbfc25_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a469baec04539f3c8ae984f5558fbfc25_cgraph" id="aclassBucketGraph_a469baec04539f3c8ae984f5558fbfc25_cgraph">
<area shape="rect" title=" " alt="" coords="5,222,186,248"/>
<area shape="poly" title=" " alt="" coords="59,223,52,214,56,204,71,198,96,196,122,198,136,205,134,210,121,203,95,201,72,203,60,208,57,213,63,220"/>
<area shape="rect" href="classBucketGraph.html#a8153a13e14a6233434a3f7ef3230f8b8" title=" " alt="" coords="234,651,398,691"/>
<area shape="poly" title=" " alt="" coords="106,247,300,636,295,638,101,249"/>
<area shape="rect" href="classBucketGraph.html#a395e609a3dcdb495e2a43da1742af7bd" title="Eliminates bucket arcs based on a given threshold." alt="" coords="653,121,881,146"/>
<area shape="poly" title=" " alt="" coords="115,219,167,190,199,175,233,163,338,141,445,129,548,124,638,124,638,130,548,130,445,134,339,147,234,168,201,180,169,194,118,224"/>
<area shape="rect" href="classBucketGraph.html#a07082dcbaab12cbea07fbe16acee9bcf" title="Get the opposite bucket number for a given bucket index." alt="" coords="954,5,1131,46"/>
<area shape="poly" title=" " alt="" coords="108,220,159,174,194,150,233,130,325,97,422,71,519,52,616,38,795,23,938,20,938,26,795,29,616,43,520,57,423,77,327,102,235,135,197,154,162,178,111,224"/>
<area shape="rect" href="classBucketGraph.html#a394e55293111f386caf44ed9e67c5653" title=" " alt="" coords="936,172,1149,197"/>
<area shape="poly" title=" " alt="" coords="186,219,233,214,421,200,609,191,920,183,920,188,609,196,421,206,234,219,186,224"/>
<area shape="rect" href="classBucketGraph.html#a84a8345b541e0e44e44e6215a9cdc779" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="646,222,888,248"/>
<area shape="poly" title=" " alt="" coords="186,232,631,232,631,238,186,238"/>
<area shape="rect" href="classBucketGraph.html#a1546f6d1eec5a80afaed3be7ccda0d4a" title=" " alt="" coords="679,428,855,469"/>
<area shape="poly" title=" " alt="" coords="186,240,412,267,522,286,599,309,641,331,679,359,739,414,735,418,675,363,638,336,597,313,520,291,411,272,186,245"/>
<area shape="rect" href="classBucketGraph.html#adea4cf77fe1775dac8bb3aa80b4c0dd4" title="Fixes the bucket arcs for the specified stage." alt="" coords="451,323,593,363"/>
<area shape="poly" title=" " alt="" coords="319,649,332,597,357,526,393,449,417,413,444,380,455,370,458,374,448,384,421,416,398,452,362,528,337,599,324,651"/>
<area shape="rect" href="classBucketGraph.html#a8b934dd825af2c3536269ac190b398b3" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="690,708,844,749"/>
<area shape="poly" title=" " alt="" coords="393,689,446,700,565,715,675,722,675,728,565,720,446,706,392,695"/>
<area shape="rect" href="classBucketGraph.html#a66484f0fb3c999584f77880b3dd54f7c" title="Runs forward and backward labeling algorithms in parallel and synchronizes the results." alt="" coords="681,773,853,814"/>
<area shape="poly" title=" " alt="" coords="361,689,447,723,560,753,666,775,665,780,558,758,445,728,360,694"/>
<area shape="rect" href="classBucketGraph.html#aa05e883574a58a277e1dbf8cfcdcde11" title=" " alt="" coords="969,928,1116,969"/>
<area shape="poly" title=" " alt="" coords="326,691,341,731,366,782,401,833,423,855,447,874,509,906,575,930,643,947,712,957,780,962,843,963,953,957,953,963,844,968,779,967,711,962,642,952,573,935,507,911,445,879,419,859,397,836,361,785,336,733,321,693"/>
<area shape="rect" href="classBucketGraph.html#a858b68317a9a0a60723698509d78d575" title="Checks the feasibility of a given forward and backward label." alt="" coords="973,600,1112,641"/>
<area shape="poly" title=" " alt="" coords="350,648,405,618,477,583,559,551,646,528,714,514,770,504,797,504,824,507,855,515,889,529,906,542,915,557,923,572,937,586,960,598,958,603,934,590,919,575,910,559,902,545,886,533,853,520,823,512,796,509,770,510,715,519,647,534,561,556,479,588,407,622,353,652"/>
<area shape="rect" href="classBucketGraph.html#a7d2d975e13b1fdeaafca99aa6fb29486" title=" " alt="" coords="966,271,1119,311"/>
<area shape="poly" title=" " alt="" coords="321,649,336,606,361,551,397,494,419,468,445,445,472,431,519,415,654,378,950,308,951,313,655,383,521,420,474,436,447,449,423,471,401,497,366,553,341,608,326,651"/>
<area shape="poly" title=" " alt="" coords="323,649,339,612,365,567,400,521,421,501,445,485,497,461,554,446,610,439,663,437,663,443,611,444,555,451,499,466,447,489,425,506,404,525,370,570,344,615,327,651"/>
<area shape="rect" href="classBucketGraph.html#ac36d91be18f5093577ee00a38ceb771e" title=" " alt="" coords="971,766,1114,792"/>
<area shape="poly" title=" " alt="" coords="331,690,376,756,409,792,447,822,498,849,542,862,647,874,768,890,821,888,887,874,923,860,958,841,1013,800,1017,804,961,845,926,864,888,879,822,894,768,895,646,879,541,867,496,854,445,827,406,796,372,759,327,693"/>
<area shape="rect" href="classBucketGraph.html#a7ffbc9d76efacdae82ed10f5b7009348" title=" " alt="" coords="1212,1007,1350,1047"/>
<area shape="poly" title=" " alt="" coords="323,691,334,744,356,813,373,849,393,884,418,916,448,942,491,971,538,995,587,1015,637,1031,741,1054,846,1065,947,1066,1042,1061,1126,1052,1195,1042,1196,1047,1127,1058,1043,1067,947,1072,845,1070,740,1059,636,1037,585,1020,536,1000,489,975,444,946,414,919,389,887,368,851,351,815,329,745,318,692"/>
<area shape="rect" href="classBucketGraph.html#a06036b30388d0f91c677340bff2c6b6a" title="Applies heuristic fixing to the current solution." alt="" coords="446,651,598,691"/>
<area shape="poly" title=" " alt="" coords="398,668,431,668,431,674,398,674"/>
<area shape="rect" href="classBucketGraph.html#a2379392ccc37be9a4a27800b116465d2" title="Resets all fixed arcs in the graph." alt="" coords="701,543,833,583"/>
<area shape="poly" title=" " alt="" coords="398,648,445,636,686,579,687,584,447,642,399,653"/>
<area shape="rect" href="classBucketGraph.html#a3e1492bb1589d5edb06e80a753d000dd" title="Resets the forward and backward label pools." alt="" coords="685,838,849,864"/>
<area shape="poly" title=" " alt="" coords="341,690,388,728,447,766,503,790,561,809,671,834,669,840,559,814,501,795,445,771,385,733,337,694"/>
<area shape="poly" title=" " alt="" coords="538,320,584,267,645,208,686,177,726,152,729,157,689,182,648,212,588,271,542,324"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="1005,221,1080,246"/>
<area shape="poly" title=" " alt="" coords="593,326,990,242,991,247,594,331"/>
<area shape="poly" title=" " alt="" coords="530,363,543,416,566,489,601,570,623,608,648,644,679,674,713,698,710,702,675,678,644,647,619,611,596,572,561,491,538,418,525,364"/>
<area shape="poly" title=" " alt="" coords="569,320,721,252,723,257,571,325"/>
<area shape="poly" title=" " alt="" coords="531,363,586,580,621,696,636,737,648,759,668,773,665,777,644,762,631,739,616,698,581,582,526,364"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="1412,247,1554,287"/>
<area shape="poly" title=" " alt="" coords="834,118,940,103,1005,98,1076,97,1149,100,1223,110,1296,128,1365,154,1393,170,1419,190,1459,232,1455,236,1415,194,1390,175,1363,159,1295,133,1223,115,1149,106,1076,102,1005,104,940,108,834,123"/>
<area shape="poly" title=" " alt="" coords="799,118,935,62,968,49,970,54,937,67,801,123"/>
<area shape="poly" title=" " alt="" coords="794,144,858,175,937,207,991,222,989,227,935,212,856,180,792,149"/>
<area shape="poly" title=" " alt="" coords="841,144,955,166,954,171,840,150"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="1197,247,1364,287"/>
<area shape="poly" title=" " alt="" coords="1066,45,1251,234,1247,238,1062,49"/>
<area shape="poly" title=" " alt="" coords="1365,264,1397,264,1397,270,1365,270"/>
<area shape="poly" title=" " alt="" coords="1148,195,1253,211,1365,232,1398,240,1396,245,1364,238,1252,217,1147,200"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="1214,457,1348,482"/>
<area shape="poly" title=" " alt="" coords="1136,195,1151,206,1168,226,1177,246,1183,285,1185,326,1189,349,1199,372,1226,411,1255,444,1251,447,1222,415,1195,375,1184,350,1179,327,1178,286,1172,248,1163,229,1147,210,1132,200"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="1226,578,1335,604"/>
<area shape="poly" title=" " alt="" coords="1137,195,1151,206,1177,242,1189,276,1191,309,1188,343,1182,414,1185,452,1199,494,1225,533,1255,566,1251,569,1221,537,1195,496,1180,454,1176,414,1183,343,1186,309,1184,277,1172,244,1147,210,1134,200"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="1228,336,1333,361"/>
<area shape="poly" title=" " alt="" coords="1132,195,1151,206,1170,228,1177,251,1184,274,1199,297,1236,325,1233,330,1195,301,1179,276,1172,252,1165,231,1147,210,1130,200"/>
<area shape="poly" title=" " alt="" coords="845,741,889,759,904,770,913,782,923,792,937,802,1006,829,1062,840,1197,847,1247,856,1287,867,1306,869,1324,868,1342,861,1363,848,1378,832,1391,810,1415,750,1434,676,1449,593,1469,428,1477,303,1483,303,1474,428,1455,594,1440,677,1420,752,1396,812,1382,835,1366,852,1345,866,1325,873,1306,875,1286,872,1246,862,1197,852,1062,845,1004,834,934,807,919,796,909,785,900,774,886,764,843,746"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="1202,628,1359,669"/>
<area shape="poly" title=" " alt="" coords="844,725,986,717,1068,708,1148,694,1212,672,1213,677,1150,699,1069,713,987,723,844,731"/>
<area shape="poly" title=" " alt="" coords="788,219,852,186,893,169,935,156,1056,137,1106,135,1153,138,1200,146,1249,159,1365,199,1404,216,1439,236,1437,241,1402,221,1363,204,1247,164,1198,151,1152,143,1106,140,1057,142,936,162,894,174,854,190,791,224"/>
<area shape="poly" title=" " alt="" coords="888,232,990,231,990,237,888,237"/>
<area shape="poly" title=" " alt="" coords="855,805,889,824,907,844,915,864,922,884,937,904,959,918,956,923,934,908,917,887,910,866,902,846,886,828,852,810"/>
<area shape="poly" title=" " alt="" coords="969,971,861,992,796,999,726,1003,654,1002,582,993,511,975,445,947,397,917,353,881,314,840,279,795,247,747,220,697,175,594,142,492,119,398,97,264,102,263,124,397,147,490,180,592,225,695,252,745,283,792,318,836,357,877,400,912,447,942,513,970,583,987,655,996,726,998,796,994,861,986,968,966"/>
<area shape="poly" title=" " alt="" coords="1117,958,1177,962,1243,957,1276,950,1307,939,1336,924,1362,904,1378,885,1392,860,1416,793,1436,710,1451,618,1470,437,1478,303,1483,303,1475,437,1456,619,1441,711,1421,794,1397,862,1382,888,1366,908,1339,928,1309,944,1277,955,1244,962,1177,967,1116,964"/>
<area shape="poly" title=" " alt="" coords="1111,602,1148,586,1180,565,1209,540,1256,493,1260,496,1213,544,1183,569,1150,591,1113,607"/>
<area shape="poly" title=" " alt="" coords="1112,609,1211,597,1211,602,1112,614"/>
<area shape="poly" title=" " alt="" coords="1073,310,1252,446,1249,450,1070,314"/>
<area shape="poly" title=" " alt="" coords="855,429,920,420,994,414,1072,414,1149,422,1195,433,1237,448,1235,453,1194,438,1149,427,1072,419,994,420,920,426,856,434"/>
<area shape="poly" title=" " alt="" coords="836,425,935,399,1084,372,1213,354,1214,359,1085,377,936,404,837,430"/>
<area shape="poly" title=" " alt="" coords="857,465,889,485,901,498,908,511,914,537,920,562,926,574,937,586,960,601,957,605,934,590,922,578,915,564,909,538,903,513,897,501,886,489,854,470"/>
<area shape="poly" title=" " alt="" coords="854,426,886,408,902,389,909,369,917,348,934,328,950,316,953,321,937,332,922,351,914,371,907,391,889,412,857,431"/>
<area shape="rect" href="classBucketGraph.html#a2a66984a5d0225286c0598b884772f8c" title=" " alt="" coords="972,436,1113,477"/>
<area shape="poly" title=" " alt="" coords="856,448,956,451,956,457,856,454"/>
<area shape="rect" href="namespacenumericutils.html#a8d554fdb4468068ab99dc7a219308492" title=" " alt="" coords="985,501,1100,526"/>
<area shape="poly" title=" " alt="" coords="856,467,971,494,970,499,855,472"/>
<area shape="rect" href="namespacenumericutils.html#afa1d31c5f18a361509ba1faacca5feb4" title=" " alt="" coords="987,550,1098,576"/>
<area shape="poly" title=" " alt="" coords="853,467,889,485,905,498,914,512,922,525,937,537,973,551,971,556,934,541,918,528,909,515,901,502,886,489,851,472"/>
<area shape="poly" title=" " alt="" coords="1070,790,1129,815,1207,836,1248,841,1289,839,1328,829,1363,809,1377,794,1390,774,1413,719,1431,651,1447,574,1467,420,1477,303,1482,303,1472,420,1452,575,1437,652,1418,721,1394,776,1381,798,1366,813,1330,834,1290,845,1248,847,1206,842,1127,820,1068,795"/>
<area shape="poly" title=" " alt="" coords="1057,764,1103,717,1127,686,1147,651,1163,604,1168,561,1167,522,1163,484,1161,447,1162,408,1172,367,1195,321,1220,295,1224,298,1199,325,1177,369,1168,409,1166,447,1169,484,1173,522,1174,562,1168,605,1151,653,1132,689,1107,721,1061,768"/>
<area shape="poly" title=" " alt="" coords="1066,763,1107,735,1129,716,1147,695,1165,661,1172,632,1179,601,1195,564,1223,525,1253,492,1257,495,1227,528,1199,567,1184,602,1178,633,1170,663,1151,698,1132,720,1111,739,1069,768"/>
<area shape="poly" title=" " alt="" coords="1063,764,1104,734,1147,695,1161,673,1169,653,1177,634,1195,614,1211,605,1214,609,1199,618,1182,637,1174,655,1166,676,1151,698,1108,738,1066,768"/>
<area shape="poly" title=" " alt="" coords="1057,764,1102,717,1126,685,1147,651,1159,622,1166,595,1170,548,1175,500,1182,473,1195,443,1221,403,1251,370,1255,374,1226,406,1199,446,1187,475,1180,501,1175,548,1171,596,1164,623,1151,654,1130,688,1106,720,1060,768"/>
<area shape="poly" title=" " alt="" coords="1110,763,1147,745,1163,730,1171,714,1179,697,1195,680,1203,674,1206,679,1199,684,1184,700,1176,716,1167,733,1151,749,1112,768"/>
<area shape="poly" title=" " alt="" coords="1058,790,1251,994,1247,997,1054,794"/>
<area shape="rect" href="classBucketGraph.html#aac3c165dfb9837288ad63ac34ad91041" title="Checks if a node has been visited based on a bitmap." alt="" coords="1206,693,1355,734"/>
<area shape="poly" title=" " alt="" coords="1091,763,1191,735,1192,741,1093,768"/>
<area shape="rect" href="classBucketGraph.html#af2436dd7416920cc8f4bed442dc84c86" title="Processes all resources by iterating through them and applying constraints." alt="" coords="1206,759,1355,799"/>
<area shape="poly" title=" " alt="" coords="1114,776,1190,776,1190,782,1114,782"/>
<area shape="poly" title=" " alt="" coords="599,675,734,684,895,687,974,685,1045,679,1105,667,1148,650,1167,633,1175,613,1182,590,1195,564,1254,492,1258,495,1199,567,1187,592,1180,615,1171,636,1150,655,1106,672,1046,684,974,690,895,693,733,689,599,680"/>
<area shape="poly" title=" " alt="" coords="599,686,676,704,675,710,598,691"/>
<area shape="poly" title=" " alt="" coords="548,690,593,725,648,758,667,766,665,771,645,763,590,729,545,694"/>
<area shape="rect" href="classBucketGraph.html#a8abd2e954b1f55ea9d1da79f4df33244" title=" " alt="" coords="697,608,837,633"/>
<area shape="poly" title=" " alt="" coords="598,653,686,634,687,639,599,658"/>
<area shape="poly" title=" " alt="" coords="551,648,594,619,645,593,685,578,687,583,647,597,597,624,553,652"/>
<area shape="poly" title=" " alt="" coords="536,691,554,721,579,757,610,793,648,823,672,835,669,840,645,828,607,797,574,760,549,724,532,693"/>
</map>
</div>

</div>
</div>
<a id="a47765e452c071946b8669f7ee4e231d4" name="a47765e452c071946b8669f7ee4e231d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47765e452c071946b8669f7ee4e231d4">&#9670;&#160;</a></span>is_in_neighborhood()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::is_in_neighborhood </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>i</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>j</em></span>&#160;) const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01127">1127</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1127</span>                                                      {</div>
<div class="line"><span class="lineno"> 1128</span>        <span class="keywordflow">if</span> (i &gt;= <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>.size()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> segment = j &gt;&gt; 6;</div>
<div class="line"><span class="lineno"> 1131</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> bit_position = j &amp; 63;</div>
<div class="line"><span class="lineno"> 1132</span> </div>
<div class="line"><span class="lineno"> 1133</span>        <span class="keywordflow">if</span> (segment &gt;= <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[i].size()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>        <span class="keywordflow">return</span> (<a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[i][segment] &amp; (1ULL &lt;&lt; bit_position)) != 0;</div>
<div class="line"><span class="lineno"> 1136</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="adf61c428e5b1b74655d8b6762a6f4612" name="adf61c428e5b1b74655d8b6762a6f4612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf61c428e5b1b74655d8b6762a6f4612">&#9670;&#160;</a></span>is_node_unreachable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool BucketGraph::is_node_unreachable </td>
          <td>(</td>
          <td class="paramtype">const std::array&lt; uint64_t, <a class="el" href="Definitions_8h.html#a38c168723ff0872970a49c6ee54e9bf7">num_words</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bitmap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>node_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a node is unreachable based on a bitmap. </p>
<p>This function determines if a node, identified by its node_id, is unreachable by checking a specific bit in a bitmap. The bitmap is represented as an array of 64-bit unsigned integers. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00590">590</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  591</span>                                                                  {</div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordtype">int</span> word_index = node_id &gt;&gt; 6;  <span class="comment">// Determine which 64-bit segment</span></div>
<div class="line"><span class="lineno">  593</span>                                        <span class="comment">// contains the node_id</span></div>
<div class="line"><span class="lineno">  594</span>        <span class="keywordtype">int</span> bit_position =</div>
<div class="line"><span class="lineno">  595</span>            node_id &amp; 63;  <span class="comment">// Determine the bit position within that segment</span></div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">return</span> (bitmap[word_index] &amp; (1ULL &lt;&lt; bit_position)) != 0;</div>
<div class="line"><span class="lineno">  597</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aac3c165dfb9837288ad63ac34ad91041" name="aac3c165dfb9837288ad63ac34ad91041"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac3c165dfb9837288ad63ac34ad91041">&#9670;&#160;</a></span>is_node_visited()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool BucketGraph::is_node_visited </td>
          <td>(</td>
          <td class="paramtype">const std::array&lt; uint64_t, <a class="el" href="Definitions_8h.html#a38c168723ff0872970a49c6ee54e9bf7">num_words</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bitmap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>node_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a node has been visited based on a bitmap. </p>
<p>This function determines if a specific node, identified by node_id, has been visited by checking the corresponding bit in a bitmap array. The bitmap is an array of 64-bit unsigned integers, where each bit represents the visited status of a node. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00555">555</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  556</span>                                                                  {</div>
<div class="line"><span class="lineno">  557</span>        <span class="keywordtype">int</span> word_index = node_id &gt;&gt; 6;  <span class="comment">// Determine which 64-bit segment</span></div>
<div class="line"><span class="lineno">  558</span>                                        <span class="comment">// contains the node_id</span></div>
<div class="line"><span class="lineno">  559</span>        <span class="keywordtype">int</span> bit_position =</div>
<div class="line"><span class="lineno">  560</span>            node_id &amp; 63;  <span class="comment">// Determine the bit position within that segment</span></div>
<div class="line"><span class="lineno">  561</span>        <span class="keywordflow">return</span> (bitmap[word_index] &amp; (1ULL &lt;&lt; bit_position)) != 0;</div>
<div class="line"><span class="lineno">  562</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa36fdca6e5bdc9d2f081247808852b34" name="aa36fdca6e5bdc9d2f081247808852b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa36fdca6e5bdc9d2f081247808852b34">&#9670;&#160;</a></span>knapsackBound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double BucketGraph::knapsackBound </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>l</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa05e883574a58a277e1dbf8cfcdcde11" name="aa05e883574a58a277e1dbf8cfcdcde11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05e883574a58a277e1dbf8cfcdcde11">&#9670;&#160;</a></span>labeling_algorithm()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, <a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> S, <a class="el" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0">Full</a> F&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; double &gt; BucketGraph::labeling_algorithm </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs the labeling algorithm on the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>. </p>

<p class="definition">Definition at line <a class="el" href="BucketSolve_8h_source.html#l00206">206</a> of file <a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>                                                  {</div>
<div class="line"><span class="lineno">  207</span>    <span class="comment">// Cache bucket and auxiliary structure references to avoid repeated</span></div>
<div class="line"><span class="lineno">  208</span>    <span class="comment">// lookups.</span></div>
<div class="line"><span class="lineno">  209</span>    <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  210</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;ordered_sccs =</div>
<div class="line"><span class="lineno">  211</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#accf4e37b839073ff25d96f21d597241c">fw_ordered_sccs</a>, <a class="code hl_variable" href="#acc984d67eb18784f890ad2965cceecf0">bw_ordered_sccs</a>);</div>
<div class="line"><span class="lineno">  212</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;topological_order =</div>
<div class="line"><span class="lineno">  213</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a54765fb92f241628a510eb63571c22a2">fw_topological_order</a>, <a class="code hl_variable" href="#a4c4f4665f8ab274f246fe01d24f51def">bw_topological_order</a>);</div>
<div class="line"><span class="lineno">  214</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sccs = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a3b02edcfecd793303cd6a248e4f88b8f">fw_sccs</a>, <a class="code hl_variable" href="#a6a345b497512a5c4643fdff296ee7cc3">bw_sccs</a>);</div>
<div class="line"><span class="lineno">  215</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;Phi = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>, <a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>);</div>
<div class="line"><span class="lineno">  216</span>    <span class="keyword">auto</span> &amp;c_bar = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a2ad2f263fc468798163873408972df73">fw_c_bar</a>, <a class="code hl_variable" href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">bw_c_bar</a>);</div>
<div class="line"><span class="lineno">  217</span>    <span class="keyword">auto</span> &amp;n_labels = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a627a0f568abe2300fc890ade399580ab">n_fw_labels</a>, <a class="code hl_variable" href="#a3ce737d29889971dd9163faa6052524d">n_bw_labels</a>);</div>
<div class="line"><span class="lineno">  218</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;sorted_sccs = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#ac287ad78f9bc8de787196b4abbc88a57">fw_sccs_sorted</a>, <a class="code hl_variable" href="#a59c94817c07ee10346ec61799e55372b">bw_sccs_sorted</a>);</div>
<div class="line"><span class="lineno">  219</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;n_buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno">  220</span>    <span class="keyword">auto</span> &amp;stat_n_labels = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a14021a42efc2a10246ddb4004f538a0f">stat_n_labels_fw</a>, <a class="code hl_variable" href="#adccf2c5d28f7f38e189524998ef647eb">stat_n_labels_bw</a>);</div>
<div class="line"><span class="lineno">  221</span>    <span class="keyword">auto</span> &amp;stat_n_dom = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a946362de3ef65c33ec847f671caa89bf">stat_n_dom_fw</a>, <a class="code hl_variable" href="#a5e92704829aedd6e29ea78db17a5f725">stat_n_dom_bw</a>);</div>
<div class="line"><span class="lineno">  222</span>    <span class="keyword">auto</span> &amp;arc_scores = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a96867ed156fc94da9d29ec576a42a071">fw_arc_scores</a>, <a class="code hl_variable" href="#abeb88d24b16f8a7b9a4a6d2ec300f6d2">bw_arc_scores</a>);</div>
<div class="line"><span class="lineno">  223</span>    <span class="keyword">auto</span> &amp;best_label = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(fw_best_label, bw_best_label);</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="comment">// Reset the total label count.</span></div>
<div class="line"><span class="lineno">  226</span>    n_labels = 0;</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="comment">// Pre-calculate bitmap segments for dominance-checking.</span></div>
<div class="line"><span class="lineno">  229</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code hl_variable" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a> = (n_buckets + 63) &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  230</span>    std::vector&lt;uint64_t&gt; Bvisited(<a class="code hl_variable" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a>, 0);</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="comment">// Preallocate vector for extended labels to avoid repeated allocations.</span></div>
<div class="line"><span class="lineno">  233</span>    std::vector&lt;Label *&gt; extended_labels;</div>
<div class="line"><span class="lineno">  234</span>    extended_labels.reserve(64);</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="comment">// Precompute main resource index and q_star value for partial solutions.</span></div>
<div class="line"><span class="lineno">  237</span>    <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> is_partial = (F == <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a44ffd38a6dea695cbe2b34efdcc6cf27">Full::Partial</a>);</div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordtype">int</span> main_res_index = 0;</div>
<div class="line"><span class="lineno">  239</span>    <span class="keywordtype">double</span> q_star_value = 0.0;</div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (is_partial) {</div>
<div class="line"><span class="lineno">  241</span>        main_res_index = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0];</div>
<div class="line"><span class="lineno">  242</span>        q_star_value = std::floor(<a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>[main_res_index]);</div>
<div class="line"><span class="lineno">  243</span>    }</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    <span class="comment">// Reuse a thread-local vector for collecting labels to dominate.</span></div>
<div class="line"><span class="lineno">  246</span>    <span class="keyword">static</span> <span class="keyword">thread_local</span> std::vector&lt;Label *&gt; tl_labels_to_dominate;</div>
<div class="line"><span class="lineno">  247</span>    tl_labels_to_dominate.clear();</div>
<div class="line"><span class="lineno">  248</span>    tl_labels_to_dominate.reserve(</div>
<div class="line"><span class="lineno">  249</span>        64);  <span class="comment">// Pre-reserve space to avoid reallocations</span></div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    <span class="comment">// Process each strongly connected component (SCC) in topological order.</span></div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;scc_index : topological_order) {</div>
<div class="line"><span class="lineno">  253</span>        <span class="comment">// Prefetch the SCC data</span></div>
<div class="line"><span class="lineno">  254</span>        __builtin_prefetch(&amp;sorted_sccs[scc_index], 0, 3);</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordtype">bool</span> all_ext = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  258</span>            all_ext = <span class="keyword">true</span>;  <span class="comment">// Assume no new extensions until one occurs.</span></div>
<div class="line"><span class="lineno">  259</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;scc_buckets = sorted_sccs[scc_index];</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>            <span class="comment">// Prefetch the first few buckets</span></div>
<div class="line"><span class="lineno">  262</span>            <span class="keywordflow">if</span> (!scc_buckets.empty()) {</div>
<div class="line"><span class="lineno">  263</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; std::min(<span class="keywordtype">size_t</span>(4), scc_buckets.size());</div>
<div class="line"><span class="lineno">  264</span>                     ++i) {</div>
<div class="line"><span class="lineno">  265</span>                    __builtin_prefetch(&amp;buckets[scc_buckets[i]], 0, 3);</div>
<div class="line"><span class="lineno">  266</span>                }</div>
<div class="line"><span class="lineno">  267</span>            }</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> bucket_idx = 0; bucket_idx &lt; scc_buckets.size();</div>
<div class="line"><span class="lineno">  270</span>                 ++bucket_idx) {</div>
<div class="line"><span class="lineno">  271</span>                <span class="keyword">const</span> <span class="keyword">auto</span> bucket = scc_buckets[bucket_idx];</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>                <span class="comment">// Prefetch next bucket if available</span></div>
<div class="line"><span class="lineno">  274</span>                <span class="keywordflow">if</span> (bucket_idx + 4 &lt; scc_buckets.size()) {</div>
<div class="line"><span class="lineno">  275</span>                    __builtin_prefetch(&amp;buckets[scc_buckets[bucket_idx + 4]], 0,</div>
<div class="line"><span class="lineno">  276</span>                                       3);</div>
<div class="line"><span class="lineno">  277</span>                }</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>                <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket_labels = buckets[bucket].get_labels();</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>                <span class="comment">// Prefetch the first few labels</span></div>
<div class="line"><span class="lineno">  282</span>                <span class="keywordflow">if</span> (!bucket_labels.empty()) {</div>
<div class="line"><span class="lineno">  283</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><span class="lineno">  284</span>                         i &lt; std::min(<span class="keywordtype">size_t</span>(4), bucket_labels.size()); ++i) {</div>
<div class="line"><span class="lineno">  285</span>                        __builtin_prefetch(bucket_labels[i], 0, 3);</div>
<div class="line"><span class="lineno">  286</span>                    }</div>
<div class="line"><span class="lineno">  287</span>                }</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> label_idx = 0; label_idx &lt; bucket_labels.size();</div>
<div class="line"><span class="lineno">  290</span>                     ++label_idx) {</div>
<div class="line"><span class="lineno">  291</span>                    Label *label = bucket_labels[label_idx];</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>                    <span class="comment">// Prefetch next label if available</span></div>
<div class="line"><span class="lineno">  294</span>                    <span class="keywordflow">if</span> (label_idx + 4 &lt; bucket_labels.size()) {</div>
<div class="line"><span class="lineno">  295</span>                        __builtin_prefetch(bucket_labels[label_idx + 4], 0, 3);</div>
<div class="line"><span class="lineno">  296</span>                    }</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>                    <span class="comment">// Skip labels already processed.</span></div>
<div class="line"><span class="lineno">  299</span>                    <span class="keywordflow">if</span> (__builtin_expect(</div>
<div class="line"><span class="lineno">  300</span>                            label-&gt;<a class="code hl_variable" href="structLabel.html#a52f0ce94a73b1235d975ece70367b1ea">is_extended</a> || label-&gt;<a class="code hl_variable" href="structLabel.html#af36e4bfda4b5544e93ae446a31a49e7d">is_dominated</a>, 0))</div>
<div class="line"><span class="lineno">  301</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>                    <span class="comment">// For partial solutions, check resource feasibility.</span></div>
<div class="line"><span class="lineno">  304</span>                    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F != <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0a159adaee61ec4fa72f55b84ea7916261">Full::PSTEP</a> &amp;&amp; F != <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0ae902a36ade483cde97d806974068a10f">Full::TSP</a>) {</div>
<div class="line"><span class="lineno">  305</span>                        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (is_partial) {</div>
<div class="line"><span class="lineno">  306</span>                            <span class="keyword">const</span> <span class="keyword">auto</span> main_resource =</div>
<div class="line"><span class="lineno">  307</span>                                label-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>[main_res_index];</div>
<div class="line"><span class="lineno">  308</span>                            <span class="keywordflow">if</span> ((D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  309</span>                                 main_resource &gt; q_star_value) ||</div>
<div class="line"><span class="lineno">  310</span>                                (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab3263eb38f8903efc271cc7a760da510">Direction::Backward</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  311</span>                                 main_resource &lt;= q_star_value)) {</div>
<div class="line"><span class="lineno">  312</span>                                label-&gt;<a class="code hl_function" href="structLabel.html#a19a3474af3d3404369c0fe3cf1797ff2">set_extended</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  313</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  314</span>                            }</div>
<div class="line"><span class="lineno">  315</span>                        }</div>
<div class="line"><span class="lineno">  316</span>                    }</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>                    <span class="comment">// Clear the bitmap using memset (faster than std::fill for</span></div>
<div class="line"><span class="lineno">  319</span>                    <span class="comment">// large arrays).</span></div>
<div class="line"><span class="lineno">  320</span>                    std::memset(Bvisited.data(), 0,</div>
<div class="line"><span class="lineno">  321</span>                                <a class="code hl_variable" href="#aabb8cdfcc1c2c900494c2a18aa5feb75">n_segments</a> * <span class="keyword">sizeof</span>(uint64_t));</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>                    <span class="comment">// Check if the label is dominated by labels in smaller</span></div>
<div class="line"><span class="lineno">  324</span>                    <span class="comment">// buckets.</span></div>
<div class="line"><span class="lineno">  325</span>                    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (F != <a class="code hl_enumvalue" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0ae902a36ade483cde97d806974068a10f">Full::TSP</a>) {</div>
<div class="line"><span class="lineno">  326</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="#a8349140e5144647cfc32a12c9834a16f">DominatedInCompWiseSmallerBuckets&lt;D, S&gt;</a>(</div>
<div class="line"><span class="lineno">  327</span>                                label, bucket, c_bar, Bvisited, stat_n_dom))</div>
<div class="line"><span class="lineno">  328</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  329</span>                    }</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>                    <span class="comment">// Retrieve outgoing arcs for the current label.</span></div>
<div class="line"><span class="lineno">  332</span>                    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;node_arcs =</div>
<div class="line"><span class="lineno">  333</span>                        buckets[bucket].template get_bucket_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  334</span>                    <span class="keywordflow">if</span> (__builtin_expect(node_arcs.empty(), 0)) {</div>
<div class="line"><span class="lineno">  335</span>                        label-&gt;<a class="code hl_function" href="structLabel.html#a19a3474af3d3404369c0fe3cf1797ff2">set_extended</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  336</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  337</span>                    }</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>                    <span class="comment">// Prefetch first few arcs</span></div>
<div class="line"><span class="lineno">  340</span>                    <span class="keywordflow">if</span> (!node_arcs.empty()) {</div>
<div class="line"><span class="lineno">  341</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><span class="lineno">  342</span>                             i &lt; std::min(<span class="keywordtype">size_t</span>(4), node_arcs.size()); ++i) {</div>
<div class="line"><span class="lineno">  343</span>                            __builtin_prefetch(&amp;node_arcs[i], 0, 3);</div>
<div class="line"><span class="lineno">  344</span>                        }</div>
<div class="line"><span class="lineno">  345</span>                    }</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> arc_idx = 0; arc_idx &lt; node_arcs.size();</div>
<div class="line"><span class="lineno">  348</span>                         ++arc_idx) {</div>
<div class="line"><span class="lineno">  349</span>                        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;arc = node_arcs[arc_idx];</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>                        <span class="comment">// Prefetch next arc if available</span></div>
<div class="line"><span class="lineno">  352</span>                        <span class="keywordflow">if</span> (arc_idx + 4 &lt; node_arcs.size()) {</div>
<div class="line"><span class="lineno">  353</span>                            __builtin_prefetch(&amp;node_arcs[arc_idx + 4], 0, 3);</div>
<div class="line"><span class="lineno">  354</span>                        }</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>                        <span class="keyword">auto</span> new_label =</div>
<div class="line"><span class="lineno">  357</span>                            <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba3bc026b815790a05493fa56fc4b8d8bd">Extend&lt;D, S, ArcType::Bucket, Mutability::Mut, F&gt;</a>(</div>
<div class="line"><span class="lineno">  358</span>                                label, arc);</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>                        <span class="comment">// Process each new label produced by the extension.</span></div>
<div class="line"><span class="lineno">  361</span>                        <span class="keywordflow">if</span> (new_label != <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  362</span>                            ++stat_n_labels;</div>
<div class="line"><span class="lineno">  363</span>                            <span class="keyword">const</span> <span class="keywordtype">int</span> to_bucket = new_label-&gt;vertex;</div>
<div class="line"><span class="lineno">  364</span>                            <span class="keyword">auto</span> &amp;mother_bucket = buckets[to_bucket];</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>                            <span class="comment">// Prefetch the mother bucket and its labels</span></div>
<div class="line"><span class="lineno">  367</span>                            __builtin_prefetch(&amp;mother_bucket, 0, 3);</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>                            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;to_bucket_labels =</div>
<div class="line"><span class="lineno">  370</span>                                mother_bucket.get_labels();</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>                            <span class="comment">// Prefetch first few destination bucket labels</span></div>
<div class="line"><span class="lineno">  373</span>                            <span class="keywordflow">if</span> (!to_bucket_labels.empty()) {</div>
<div class="line"><span class="lineno">  374</span>                                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><span class="lineno">  375</span>                                     i &lt; std::min(<span class="keywordtype">size_t</span>(4),</div>
<div class="line"><span class="lineno">  376</span>                                                  to_bucket_labels.size());</div>
<div class="line"><span class="lineno">  377</span>                                     ++i) {</div>
<div class="line"><span class="lineno">  378</span>                                    __builtin_prefetch(to_bucket_labels[i], 0,</div>
<div class="line"><span class="lineno">  379</span>                                                       3);</div>
<div class="line"><span class="lineno">  380</span>                                }</div>
<div class="line"><span class="lineno">  381</span>                            }</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>                            <span class="keywordtype">bool</span> dominated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  384</span>                            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (S == <a class="code hl_enumvalue" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba06c2cea18679d64399783748fa367bdd">Stage::One</a>) {</div>
<div class="line"><span class="lineno">  385</span>                                <span class="comment">// Stage One: mark higher-cost labels as</span></div>
<div class="line"><span class="lineno">  386</span>                                <span class="comment">// dominated.</span></div>
<div class="line"><span class="lineno">  387</span>                                <span class="keywordflow">for</span> (<span class="keyword">auto</span> *existing_label : to_bucket_labels) {</div>
<div class="line"><span class="lineno">  388</span>                                    <span class="keywordflow">if</span> (existing_label-&gt;is_dominated) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  389</span>                                    <span class="keywordflow">if</span> (label-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a> &lt; existing_label-&gt;cost)</div>
<div class="line"><span class="lineno">  390</span>                                        existing_label-&gt;set_dominated(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  391</span>                                    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  392</span>                                        dominated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  393</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  394</span>                                    }</div>
<div class="line"><span class="lineno">  395</span>                                }</div>
<div class="line"><span class="lineno">  396</span>                            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  397</span>                                <span class="comment">// Later stages: use a SIMD-friendly, unrolled</span></div>
<div class="line"><span class="lineno">  398</span>                                <span class="comment">// loop.</span></div>
<div class="line"><span class="lineno">  399</span>                                <span class="keyword">auto</span> check_dominance_in_bucket =</div>
<div class="line"><span class="lineno">  400</span>                                    [&amp;](<span class="keyword">const</span> std::pmr::vector&lt;Label *&gt; &amp;labels,</div>
<div class="line"><span class="lineno">  401</span>                                        uint &amp;stat_n_dom) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><span class="lineno">  402</span><span class="preprocessor">#ifdef __AVX2__</span></div>
<div class="line"><span class="lineno">  403</span>                                    <span class="keywordflow">if</span> (labels.size() &gt;= <a class="code hl_variable" href="Definitions_8h.html#ae78ef8566b42d93f1e174ff693a345eb">AVX_LIM</a>)</div>
<div class="line"><span class="lineno">  404</span>                                        <span class="keywordflow">return</span> <a class="code hl_function" href="BucketAVX_8h.html#ae227f266495f4f4b7271522f58d49b41">check_dominance_against_vector</a>&lt;</div>
<div class="line"><span class="lineno">  405</span>                                            D, S&gt;(new_label, labels,</div>
<div class="line"><span class="lineno">  406</span>                                                  <a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>,</div>
<div class="line"><span class="lineno">  407</span>                                                  <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(),</div>
<div class="line"><span class="lineno">  408</span>                                                  stat_n_dom);</div>
<div class="line"><span class="lineno">  409</span>                                    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  410</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  411</span>                                    {</div>
<div class="line"><span class="lineno">  412</span>                                        <span class="keyword">const</span> <span class="keywordtype">size_t</span> size = labels.size();</div>
<div class="line"><span class="lineno">  413</span>                                        <span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>                                        <span class="comment">// Process one label at a time but with</span></div>
<div class="line"><span class="lineno">  416</span>                                        <span class="comment">// prefetching ahead</span></div>
<div class="line"><span class="lineno">  417</span>                                        <span class="keywordflow">for</span> (; i &lt; size; ++i) {</div>
<div class="line"><span class="lineno">  418</span>                                            <span class="comment">// Prefetch several labels ahead for</span></div>
<div class="line"><span class="lineno">  419</span>                                            <span class="comment">// better memory access patterns</span></div>
<div class="line"><span class="lineno">  420</span>                                            <span class="keywordflow">if</span> (i + 8 &lt; size) {</div>
<div class="line"><span class="lineno">  421</span>                                                __builtin_prefetch(</div>
<div class="line"><span class="lineno">  422</span>                                                    labels[i + 8], 0, 3);</div>
<div class="line"><span class="lineno">  423</span>                                            }</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>                                            <span class="comment">// Process one label with branch</span></div>
<div class="line"><span class="lineno">  426</span>                                            <span class="comment">// prediction hint</span></div>
<div class="line"><span class="lineno">  427</span>                                            Label *current_label = labels[i];</div>
<div class="line"><span class="lineno">  428</span>                                            <span class="keywordflow">if</span> (__builtin_expect(</div>
<div class="line"><span class="lineno">  429</span>                                                    !current_label</div>
<div class="line"><span class="lineno">  430</span>                                                         -&gt;<a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated</a>,</div>
<div class="line"><span class="lineno">  431</span>                                                    1)) {</div>
<div class="line"><span class="lineno">  432</span>                                                <span class="comment">// Cache access to current_label</span></div>
<div class="line"><span class="lineno">  433</span>                                                <span class="comment">// to avoid multiple</span></div>
<div class="line"><span class="lineno">  434</span>                                                <span class="comment">// dereferences</span></div>
<div class="line"><span class="lineno">  435</span>                                                <span class="keywordflow">if</span> (<a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(</div>
<div class="line"><span class="lineno">  436</span>                                                        new_label,</div>
<div class="line"><span class="lineno">  437</span>                                                        current_label)) {</div>
<div class="line"><span class="lineno">  438</span>                                                    ++stat_n_dom;</div>
<div class="line"><span class="lineno">  439</span>                                                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  440</span>                                                }</div>
<div class="line"><span class="lineno">  441</span>                                            }</div>
<div class="line"><span class="lineno">  442</span>                                        }</div>
<div class="line"><span class="lineno">  443</span>                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  444</span>                                    }</div>
<div class="line"><span class="lineno">  445</span>                                };</div>
<div class="line"><span class="lineno">  446</span>                                dominated = mother_bucket.check_dominance(</div>
<div class="line"><span class="lineno">  447</span>                                    new_label, check_dominance_in_bucket,</div>
<div class="line"><span class="lineno">  448</span>                                    stat_n_dom);</div>
<div class="line"><span class="lineno">  449</span>                            }</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>                            <span class="keywordflow">if</span> (!dominated) {</div>
<div class="line"><span class="lineno">  452</span>                                <span class="comment">// Reuse thread-local vector to avoid</span></div>
<div class="line"><span class="lineno">  453</span>                                <span class="comment">// re-allocation.</span></div>
<div class="line"><span class="lineno">  454</span>                                tl_labels_to_dominate.clear();</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>                                <span class="keyword">const</span> <span class="keywordtype">size_t</span> to_bucket_size =</div>
<div class="line"><span class="lineno">  457</span>                                    to_bucket_labels.size();</div>
<div class="line"><span class="lineno">  458</span>                                <span class="keywordtype">size_t</span> i = 0;</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>                                <span class="comment">// Process dominance checks in blocks for better</span></div>
<div class="line"><span class="lineno">  461</span>                                <span class="comment">// cache usage</span></div>
<div class="line"><span class="lineno">  462</span>                                <span class="keywordflow">for</span> (; i + 3 &lt; to_bucket_size; i += 4) {</div>
<div class="line"><span class="lineno">  463</span>                                    <span class="comment">// Prefetch ahead</span></div>
<div class="line"><span class="lineno">  464</span>                                    <span class="keywordflow">if</span> (i + 8 &lt; to_bucket_size) {</div>
<div class="line"><span class="lineno">  465</span>                                        __builtin_prefetch(</div>
<div class="line"><span class="lineno">  466</span>                                            to_bucket_labels[i + 4], 0, 3);</div>
<div class="line"><span class="lineno">  467</span>                                        __builtin_prefetch(</div>
<div class="line"><span class="lineno">  468</span>                                            to_bucket_labels[i + 5], 0, 3);</div>
<div class="line"><span class="lineno">  469</span>                                        __builtin_prefetch(</div>
<div class="line"><span class="lineno">  470</span>                                            to_bucket_labels[i + 6], 0, 3);</div>
<div class="line"><span class="lineno">  471</span>                                        __builtin_prefetch(</div>
<div class="line"><span class="lineno">  472</span>                                            to_bucket_labels[i + 7], 0, 3);</div>
<div class="line"><span class="lineno">  473</span>                                    }</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>                                    <span class="keyword">auto</span> *l0 = to_bucket_labels[i];</div>
<div class="line"><span class="lineno">  476</span>                                    <span class="keyword">auto</span> *l1 = to_bucket_labels[i + 1];</div>
<div class="line"><span class="lineno">  477</span>                                    <span class="keyword">auto</span> *l2 = to_bucket_labels[i + 2];</div>
<div class="line"><span class="lineno">  478</span>                                    <span class="keyword">auto</span> *l3 = to_bucket_labels[i + 3];</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>                                    <span class="keywordflow">if</span> (!l0-&gt;is_dominated &amp;&amp;</div>
<div class="line"><span class="lineno">  481</span>                                        <a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(l0, new_label))</div>
<div class="line"><span class="lineno">  482</span>                                        tl_labels_to_dominate.push_back(l0);</div>
<div class="line"><span class="lineno">  483</span>                                    <span class="keywordflow">if</span> (!l1-&gt;is_dominated &amp;&amp;</div>
<div class="line"><span class="lineno">  484</span>                                        <a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(l1, new_label))</div>
<div class="line"><span class="lineno">  485</span>                                        tl_labels_to_dominate.push_back(l1);</div>
<div class="line"><span class="lineno">  486</span>                                    <span class="keywordflow">if</span> (!l2-&gt;is_dominated &amp;&amp;</div>
<div class="line"><span class="lineno">  487</span>                                        <a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(l2, new_label))</div>
<div class="line"><span class="lineno">  488</span>                                        tl_labels_to_dominate.push_back(l2);</div>
<div class="line"><span class="lineno">  489</span>                                    <span class="keywordflow">if</span> (!l3-&gt;is_dominated &amp;&amp;</div>
<div class="line"><span class="lineno">  490</span>                                        <a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(l3, new_label))</div>
<div class="line"><span class="lineno">  491</span>                                        tl_labels_to_dominate.push_back(l3);</div>
<div class="line"><span class="lineno">  492</span>                                }</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>                                <span class="comment">// Process remaining labels</span></div>
<div class="line"><span class="lineno">  495</span>                                <span class="keywordflow">for</span> (; i &lt; to_bucket_size; ++i) {</div>
<div class="line"><span class="lineno">  496</span>                                    <span class="keyword">auto</span> *existing_label = to_bucket_labels[i];</div>
<div class="line"><span class="lineno">  497</span>                                    <span class="keywordflow">if</span> (!existing_label-&gt;is_dominated &amp;&amp;</div>
<div class="line"><span class="lineno">  498</span>                                        <a class="code hl_function" href="#a469baec04539f3c8ae984f5558fbfc25">is_dominated&lt;D, S&gt;</a>(existing_label,</div>
<div class="line"><span class="lineno">  499</span>                                                           new_label))</div>
<div class="line"><span class="lineno">  500</span>                                        tl_labels_to_dominate.push_back(</div>
<div class="line"><span class="lineno">  501</span>                                            existing_label);</div>
<div class="line"><span class="lineno">  502</span>                                }</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>                                <span class="comment">// Mark dominated labels in batch</span></div>
<div class="line"><span class="lineno">  505</span>                                <span class="keywordflow">for</span> (<span class="keyword">auto</span> *existing_label :</div>
<div class="line"><span class="lineno">  506</span>                                     tl_labels_to_dominate)</div>
<div class="line"><span class="lineno">  507</span>                                    existing_label-&gt;set_dominated(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>                                ++n_labels;</div>
<div class="line"><span class="lineno">  510</span><span class="preprocessor">#ifdef SORTED_LABELS</span></div>
<div class="line"><span class="lineno">  511</span>                                mother_bucket.add_sorted_label(new_label);</div>
<div class="line"><span class="lineno">  512</span><span class="preprocessor">#elif defined(LIMITED_BUCKETS)</span></div>
<div class="line"><span class="lineno">  513</span>                                mother_bucket.sorted_label(new_label,</div>
<div class="line"><span class="lineno">  514</span>                                                           BUCKET_CAPACITY);</div>
<div class="line"><span class="lineno">  515</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  516</span>                                mother_bucket.add_label(new_label);</div>
<div class="line"><span class="lineno">  517</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  518</span>                                <span class="comment">// Mark that a new extension was added.</span></div>
<div class="line"><span class="lineno">  519</span>                                all_ext = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  520</span>                            }</div>
<div class="line"><span class="lineno">  521</span>                        }</div>
<div class="line"><span class="lineno">  522</span>                    }</div>
<div class="line"><span class="lineno">  523</span>                    label-&gt;<a class="code hl_function" href="structLabel.html#a19a3474af3d3404369c0fe3cf1797ff2">set_extended</a>(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  524</span>                }</div>
<div class="line"><span class="lineno">  525</span>            }</div>
<div class="line"><span class="lineno">  526</span>        } <span class="keywordflow">while</span> (!all_ext);</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>        <span class="comment">// Update c_bar values for all buckets in the current SCC.</span></div>
<div class="line"><span class="lineno">  529</span>        <span class="keyword">auto</span> sorted_buckets = sorted_sccs[scc_index];</div>
<div class="line"><span class="lineno">  530</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  531</span>            pdqsort(sorted_buckets.begin(), sorted_buckets.end(),</div>
<div class="line"><span class="lineno">  532</span>                    [&amp;](<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b) {</div>
<div class="line"><span class="lineno">  533</span>                        return buckets[a].get_lb() &lt; buckets[b].get_lb();</div>
<div class="line"><span class="lineno">  534</span>                    });</div>
<div class="line"><span class="lineno">  535</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  536</span>            pdqsort(sorted_buckets.begin(), sorted_buckets.end(),</div>
<div class="line"><span class="lineno">  537</span>                    [&amp;](<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b) {</div>
<div class="line"><span class="lineno">  538</span>                        return buckets[a].get_ub() &gt; buckets[b].get_ub();</div>
<div class="line"><span class="lineno">  539</span>                    });</div>
<div class="line"><span class="lineno">  540</span>        }</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>        <span class="comment">// Prefetch data for c_bar updates</span></div>
<div class="line"><span class="lineno">  543</span>        <span class="keywordflow">if</span> (!sorted_buckets.empty()) {</div>
<div class="line"><span class="lineno">  544</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; std::min(<span class="keywordtype">size_t</span>(4), sorted_buckets.size());</div>
<div class="line"><span class="lineno">  545</span>                 ++i) {</div>
<div class="line"><span class="lineno">  546</span>                __builtin_prefetch(&amp;buckets[sorted_buckets[i]], 0, 3);</div>
<div class="line"><span class="lineno">  547</span>                __builtin_prefetch(&amp;Phi[sorted_buckets[i]], 0, 3);</div>
<div class="line"><span class="lineno">  548</span>            }</div>
<div class="line"><span class="lineno">  549</span>        }</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>        <span class="comment">// Batch processing of c_bar updates for improved cache locality.</span></div>
<div class="line"><span class="lineno">  552</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; sorted_buckets.size(); ++i) {</div>
<div class="line"><span class="lineno">  553</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> bucket = sorted_buckets[i];</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>            <span class="comment">// Prefetch data for next iterations</span></div>
<div class="line"><span class="lineno">  556</span>            <span class="keywordflow">if</span> (i + 4 &lt; sorted_buckets.size()) {</div>
<div class="line"><span class="lineno">  557</span>                __builtin_prefetch(&amp;buckets[sorted_buckets[i + 4]], 0, 3);</div>
<div class="line"><span class="lineno">  558</span>                __builtin_prefetch(&amp;Phi[sorted_buckets[i + 4]], 0, 3);</div>
<div class="line"><span class="lineno">  559</span>            }</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>            <span class="keywordtype">double</span> min_c_bar = buckets[bucket].get_cb();</div>
<div class="line"><span class="lineno">  562</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;phi_buckets = Phi[bucket];</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>            <span class="comment">// Prefetch first few phi buckets</span></div>
<div class="line"><span class="lineno">  565</span>            <span class="keywordflow">if</span> (!phi_buckets.empty()) {</div>
<div class="line"><span class="lineno">  566</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; std::min(<span class="keywordtype">size_t</span>(4), phi_buckets.size());</div>
<div class="line"><span class="lineno">  567</span>                     ++j) {</div>
<div class="line"><span class="lineno">  568</span>                    __builtin_prefetch(&amp;c_bar[phi_buckets[j]], 0, 3);</div>
<div class="line"><span class="lineno">  569</span>                }</div>
<div class="line"><span class="lineno">  570</span>            }</div>
<div class="line"><span class="lineno">  571</span> </div>
<div class="line"><span class="lineno">  572</span>            <span class="comment">// Process phi buckets in blocks of 4 for better cache efficiency</span></div>
<div class="line"><span class="lineno">  573</span>            <span class="keywordtype">size_t</span> j = 0;</div>
<div class="line"><span class="lineno">  574</span>            <span class="keywordflow">for</span> (; j + 3 &lt; phi_buckets.size(); j += 4) {</div>
<div class="line"><span class="lineno">  575</span>                <span class="comment">// Prefetch next block</span></div>
<div class="line"><span class="lineno">  576</span>                <span class="keywordflow">if</span> (j + 8 &lt; phi_buckets.size()) {</div>
<div class="line"><span class="lineno">  577</span>                    __builtin_prefetch(&amp;c_bar[phi_buckets[j + 4]], 0, 3);</div>
<div class="line"><span class="lineno">  578</span>                    __builtin_prefetch(&amp;c_bar[phi_buckets[j + 5]], 0, 3);</div>
<div class="line"><span class="lineno">  579</span>                    __builtin_prefetch(&amp;c_bar[phi_buckets[j + 6]], 0, 3);</div>
<div class="line"><span class="lineno">  580</span>                    __builtin_prefetch(&amp;c_bar[phi_buckets[j + 7]], 0, 3);</div>
<div class="line"><span class="lineno">  581</span>                }</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>                <span class="comment">// Compute min across 4 values at once</span></div>
<div class="line"><span class="lineno">  584</span>                <span class="keywordtype">double</span> val0 = c_bar[phi_buckets[j]];</div>
<div class="line"><span class="lineno">  585</span>                <span class="keywordtype">double</span> val1 = c_bar[phi_buckets[j + 1]];</div>
<div class="line"><span class="lineno">  586</span>                <span class="keywordtype">double</span> val2 = c_bar[phi_buckets[j + 2]];</div>
<div class="line"><span class="lineno">  587</span>                <span class="keywordtype">double</span> val3 = c_bar[phi_buckets[j + 3]];</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>                min_c_bar = std::min(min_c_bar, std::min(std::min(val0, val1),</div>
<div class="line"><span class="lineno">  590</span>                                                         std::min(val2, val3)));</div>
<div class="line"><span class="lineno">  591</span>            }</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>            <span class="comment">// Process remaining phi buckets</span></div>
<div class="line"><span class="lineno">  594</span>            <span class="keywordflow">for</span> (; j &lt; phi_buckets.size(); ++j) {</div>
<div class="line"><span class="lineno">  595</span>                min_c_bar = std::min(min_c_bar, c_bar[phi_buckets[j]]);</div>
<div class="line"><span class="lineno">  596</span>            }</div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span>            c_bar[bucket] = min_c_bar;</div>
<div class="line"><span class="lineno">  599</span>        }</div>
<div class="line"><span class="lineno">  600</span>    }</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>    <span class="comment">// Store the best label from the labeling process.</span></div>
<div class="line"><span class="lineno">  603</span>    <span class="keywordflow">if</span> (Label *best_label_run =</div>
<div class="line"><span class="lineno">  604</span>            <a class="code hl_function" href="#abc324fb45e794482eb642adb8b0f664d">get_best_label&lt;D&gt;</a>(topological_order, c_bar, sccs))</div>
<div class="line"><span class="lineno">  605</span>        best_label = best_label_run;</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">return</span> c_bar;</div>
<div class="line"><span class="lineno">  608</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_aca8133200c1122e29b87b314d82604eba06c2cea18679d64399783748fa367bdd"><div class="ttname"><a href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eba06c2cea18679d64399783748fa367bdd">Stage::One</a></div><div class="ttdeci">@ One</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00078">Definitions.h:78</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a14021a42efc2a10246ddb4004f538a0f"><div class="ttname"><a href="#a14021a42efc2a10246ddb4004f538a0f">BucketGraph::stat_n_labels_fw</a></div><div class="ttdeci">int stat_n_labels_fw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00389">BucketGraph.h:389</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a3b02edcfecd793303cd6a248e4f88b8f"><div class="ttname"><a href="#a3b02edcfecd793303cd6a248e4f88b8f">BucketGraph::fw_sccs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; fw_sccs</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00270">BucketGraph.h:270</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a3ce737d29889971dd9163faa6052524d"><div class="ttname"><a href="#a3ce737d29889971dd9163faa6052524d">BucketGraph::n_bw_labels</a></div><div class="ttdeci">int n_bw_labels</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00381">BucketGraph.h:381</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a4c4f4665f8ab274f246fe01d24f51def"><div class="ttname"><a href="#a4c4f4665f8ab274f246fe01d24f51def">BucketGraph::bw_topological_order</a></div><div class="ttdeci">std::vector&lt; int &gt; bw_topological_order</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00269">BucketGraph.h:269</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a54765fb92f241628a510eb63571c22a2"><div class="ttname"><a href="#a54765fb92f241628a510eb63571c22a2">BucketGraph::fw_topological_order</a></div><div class="ttdeci">std::vector&lt; int &gt; fw_topological_order</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00268">BucketGraph.h:268</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a59c94817c07ee10346ec61799e55372b"><div class="ttname"><a href="#a59c94817c07ee10346ec61799e55372b">BucketGraph::bw_sccs_sorted</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; bw_sccs_sorted</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00273">BucketGraph.h:273</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a5e92704829aedd6e29ea78db17a5f725"><div class="ttname"><a href="#a5e92704829aedd6e29ea78db17a5f725">BucketGraph::stat_n_dom_bw</a></div><div class="ttdeci">uint stat_n_dom_bw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00392">BucketGraph.h:392</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a627a0f568abe2300fc890ade399580ab"><div class="ttname"><a href="#a627a0f568abe2300fc890ade399580ab">BucketGraph::n_fw_labels</a></div><div class="ttdeci">int n_fw_labels</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00380">BucketGraph.h:380</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a6a345b497512a5c4643fdff296ee7cc3"><div class="ttname"><a href="#a6a345b497512a5c4643fdff296ee7cc3">BucketGraph::bw_sccs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; bw_sccs</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00271">BucketGraph.h:271</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a8349140e5144647cfc32a12c9834a16f"><div class="ttname"><a href="#a8349140e5144647cfc32a12c9834a16f">BucketGraph::DominatedInCompWiseSmallerBuckets</a></div><div class="ttdeci">bool DominatedInCompWiseSmallerBuckets(const Label *L, int bucket, const std::vector&lt; double &gt; &amp;c_bar, std::vector&lt; uint64_t &gt; &amp;Bvisited, uint &amp;stat_n_dom) noexcept</div></div>
<div class="ttc" id="aclassBucketGraph_html_a946362de3ef65c33ec847f671caa89bf"><div class="ttname"><a href="#a946362de3ef65c33ec847f671caa89bf">BucketGraph::stat_n_dom_fw</a></div><div class="ttdeci">uint stat_n_dom_fw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00391">BucketGraph.h:391</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_ac287ad78f9bc8de787196b4abbc88a57"><div class="ttname"><a href="#ac287ad78f9bc8de787196b4abbc88a57">BucketGraph::fw_sccs_sorted</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; fw_sccs_sorted</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00272">BucketGraph.h:272</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_acc984d67eb18784f890ad2965cceecf0"><div class="ttname"><a href="#acc984d67eb18784f890ad2965cceecf0">BucketGraph::bw_ordered_sccs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; bw_ordered_sccs</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00267">BucketGraph.h:267</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_accf4e37b839073ff25d96f21d597241c"><div class="ttname"><a href="#accf4e37b839073ff25d96f21d597241c">BucketGraph::fw_ordered_sccs</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; fw_ordered_sccs</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00266">BucketGraph.h:266</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_adccf2c5d28f7f38e189524998ef647eb"><div class="ttname"><a href="#adccf2c5d28f7f38e189524998ef647eb">BucketGraph::stat_n_labels_bw</a></div><div class="ttdeci">int stat_n_labels_bw</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00390">BucketGraph.h:390</a></div></div>
<div class="ttc" id="astructLabel_html_a19a3474af3d3404369c0fe3cf1797ff2"><div class="ttname"><a href="structLabel.html#a19a3474af3d3404369c0fe3cf1797ff2">Label::set_extended</a></div><div class="ttdeci">void set_extended(bool extended)</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00066">Label.h:66</a></div></div>
<div class="ttc" id="astructLabel_html_a52f0ce94a73b1235d975ece70367b1ea"><div class="ttname"><a href="structLabel.html#a52f0ce94a73b1235d975ece70367b1ea">Label::is_extended</a></div><div class="ttdeci">bool is_extended</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00034">Label.h:34</a></div></div>
<div class="ttc" id="astructLabel_html_af36e4bfda4b5544e93ae446a31a49e7d"><div class="ttname"><a href="structLabel.html#af36e4bfda4b5544e93ae446a31a49e7d">Label::is_dominated</a></div><div class="ttdeci">bool is_dominated</div><div class="ttdef"><b>Definition</b> <a href="Label_8h_source.html#l00043">Label.h:43</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_aa05e883574a58a277e1dbf8cfcdcde11_cgraph.png" border="0" usemap="#aclassBucketGraph_aa05e883574a58a277e1dbf8cfcdcde11_cgraph" alt=""/></div>
<map name="aclassBucketGraph_aa05e883574a58a277e1dbf8cfcdcde11_cgraph" id="aclassBucketGraph_aa05e883574a58a277e1dbf8cfcdcde11_cgraph">
<area shape="rect" title=" " alt="" coords="5,811,153,852"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="1416,354,1558,394"/>
<area shape="poly" title=" " alt="" coords="80,810,93,693,118,519,134,428,153,344,175,273,198,222,262,129,292,91,325,60,361,35,403,18,452,7,510,3,988,3,1102,3,1150,5,1194,11,1236,23,1279,41,1323,68,1370,105,1395,131,1417,160,1449,223,1471,286,1483,338,1477,339,1465,287,1444,225,1412,163,1391,134,1367,109,1319,73,1276,46,1235,28,1193,17,1150,11,1102,9,988,9,510,9,452,12,404,23,364,40,328,64,296,95,266,132,203,225,180,275,158,345,139,429,123,520,98,694,85,811"/>
<area shape="rect" href="BucketAVX_8h.html#ae227f266495f4f4b7271522f58d49b41" title=" " alt="" coords="203,894,378,934"/>
<area shape="poly" title=" " alt="" coords="134,850,223,885,221,890,132,855"/>
<area shape="rect" href="classBucketGraph.html#a8349140e5144647cfc32a12c9834a16f" title=" " alt="" coords="203,959,379,1000"/>
<area shape="poly" title=" " alt="" coords="99,850,143,897,172,922,202,944,212,950,209,954,199,948,168,926,140,901,96,854"/>
<area shape="rect" href="classBucketGraph.html#abc324fb45e794482eb642adb8b0f664d" title="Retrieves the best label from the bucket graph based on the given topological order,..." alt="" coords="1185,558,1338,598"/>
<area shape="poly" title=" " alt="" coords="154,835,384,853,683,871,828,876,955,876,1051,871,1085,865,1106,857,1137,834,1164,805,1187,773,1206,739,1234,670,1251,613,1256,615,1239,672,1211,741,1192,776,1168,809,1141,838,1108,862,1086,870,1052,876,955,882,828,881,682,877,384,859,153,841"/>
<area shape="rect" href="classBucketGraph.html#a469baec04539f3c8ae984f5558fbfc25" title=" " alt="" coords="201,260,381,286"/>
<area shape="poly" title=" " alt="" coords="86,810,277,299,282,301,91,812"/>
<area shape="rect" href="structLabel.html#a19a3474af3d3404369c0fe3cf1797ff2" title=" " alt="" coords="223,1024,359,1050"/>
<area shape="poly" title=" " alt="" coords="91,851,107,886,131,929,163,972,202,1009,210,1014,207,1019,199,1014,159,976,126,932,102,888,86,853"/>
<area shape="rect" href="BucketAVX_8h.html#a1055d33f3fa0023a7782b354c84f30d6" title=" " alt="" coords="471,948,551,974"/>
<area shape="poly" title=" " alt="" coords="379,930,457,947,455,952,378,935"/>
<area shape="rect" href="BucketAVX_8h.html#a4f6006d66fa23bc62965a93c057360af" title=" " alt="" coords="446,899,576,924"/>
<area shape="poly" title=" " alt="" coords="379,910,431,910,431,915,379,916"/>
<area shape="poly" title=" " alt="" coords="1311,555,1340,539,1367,520,1395,493,1422,463,1463,406,1467,409,1426,466,1399,497,1370,524,1342,544,1314,560"/>
<area shape="poly" title=" " alt="" coords="256,261,249,251,253,242,267,235,291,233,317,236,330,243,328,248,315,241,291,239,268,241,256,245,254,251,260,258"/>
<area shape="rect" href="classBucketGraph.html#a8153a13e14a6233434a3f7ef3230f8b8" title=" " alt="" coords="429,512,593,553"/>
<area shape="poly" title=" " alt="" coords="305,284,485,499,481,502,301,288"/>
<area shape="rect" href="classBucketGraph.html#a395e609a3dcdb495e2a43da1742af7bd" title="Eliminates bucket arcs based on a given threshold." alt="" coords="873,275,1100,300"/>
<area shape="poly" title=" " alt="" coords="381,272,857,282,857,287,381,277"/>
<area shape="rect" href="classBucketGraph.html#a07082dcbaab12cbea07fbe16acee9bcf" title="Get the opposite bucket number for a given bucket index." alt="" coords="1173,119,1350,160"/>
<area shape="poly" title=" " alt="" coords="301,258,352,205,388,175,428,149,484,123,531,110,641,95,772,79,874,71,977,74,1107,90,1150,99,1192,111,1190,116,1149,104,1107,95,977,80,874,76,772,84,642,101,532,115,486,128,430,154,391,179,356,209,305,261"/>
<area shape="rect" href="classBucketGraph.html#a394e55293111f386caf44ed9e67c5653" title=" " alt="" coords="1155,260,1368,286"/>
<area shape="poly" title=" " alt="" coords="313,257,364,228,428,197,532,155,579,142,641,130,773,106,878,90,929,89,982,94,1041,107,1108,130,1165,177,1238,247,1234,251,1161,181,1106,135,1039,113,981,99,929,94,879,96,774,112,642,135,580,147,534,160,430,202,367,233,315,262"/>
<area shape="rect" href="classBucketGraph.html#a84a8345b541e0e44e44e6215a9cdc779" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="866,361,1107,387"/>
<area shape="poly" title=" " alt="" coords="382,283,878,356,878,361,381,288"/>
<area shape="rect" href="classBucketGraph.html#a1546f6d1eec5a80afaed3be7ccda0d4a" title=" " alt="" coords="641,144,818,185"/>
<area shape="poly" title=" " alt="" coords="346,257,628,187,629,192,347,262"/>
<area shape="poly" title=" " alt="" coords="478,556,355,634,202,739,119,803,116,799,199,735,352,630,475,551"/>
<area shape="rect" href="classBucketGraph.html#adea4cf77fe1775dac8bb3aa80b4c0dd4" title="Fixes the bucket arcs for the specified stage." alt="" coords="658,512,801,553"/>
<area shape="poly" title=" " alt="" coords="593,530,643,530,643,535,593,535"/>
<area shape="rect" href="classBucketGraph.html#a8b934dd825af2c3536269ac190b398b3" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="910,558,1063,598"/>
<area shape="poly" title=" " alt="" coords="586,551,642,562,774,574,894,577,894,582,773,579,641,567,585,556"/>
<area shape="rect" href="classBucketGraph.html#a66484f0fb3c999584f77880b3dd54f7c" title="Runs forward and backward labeling algorithms in parallel and synchronizes the results." alt="" coords="900,632,1072,673"/>
<area shape="poly" title=" " alt="" coords="560,551,642,581,768,612,885,635,884,640,767,617,641,586,559,556"/>
<area shape="rect" href="classBucketGraph.html#a858b68317a9a0a60723698509d78d575" title="Checks the feasibility of a given forward and backward label." alt="" coords="917,144,1056,185"/>
<area shape="poly" title=" " alt="" coords="519,511,563,423,598,370,639,322,701,273,770,235,839,205,901,184,903,189,841,210,772,239,704,278,643,325,602,373,568,425,523,513"/>
<area shape="rect" href="classBucketGraph.html#a7d2d975e13b1fdeaafca99aa6fb29486" title=" " alt="" coords="910,210,1063,250"/>
<area shape="poly" title=" " alt="" coords="527,510,576,457,640,397,698,351,746,318,797,290,865,260,894,249,896,254,867,265,799,295,749,323,701,356,643,401,579,461,531,514"/>
<area shape="poly" title=" " alt="" coords="512,512,523,452,546,370,562,326,583,281,609,239,639,202,651,192,654,196,643,205,613,242,588,284,567,328,551,372,528,454,518,513"/>
<area shape="rect" href="classBucketGraph.html#ac36d91be18f5093577ee00a38ceb771e" title=" " alt="" coords="658,412,801,438"/>
<area shape="poly" title=" " alt="" coords="543,510,588,482,640,454,672,441,674,446,642,459,591,487,545,514"/>
<area shape="rect" href="classBucketGraph.html#a7ffbc9d76efacdae82ed10f5b7009348" title=" " alt="" coords="917,462,1056,502"/>
<area shape="poly" title=" " alt="" coords="586,509,641,498,778,484,901,480,902,485,778,490,642,503,587,514"/>
<area shape="rect" href="classBucketGraph.html#a06036b30388d0f91c677340bff2c6b6a" title="Applies heuristic fixing to the current solution." alt="" coords="653,678,806,718"/>
<area shape="poly" title=" " alt="" coords="531,552,579,603,610,632,643,657,661,668,659,673,640,662,606,636,575,607,527,555"/>
<area shape="rect" href="classBucketGraph.html#a2379392ccc37be9a4a27800b116465d2" title="Resets all fixed arcs in the graph." alt="" coords="920,718,1052,758"/>
<area shape="poly" title=" " alt="" coords="521,552,536,592,561,641,596,690,618,711,643,728,674,742,707,752,776,762,844,761,904,754,905,759,844,766,776,767,706,758,672,747,640,732,615,715,592,694,557,644,531,594,516,554"/>
<area shape="rect" href="classBucketGraph.html#a3e1492bb1589d5edb06e80a753d000dd" title="Resets the forward and backward label pools." alt="" coords="905,821,1068,847"/>
<area shape="poly" title=" " alt="" coords="520,553,534,599,558,658,594,718,617,745,643,768,671,786,701,800,765,820,830,831,889,835,889,840,829,836,764,825,699,805,668,790,640,772,613,749,589,721,553,660,529,600,515,554"/>
<area shape="poly" title=" " alt="" coords="756,510,786,482,815,449,830,421,837,397,845,373,864,347,895,322,928,304,931,309,897,327,868,351,850,375,842,399,835,423,820,452,790,486,759,514"/>
<area shape="poly" title=" " alt="" coords="802,543,895,559,894,565,801,548"/>
<area shape="poly" title=" " alt="" coords="763,510,950,393,952,398,765,514"/>
<area shape="poly" title=" " alt="" coords="765,551,812,579,867,608,906,624,904,629,865,613,810,584,762,556"/>
<area shape="poly" title=" " alt="" coords="1065,298,1402,357,1401,362,1064,304"/>
<area shape="poly" title=" " alt="" coords="1074,271,1106,260,1141,240,1174,217,1228,169,1232,173,1177,221,1144,245,1108,265,1076,276"/>
<area shape="poly" title=" " alt="" coords="1100,279,1139,277,1140,282,1101,284"/>
<area shape="poly" title=" " alt="" coords="1317,284,1369,302,1443,343,1441,347,1367,307,1315,289"/>
<area shape="poly" title=" " alt="" coords="1059,555,1203,507,1286,476,1367,441,1440,401,1443,405,1370,446,1288,481,1205,512,1061,560"/>
<area shape="poly" title=" " alt="" coords="1064,575,1170,575,1170,581,1064,581"/>
<area shape="poly" title=" " alt="" coords="1108,371,1401,371,1401,377,1108,377"/>
<area shape="poly" title=" " alt="" coords="938,676,867,708,843,722,819,733,731,757,641,777,461,806,297,823,169,831,168,826,297,818,460,801,640,772,730,752,817,728,841,717,864,704,936,671"/>
<area shape="poly" title=" " alt="" coords="818,162,901,162,901,167,818,167"/>
<area shape="poly" title=" " alt="" coords="813,183,895,204,894,209,812,188"/>
<area shape="poly" title=" " alt="" coords="801,417,1401,377,1401,382,801,423"/>
<area shape="poly" title=" " alt="" coords="791,436,903,461,902,466,790,441"/>
<area shape="poly" title=" " alt="" coords="762,675,810,647,865,618,904,602,906,607,867,623,812,651,765,680"/>
<area shape="poly" title=" " alt="" coords="806,682,884,668,885,673,807,687"/>
<area shape="poly" title=" " alt="" coords="806,707,905,723,904,728,806,713"/>
<area shape="poly" title=" " alt="" coords="771,717,948,811,946,816,769,721"/>
</map>
</div>

</div>
</div>
<a id="a089363d826484da9b9af636fe4ea5ce4" name="a089363d826484da9b9af636fe4ea5ce4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a089363d826484da9b9af636fe4ea5ce4">&#9670;&#160;</a></span>mono_initialization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::mono_initialization </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> for the mono-directional case. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00681">681</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  681</span>                                      {</div>
<div class="line"><span class="lineno">  682</span>    <span class="comment">// Clear previous data</span></div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.clear();</div>
<div class="line"><span class="lineno">  684</span>    <a class="code hl_variable" href="#aa72258eba03facf9417104e9377c8aa1">merged_labels</a>.reserve(100);</div>
<div class="line"><span class="lineno">  685</span>    <a class="code hl_variable" href="#a2ad2f263fc468798163873408972df73">fw_c_bar</a>.clear();</div>
<div class="line"><span class="lineno">  686</span>    <a class="code hl_variable" href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">bw_c_bar</a>.clear();</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>    <a class="code hl_variable" href="#a0337f4eec91163935cea2b512e508586">dominance_checks_per_bucket</a>.assign(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a> + 1, 0);</div>
<div class="line"><span class="lineno">  689</span>    <a class="code hl_variable" href="#a7b856c299c32015534f112d5c4d8ffbc">non_dominated_labels_per_bucket</a> = 0;</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>    <span class="comment">// Resize cost vectors to match the number of buckets</span></div>
<div class="line"><span class="lineno">  692</span>    <a class="code hl_variable" href="#a2ad2f263fc468798163873408972df73">fw_c_bar</a>.resize(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, std::numeric_limits&lt;double&gt;::infinity());</div>
<div class="line"><span class="lineno">  693</span>    <a class="code hl_variable" href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">bw_c_bar</a>.resize(<a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>, std::numeric_limits&lt;double&gt;::infinity());</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    <span class="keyword">auto</span> &amp;num_buckets =</div>
<div class="line"><span class="lineno">  696</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;Direction::Forward&gt;</a>(<a class="code hl_variable" href="#a782519bd84892e3cb57bb237395dcfad">num_buckets_fw</a>, <a class="code hl_variable" href="#aaeaf126e28cef7e5d242c91e6ffcc379">num_buckets_bw</a>);</div>
<div class="line"><span class="lineno">  697</span>    <span class="keyword">auto</span> &amp;num_bucket_index = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;Direction::Forward&gt;</a>(</div>
<div class="line"><span class="lineno">  698</span>        <a class="code hl_variable" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a>, <a class="code hl_variable" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a>);</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>    <span class="keywordtype">int</span> num_intervals = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size();</div>
<div class="line"><span class="lineno">  701</span>    std::vector&lt;double&gt; total_ranges(num_intervals);</div>
<div class="line"><span class="lineno">  702</span>    std::vector&lt;double&gt; base_intervals(num_intervals);</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>    <span class="keyword">auto</span> &amp;VRPNode = nodes[0];  <span class="comment">// Example for the first node</span></div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>    <span class="comment">// Calculate base intervals and total ranges for each resource dimension</span></div>
<div class="line"><span class="lineno">  707</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; intervals.size(); ++r) {</div>
<div class="line"><span class="lineno">  708</span>        base_intervals[r] =</div>
<div class="line"><span class="lineno">  709</span>            (VRPNode.ub[r] - VRPNode.lb[r]) / intervals[r].interval;</div>
<div class="line"><span class="lineno">  710</span>    }</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>    <span class="comment">// Clear forward and backward buckets</span></div>
<div class="line"><span class="lineno">  713</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> b = 0; b &lt; <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.size(); b++) {</div>
<div class="line"><span class="lineno">  714</span>        <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>[b].clear();</div>
<div class="line"><span class="lineno">  715</span>        <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>[b].clear();</div>
<div class="line"><span class="lineno">  716</span>    }</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>    <span class="comment">// Initialize forward buckets (generic for multiple dimensions)</span></div>
<div class="line"><span class="lineno">  719</span>    std::vector&lt;int&gt; current_pos(num_intervals, 0);</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>    std::vector&lt;double&gt; interval_starts(num_intervals);</div>
<div class="line"><span class="lineno">  722</span>    std::vector&lt;double&gt; interval_ends(num_intervals);</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>    <span class="comment">// Initialize interval_starts to lower bounds and interval_ends to upper</span></div>
<div class="line"><span class="lineno">  725</span>    <span class="comment">// bounds</span></div>
<div class="line"><span class="lineno">  726</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno">  727</span>        interval_starts[r] = VRPNode.lb[r];</div>
<div class="line"><span class="lineno">  728</span>        interval_ends[r] = VRPNode.ub[r];</div>
<div class="line"><span class="lineno">  729</span>    }</div>
<div class="line"><span class="lineno">  730</span>    <span class="keywordtype">int</span> offset_fw = 0;</div>
<div class="line"><span class="lineno">  731</span>    <span class="keywordtype">int</span> offset_bw = 0;</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>    <span class="comment">// Lambda to handle forward and backward direction initialization across</span></div>
<div class="line"><span class="lineno">  734</span>    <span class="comment">// combinations</span></div>
<div class="line"><span class="lineno">  735</span>    <span class="keyword">auto</span> initialize_intervals_combinations = [&amp;](<span class="keywordtype">bool</span> is_forward) {</div>
<div class="line"><span class="lineno">  736</span>        <span class="keywordtype">int</span> &amp;offset = is_forward ? offset_fw : offset_bw;</div>
<div class="line"><span class="lineno">  737</span>        <span class="keyword">auto</span> &amp;label_pool = is_forward ? <a class="code hl_variable" href="#a122e64987e05917c0fa982a63228d2e6">label_pool_fw</a> : <a class="code hl_variable" href="#a4607757f8a773ef38967f88448cec5fd">label_pool_bw</a>;</div>
<div class="line"><span class="lineno">  738</span>        <span class="keyword">auto</span> &amp;buckets = is_forward ? <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a> : <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>;</div>
<div class="line"><span class="lineno">  739</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;depot_id = is_forward ? <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.depot : <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.end_depot;</div>
<div class="line"><span class="lineno">  740</span>        <span class="comment">// print depot_id</span></div>
<div class="line"><span class="lineno">  741</span>        <span class="keywordtype">int</span> calculated_index_base =</div>
<div class="line"><span class="lineno">  742</span>            is_forward ? <a class="code hl_variable" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.depot]</div>
<div class="line"><span class="lineno">  743</span>                       : <a class="code hl_variable" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.end_depot];</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>        std::vector&lt;int&gt; current_pos(</div>
<div class="line"><span class="lineno">  746</span>            num_intervals,</div>
<div class="line"><span class="lineno">  747</span>            0);  <span class="comment">// Tracks current position in each interval dimension</span></div>
<div class="line"><span class="lineno">  748</span>        std::vector&lt;double&gt; interval_bounds(num_intervals);</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>        <span class="comment">// Recursive lambda to generate all combinations of intervals</span></div>
<div class="line"><span class="lineno">  751</span>        std::function&lt;void(<span class="keywordtype">int</span>)&gt; generate_combinations = [&amp;](<span class="keywordtype">int</span> <a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a>) {</div>
<div class="line"><span class="lineno">  752</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> == num_intervals) {</div>
<div class="line"><span class="lineno">  753</span>                <span class="comment">// All dimensions processed, now initialize for the current</span></div>
<div class="line"><span class="lineno">  754</span>                <span class="comment">// combination</span></div>
<div class="line"><span class="lineno">  755</span>                <span class="keyword">auto</span> depot = label_pool-&gt;acquire();</div>
<div class="line"><span class="lineno">  756</span>                <span class="keywordtype">int</span> calculated_index = calculated_index_base + offset;</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>                <span class="comment">// Set interval_bounds to current combination of interval</span></div>
<div class="line"><span class="lineno">  759</span>                <span class="comment">// starts or ends</span></div>
<div class="line"><span class="lineno">  760</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno">  761</span>                    interval_bounds[r] =</div>
<div class="line"><span class="lineno">  762</span>                        is_forward</div>
<div class="line"><span class="lineno">  763</span>                            ? interval_starts[r] +</div>
<div class="line"><span class="lineno">  764</span>                                  current_pos[r] *</div>
<div class="line"><span class="lineno">  765</span>                                      <a class="code hl_function" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf">roundToTwoDecimalPlaces</a>(base_intervals[r])</div>
<div class="line"><span class="lineno">  766</span>                            : interval_ends[r] -</div>
<div class="line"><span class="lineno">  767</span>                                  current_pos[r] * <a class="code hl_function" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf">roundToTwoDecimalPlaces</a>(</div>
<div class="line"><span class="lineno">  768</span>                                                       base_intervals[r]);</div>
<div class="line"><span class="lineno">  769</span>                }</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>                <span class="comment">// print interval</span></div>
<div class="line"><span class="lineno">  772</span>                <span class="comment">// Initialize depot with the current interval boundaries</span></div>
<div class="line"><span class="lineno">  773</span>                depot-&gt;initialize(calculated_index, 0.0, interval_bounds,</div>
<div class="line"><span class="lineno">  774</span>                                  depot_id);</div>
<div class="line"><span class="lineno">  775</span>                depot-&gt;is_extended = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  776</span>                depot-&gt;cost += <a class="code hl_variable" href="#a77cc1fc155ee1234301d754b1e32d1f1">pstep_duals</a>.getThreeTwoDualValue(depot_id);</div>
<div class="line"><span class="lineno">  777</span>                depot-&gt;cost += <a class="code hl_variable" href="#a77cc1fc155ee1234301d754b1e32d1f1">pstep_duals</a>.getThreeThreeDualValue(depot_id);</div>
<div class="line"><span class="lineno">  778</span>                <a class="code hl_function" href="#ad36a543a58c7d3cd4ded313dd5069f03">set_node_visited</a>(depot-&gt;visited_bitmap, depot_id);</div>
<div class="line"><span class="lineno">  779</span>                <a class="code hl_define" href="Definitions_8h.html#ad656a59074b66ada867116d43ac275d3">SRC_MODE_BLOCK</a>(</div>
<div class="line"><span class="lineno">  780</span>                    depot-&gt;SRCmap.assign(<a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>-&gt;SRCDuals.size(), 0);)</div>
<div class="line"><span class="lineno">  781</span>                buckets[calculated_index].add_label(depot);</div>
<div class="line"><span class="lineno">  782</span>                buckets[calculated_index].node_id = depot_id;</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>                offset++;  <span class="comment">// Increment offset for each combination</span></div>
<div class="line"><span class="lineno">  785</span>                return;</div>
<div class="line"><span class="lineno">  786</span>            }</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>            <span class="comment">// Loop through each interval in the current dimension</span></div>
<div class="line"><span class="lineno">  789</span>            for (<span class="keywordtype">int</span> k = 0; k &lt; intervals[<a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a>].interval; ++k) {</div>
<div class="line"><span class="lineno">  790</span>                current_pos[<a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a>] = k;</div>
<div class="line"><span class="lineno">  791</span>                generate_combinations(<a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> + 1);</div>
<div class="line"><span class="lineno">  792</span>            }</div>
<div class="line"><span class="lineno">  793</span>        };</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>        <span class="comment">// Start generating combinations from depth 0</span></div>
<div class="line"><span class="lineno">  796</span>        generate_combinations(0);</div>
<div class="line"><span class="lineno">  797</span>    };</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>    <span class="comment">// Call the lambda for both forward and backward directions, ensuring</span></div>
<div class="line"><span class="lineno">  800</span>    <span class="comment">// all combinations are processed</span></div>
<div class="line"><span class="lineno">  801</span>    initialize_intervals_combinations(<span class="keyword">true</span>);  <span class="comment">// Forward direction</span></div>
<div class="line"><span class="lineno">  802</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a089363d826484da9b9af636fe4ea5ce4_cgraph.png" border="0" usemap="#aclassBucketGraph_a089363d826484da9b9af636fe4ea5ce4_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a089363d826484da9b9af636fe4ea5ce4_cgraph" id="aclassBucketGraph_a089363d826484da9b9af636fe4ea5ce4_cgraph">
<area shape="rect" title="Initializes the BucketGraph for the mono&#45;directional case." alt="" coords="5,70,215,96"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="282,5,424,46"/>
<area shape="poly" title=" " alt="" coords="167,67,266,43,268,48,168,72"/>
<area shape="rect" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf" title=" " alt="" coords="263,70,443,96"/>
<area shape="poly" title=" " alt="" coords="215,80,247,80,247,86,215,86"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="275,120,431,161"/>
<area shape="poly" title=" " alt="" coords="168,94,260,116,259,121,167,99"/>
</map>
</div>

</div>
</div>
<a id="a84a8345b541e0e44e44e6215a9cdc779" name="a84a8345b541e0e44e44e6215a9cdc779"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84a8345b541e0e44e44e6215a9cdc779">&#9670;&#160;</a></span>ObtainJumpBucketArcs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::ObtainJumpBucketArcs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Obtains jump bucket arcs for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>. </p>
<p>This function iterates over each bucket in the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a> and adds jump arcs to the set of buckets. It checks if each arc exists in the given Gamma vector for the current bucket. If an arc exists, it adds the corresponding bucket to the set of buckets to add jump arcs to. It then removes the non-component-wise minimal buckets from the set. Finally, it adds jump arcs from the current bucket to each bucket in the set. </p>

<p class="definition">Definition at line <a class="el" href="BucketJump_8h_source.html#l00390">390</a> of file <a class="el" href="BucketJump_8h_source.html">BucketJump.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  390</span>                                       {</div>
<div class="line"><span class="lineno">  391</span>    <span class="comment">// Select direction-specific containers.</span></div>
<div class="line"><span class="lineno">  392</span>    <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  393</span>    <span class="keyword">auto</span> &amp;num_buckets_idx =</div>
<div class="line"><span class="lineno">  394</span>        <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a>, <a class="code hl_variable" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a>);</div>
<div class="line"><span class="lineno">  395</span>    <span class="keyword">auto</span> &amp;num_buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a782519bd84892e3cb57bb237395dcfad">num_buckets_fw</a>, <a class="code hl_variable" href="#aaeaf126e28cef7e5d242c91e6ffcc379">num_buckets_bw</a>);</div>
<div class="line"><span class="lineno">  396</span>    <span class="keyword">auto</span> &amp;Phi = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>, <a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>);</div>
<div class="line"><span class="lineno">  397</span>    <span class="keyword">auto</span> &amp;buckets_size = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordtype">int</span> arc_counter = 0;      <span class="comment">// Count of jump arcs added</span></div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordtype">int</span> missing_counter = 0;  <span class="comment">// Count of missing paths</span></div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <span class="comment">// Clear jump arcs for all nodes.</span></div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;node : nodes) {</div>
<div class="line"><span class="lineno">  404</span>        node.clear_jump_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  405</span>    }</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>    <span class="comment">// Process each bucket.</span></div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b = 0; b &lt; buckets_size; ++b) {</div>
<div class="line"><span class="lineno">  409</span>        std::vector&lt;int&gt; B_bar;  <span class="comment">// Temporary storage for valid adjacent</span></div>
<div class="line"><span class="lineno">  410</span>                                 <span class="comment">// bucket indices</span></div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> current_node_id = buckets[b].node_id;</div>
<div class="line"><span class="lineno">  413</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket_arcs = buckets[b].template get_bucket_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  414</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;orig_arcs = nodes[current_node_id].template get_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>        <span class="comment">// Skip if there are no bucket arcs.</span></div>
<div class="line"><span class="lineno">  417</span>        <span class="keywordflow">if</span> (bucket_arcs.empty()) {</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  419</span>        }</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>        <span class="comment">// For each original arc from the current node...</span></div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;orig_arc : orig_arcs) {</div>
<div class="line"><span class="lineno">  423</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> from_node = orig_arc.from;</div>
<div class="line"><span class="lineno">  424</span>            <span class="keyword">const</span> <span class="keywordtype">int</span> to_node = orig_arc.to;</div>
<div class="line"><span class="lineno">  425</span>            <span class="keywordtype">bool</span> have_path = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>            <span class="comment">// Check if the current bucket arcs contain the desired</span></div>
<div class="line"><span class="lineno">  428</span>            <span class="comment">// path.</span></div>
<div class="line"><span class="lineno">  429</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;gamma : bucket_arcs) {</div>
<div class="line"><span class="lineno">  430</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="#aa1272b542e38efd60f4fe2ba7fc01d52">is_bucket_fixed&lt;D&gt;</a>(gamma.from_bucket, gamma.to_bucket)) {</div>
<div class="line"><span class="lineno">  431</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  432</span>                }</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> from_node_b = buckets[gamma.from_bucket].node_id;</div>
<div class="line"><span class="lineno">  435</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> to_node_b = buckets[gamma.to_bucket].node_id;</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>                <span class="keywordflow">if</span> (from_node == from_node_b &amp;&amp; to_node == to_node_b) {</div>
<div class="line"><span class="lineno">  438</span>                    have_path = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  439</span>                    <span class="keywordflow">break</span>;  <span class="comment">// Path found: no need to search further.</span></div>
<div class="line"><span class="lineno">  440</span>                }</div>
<div class="line"><span class="lineno">  441</span>            }</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>            <span class="comment">// If no valid path was found, try to obtain a jump arc.</span></div>
<div class="line"><span class="lineno">  444</span>            <span class="keywordflow">if</span> (!have_path) {</div>
<div class="line"><span class="lineno">  445</span>                ++missing_counter;</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>                <span class="comment">// Determine bucket range for the current node.</span></div>
<div class="line"><span class="lineno">  448</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> start_bucket = num_buckets_idx[current_node_id];</div>
<div class="line"><span class="lineno">  449</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> node_buckets = num_buckets[current_node_id];</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>                <span class="comment">// Lambda to process candidate adjacent buckets.</span></div>
<div class="line"><span class="lineno">  452</span>                <span class="keyword">auto</span> process_bucket = [&amp;](<span class="keywordtype">int</span> current_b, <span class="keywordtype">int</span> candidate_b) {</div>
<div class="line"><span class="lineno">  453</span>                    <span class="comment">// Only proceed if candidate bucket is adjacent (per</span></div>
<div class="line"><span class="lineno">  454</span>                    <span class="comment">// Phi).</span></div>
<div class="line"><span class="lineno">  455</span>                    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;phi_candidate = Phi[candidate_b];</div>
<div class="line"><span class="lineno">  456</span>                    <span class="keywordflow">if</span> (std::find(phi_candidate.begin(), phi_candidate.end(),</div>
<div class="line"><span class="lineno">  457</span>                                  current_b) == phi_candidate.end())</div>
<div class="line"><span class="lineno">  458</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>                    <span class="comment">// Check candidate bucket&#39;s arcs.</span></div>
<div class="line"><span class="lineno">  461</span>                    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;candidate_arcs =</div>
<div class="line"><span class="lineno">  462</span>                        buckets[candidate_b].template get_bucket_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  463</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;gamma_candidate : candidate_arcs) {</div>
<div class="line"><span class="lineno">  464</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="#aa1272b542e38efd60f4fe2ba7fc01d52">is_bucket_fixed&lt;D&gt;</a>(gamma_candidate.from_bucket,</div>
<div class="line"><span class="lineno">  465</span>                                               gamma_candidate.to_bucket))</div>
<div class="line"><span class="lineno">  466</span>                            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>                        <span class="keyword">const</span> <span class="keywordtype">int</span> from_node_candidate =</div>
<div class="line"><span class="lineno">  469</span>                            buckets[gamma_candidate.from_bucket].node_id;</div>
<div class="line"><span class="lineno">  470</span>                        <span class="keyword">const</span> <span class="keywordtype">int</span> to_node_candidate =</div>
<div class="line"><span class="lineno">  471</span>                            buckets[gamma_candidate.to_bucket].node_id;</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>                        <span class="comment">// If the candidate arc matches the original</span></div>
<div class="line"><span class="lineno">  474</span>                        <span class="comment">// arc...</span></div>
<div class="line"><span class="lineno">  475</span>                        <span class="keywordflow">if</span> (from_node == from_node_candidate &amp;&amp;</div>
<div class="line"><span class="lineno">  476</span>                            to_node == to_node_candidate) {</div>
<div class="line"><span class="lineno">  477</span>                            B_bar.push_back(candidate_b);</div>
<div class="line"><span class="lineno">  478</span>                            std::vector&lt;double&gt; res =</div>
<div class="line"><span class="lineno">  479</span>                                gamma_candidate.resource_increment;</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>                            <span class="keyword">const</span> <span class="keywordtype">double</span> cost = gamma_candidate.cost_increment;</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>                            <span class="comment">// Add jump arcs both in the bucket and at</span></div>
<div class="line"><span class="lineno">  484</span>                            <span class="comment">// the node level.</span></div>
<div class="line"><span class="lineno">  485</span>                            buckets[current_b].template add_jump_arc&lt;D&gt;(</div>
<div class="line"><span class="lineno">  486</span>                                current_b, candidate_b, res, cost);</div>
<div class="line"><span class="lineno">  487</span>                            nodes[buckets[current_b].node_id]</div>
<div class="line"><span class="lineno">  488</span>                                .template add_jump_arc&lt;D&gt;(</div>
<div class="line"><span class="lineno">  489</span>                                    current_b, candidate_b, res, cost, to_node);</div>
<div class="line"><span class="lineno">  490</span>                            buckets[current_b].template add_bucket_arc&lt;D&gt;(</div>
<div class="line"><span class="lineno">  491</span>                                current_b, candidate_b, res, cost, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  492</span>                            ++arc_counter;</div>
<div class="line"><span class="lineno">  493</span>                        }</div>
<div class="line"><span class="lineno">  494</span>                    }</div>
<div class="line"><span class="lineno">  495</span>                };</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>                <span class="comment">// Process candidate buckets. For now both directions</span></div>
<div class="line"><span class="lineno">  498</span>                <span class="comment">// use increasing index. (For backward direction, adjust</span></div>
<div class="line"><span class="lineno">  499</span>                <span class="comment">// the loop as needed.)</span></div>
<div class="line"><span class="lineno">  500</span>                <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  501</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> candidate_b = b + 1;</div>
<div class="line"><span class="lineno">  502</span>                         candidate_b &lt; start_bucket + node_buckets;</div>
<div class="line"><span class="lineno">  503</span>                         ++candidate_b) {</div>
<div class="line"><span class="lineno">  504</span>                        process_bucket(b, candidate_b);</div>
<div class="line"><span class="lineno">  505</span>                    }</div>
<div class="line"><span class="lineno">  506</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  507</span>                    <span class="comment">// Uncomment and adjust if backward should iterate</span></div>
<div class="line"><span class="lineno">  508</span>                    <span class="comment">// in reverse order.</span></div>
<div class="line"><span class="lineno">  509</span>                    <span class="comment">// for (int candidate_b = b - 1; candidate_b &gt;=</span></div>
<div class="line"><span class="lineno">  510</span>                    <span class="comment">// start_bucket;</span></div>
<div class="line"><span class="lineno">  511</span>                    <span class="comment">// --candidate_b) {</span></div>
<div class="line"><span class="lineno">  512</span>                    <span class="comment">// process_bucket(b, candidate_b);</span></div>
<div class="line"><span class="lineno">  513</span>                    <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  514</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> candidate_b = b + 1;</div>
<div class="line"><span class="lineno">  515</span>                         candidate_b &lt; start_bucket + node_buckets;</div>
<div class="line"><span class="lineno">  516</span>                         ++candidate_b) {</div>
<div class="line"><span class="lineno">  517</span>                        process_bucket(b, candidate_b);</div>
<div class="line"><span class="lineno">  518</span>                    }</div>
<div class="line"><span class="lineno">  519</span>                }</div>
<div class="line"><span class="lineno">  520</span>            }</div>
<div class="line"><span class="lineno">  521</span>        }</div>
<div class="line"><span class="lineno">  522</span>    }</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>    <span class="comment">// Print summary of jump arcs added.</span></div>
<div class="line"><span class="lineno">  525</span>    <a class="code hl_define" href="Definitions_8h.html#a4ab0da18d610e272471a4a974f6a4dd5">CONDITIONAL</a>(D, <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;[Fw] added {} jump arcs\n&quot;</span>, arc_counter),</div>
<div class="line"><span class="lineno">  526</span>                <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;[Bw] added {} jump arcs\n&quot;</span>, arc_counter));</div>
<div class="line"><span class="lineno">  527</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a4ab0da18d610e272471a4a974f6a4dd5"><div class="ttname"><a href="Definitions_8h.html#a4ab0da18d610e272471a4a974f6a4dd5">CONDITIONAL</a></div><div class="ttdeci">#define CONDITIONAL(D, FW_ACTION, BW_ACTION)</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00397">Definitions.h:397</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a84a8345b541e0e44e44e6215a9cdc779_cgraph.png" border="0" usemap="#aclassBucketGraph_a84a8345b541e0e44e44e6215a9cdc779_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a84a8345b541e0e44e44e6215a9cdc779_cgraph" id="aclassBucketGraph_a84a8345b541e0e44e44e6215a9cdc779_cgraph">
<area shape="rect" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="5,41,247,66"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="502,5,643,46"/>
<area shape="poly" title=" " alt="" coords="183,38,294,19,374,16,454,19,487,20,486,25,454,24,374,21,295,24,184,43"/>
<area shape="rect" href="classBucketGraph.html#aa1272b542e38efd60f4fe2ba7fc01d52" title=" " alt="" coords="295,33,454,74"/>
<area shape="poly" title=" " alt="" coords="247,51,279,51,279,56,247,56"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="337,98,412,124"/>
<area shape="poly" title=" " alt="" coords="186,65,323,97,322,102,184,70"/>
<area shape="poly" title=" " alt="" coords="454,40,486,35,487,40,455,45"/>
</map>
</div>

</div>
</div>
<a id="aeb38012ec5706ee287302028b28d0d94" name="aeb38012ec5706ee287302028b28d0d94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb38012ec5706ee287302028b28d0d94">&#9670;&#160;</a></span>print_statistics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::print_statistics </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints the statistics of the bucket graph. </p>
<p>This function outputs a formatted table displaying various metrics related to the bucket graph. The table includes headers and values for forward and backward labels, as well as dominance checks. The output is color-coded for better readability:</p><ul>
<li>Bold blue for metric names</li>
<li>Green for values (backward labels)</li>
<li>Reset color to default after each line</li>
</ul>
<p>The table structure: +-------------------&mdash;+--------------&mdash;+--------------&mdash;+ | Metric | Forward | Backward | +-------------------&mdash;+--------------&mdash;+--------------&mdash;+ | Labels | &lt;stat_n_labels_fw&gt; | &lt;stat_n_labels_bw&gt; | | Dominance Check | &lt;stat_n_dom_fw&gt; | &lt;stat_n_dom_bw&gt; | +-------------------&mdash;+--------------&mdash;+--------------&mdash;+</p>
<p>Note: The actual values for the metrics (e.g., stat_n_labels_fw, stat_n_labels_bw, etc.) should be provided by the corresponding member variables or functions. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00839">839</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  839</span>                                   {</div>
<div class="line"><span class="lineno">  840</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *blue_bold = <span class="stringliteral">&quot;\033[1;34m&quot;</span>;  <span class="comment">// Bold blue for metrics</span></div>
<div class="line"><span class="lineno">  841</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *green = <span class="stringliteral">&quot;\033[32m&quot;</span>;        <span class="comment">// Green for values (backward labels)</span></div>
<div class="line"><span class="lineno">  842</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code hl_variable" href="Definitions_8h.html#a3b97e8952f5f2eb7e719f225b1406688">reset</a> = <span class="stringliteral">&quot;\033[0m&quot;</span>;         <span class="comment">// Reset color</span></div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>    <span class="comment">// Print table header with horizontal line and separators</span></div>
<div class="line"><span class="lineno">  845</span>    fmt::print(</div>
<div class="line"><span class="lineno">  846</span>        <span class="stringliteral">&quot;\n+--------------------------------------------------------+\n&quot;</span>);</div>
<div class="line"><span class="lineno">  847</span>    fmt::print(<span class="stringliteral">&quot;|{}{:&lt;20}{}| {:&lt;15} | {:&lt;15} |\n&quot;</span>, blue_bold, <span class="stringliteral">&quot; Metric&quot;</span>, <a class="code hl_variable" href="Definitions_8h.html#a3b97e8952f5f2eb7e719f225b1406688">reset</a>,</div>
<div class="line"><span class="lineno">  848</span>               <span class="stringliteral">&quot; Forward&quot;</span>, <span class="stringliteral">&quot; Backward&quot;</span>);</div>
<div class="line"><span class="lineno">  849</span>    fmt::print(<span class="stringliteral">&quot;+--------------------------------------------------------+\n&quot;</span>);</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>    <span class="comment">// Print labels for forward and backward with bold blue metric</span></div>
<div class="line"><span class="lineno">  852</span>    fmt::print(<span class="stringliteral">&quot;|{}{:&lt;20}{}| {:&lt;15} | {:&lt;15} |\n&quot;</span>, blue_bold, <span class="stringliteral">&quot; Labels&quot;</span>, <a class="code hl_variable" href="Definitions_8h.html#a3b97e8952f5f2eb7e719f225b1406688">reset</a>,</div>
<div class="line"><span class="lineno">  853</span>               <a class="code hl_variable" href="#a14021a42efc2a10246ddb4004f538a0f">stat_n_labels_fw</a>, <a class="code hl_variable" href="#adccf2c5d28f7f38e189524998ef647eb">stat_n_labels_bw</a>);</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>    <span class="comment">// Print dominated forward and backward labels with bold blue metric</span></div>
<div class="line"><span class="lineno">  856</span>    fmt::print(<span class="stringliteral">&quot;|{}{:&lt;20}{}| {:&lt;15} | {:&lt;15} |\n&quot;</span>, blue_bold,</div>
<div class="line"><span class="lineno">  857</span>               <span class="stringliteral">&quot; Dominance Check&quot;</span>, <a class="code hl_variable" href="Definitions_8h.html#a3b97e8952f5f2eb7e719f225b1406688">reset</a>, <a class="code hl_variable" href="#a946362de3ef65c33ec847f671caa89bf">stat_n_dom_fw</a>, <a class="code hl_variable" href="#a5e92704829aedd6e29ea78db17a5f725">stat_n_dom_bw</a>);</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>    <span class="comment">// Print the final horizontal line</span></div>
<div class="line"><span class="lineno">  860</span>    fmt::print(<span class="stringliteral">&quot;+--------------------------------------------------------+\n&quot;</span>);</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>    fmt::print(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  863</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a3b97e8952f5f2eb7e719f225b1406688"><div class="ttname"><a href="Definitions_8h.html#a3b97e8952f5f2eb7e719f225b1406688">reset</a></div><div class="ttdeci">constexpr auto reset</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00147">Definitions.h:147</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af2436dd7416920cc8f4bed442dc84c86" name="af2436dd7416920cc8f4bed442dc84c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2436dd7416920cc8f4bed442dc84c86">&#9670;&#160;</a></span>process_all_resources()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, typename Gamma, typename <a class="el" href="structVRPNode.html">VRPNode</a>&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::process_all_resources </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>new_resources</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::array&lt; double, R_SIZE &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>initial_resources</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Gamma &amp;</td>          <td class="paramname"><span class="paramname"><em>gamma</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structVRPNode.html">VRPNode</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>theNode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>N</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes all resources by iterating through them and applying constraints. </p>
<p>This function recursively processes each resource in the <code>new_resources</code> vector by calling <code>process_resource</code> for each index from <code>I</code> to <code>N-1</code>. If any resource processing fails (i.e., <code>process_resource</code> returns false), the function returns false immediately. If all resources are processed successfully, the function returns true. </p>

<p class="definition">Definition at line <a class="el" href="BucketRes_8h_source.html#l00114">114</a> of file <a class="el" href="BucketRes_8h_source.html">BucketRes.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  117</span>                                      {</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> I = 0; I &lt; N; ++I) {</div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">switch</span> (<span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1">ResourceType</a><span class="keyword">&gt;</span>(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resource_type[I])) {</div>
<div class="line"><span class="lineno">  120</span>            [[likely]] <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a7beea2525d6fb2f4a048a442e97f7256">ResourceType::Disposable</a>:</div>
<div class="line"><span class="lineno">  121</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="BucketRes_8h.html#adc9ed5f87789d0ecbacc1793d27f9855">process_disposable_resource&lt;D&gt;</a>(</div>
<div class="line"><span class="lineno">  122</span>                        new_resources[I], initial_resources[I],</div>
<div class="line"><span class="lineno">  123</span>                        gamma.resource_increment[I], theNode.<a class="code hl_variable" href="structVRPNode.html#a98d257dc0557cf50b2c5f7073ea276be">lb</a>[I],</div>
<div class="line"><span class="lineno">  124</span>                        theNode.<a class="code hl_variable" href="structVRPNode.html#ab65704aeca304b1b39f07015bda5c90b">ub</a>[I])) {</div>
<div class="line"><span class="lineno">  125</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  126</span>                }</div>
<div class="line"><span class="lineno">  127</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a2b17db1bcd9fefb9410d749ac5eeea00">ResourceType::NonDisposable</a>:</div>
<div class="line"><span class="lineno">  130</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="BucketRes_8h.html#a91340d0cebc8cce4adc13c109946b6c3">process_non_disposable_resource&lt;D&gt;</a>(</div>
<div class="line"><span class="lineno">  131</span>                        new_resources[I], initial_resources[I],</div>
<div class="line"><span class="lineno">  132</span>                        gamma.resource_increment[I], theNode.<a class="code hl_variable" href="structVRPNode.html#a98d257dc0557cf50b2c5f7073ea276be">lb</a>[I],</div>
<div class="line"><span class="lineno">  133</span>                        theNode.<a class="code hl_variable" href="structVRPNode.html#ab65704aeca304b1b39f07015bda5c90b">ub</a>[I])) {</div>
<div class="line"><span class="lineno">  134</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  135</span>                }</div>
<div class="line"><span class="lineno">  136</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a6ce976e8f061b2b5cfe4d0c50c3405dd">ResourceType::Binary</a>:</div>
<div class="line"><span class="lineno">  139</span>                new_resources[I] =</div>
<div class="line"><span class="lineno">  140</span>                    <a class="code hl_function" href="BucketRes_8h.html#a5cb124036dd2244f498826336ba75678">process_binary_resource&lt;D&gt;</a>(gamma.resource_increment[I]);</div>
<div class="line"><span class="lineno">  141</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1ad67c92867cc3d7fdf47f32cf70ab1b24">ResourceType::Battery</a>:</div>
<div class="line"><span class="lineno">  144</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="BucketRes_8h.html#a01cb6322e983d262cc6b687e0894e278">process_battery_resource&lt;D&gt;</a>(</div>
<div class="line"><span class="lineno">  145</span>                        new_resources[I], initial_resources[I],</div>
<div class="line"><span class="lineno">  146</span>                        theNode.<a class="code hl_variable" href="structVRPNode.html#a4b4bcf087d0cc1019252512abb2d19b0">is_station</a>, <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.battery_capacity)) {</div>
<div class="line"><span class="lineno">  147</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  148</span>                }</div>
<div class="line"><span class="lineno">  149</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a32265657963715e830b2efb78daae74b">ResourceType::RechargeCount</a>:</div>
<div class="line"><span class="lineno">  152</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="BucketRes_8h.html#aa271d5b57809ba00a31d11a88861bc15">process_recharge_count&lt;D&gt;</a>(</div>
<div class="line"><span class="lineno">  153</span>                        new_resources[I], initial_resources[I],</div>
<div class="line"><span class="lineno">  154</span>                        theNode.<a class="code hl_variable" href="structVRPNode.html#a4b4bcf087d0cc1019252512abb2d19b0">is_station</a>, <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.max_recharges)) {</div>
<div class="line"><span class="lineno">  155</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  156</span>                }</div>
<div class="line"><span class="lineno">  157</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1af2d6fd5527d811e96c8c4b7d9ad33506">ResourceType::RechargeTime</a>:</div>
<div class="line"><span class="lineno">  160</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="BucketRes_8h.html#af7d18c39ae22f1ea2c5d3cd25971c9d2">process_recharge_time&lt;D&gt;</a>(</div>
<div class="line"><span class="lineno">  161</span>                        new_resources[I], initial_resources[I],</div>
<div class="line"><span class="lineno">  162</span>                        theNode.<a class="code hl_variable" href="structVRPNode.html#a4b4bcf087d0cc1019252512abb2d19b0">is_station</a>, <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.max_recharge_time)) {</div>
<div class="line"><span class="lineno">  163</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  164</span>                }</div>
<div class="line"><span class="lineno">  165</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a3274ae475efab90c6e22db48cbfde53d">ResourceType::MTW</a>:</div>
<div class="line"><span class="lineno">  168</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="BucketRes_8h.html#a621f51219a252a664bbc9d0240e9c646">process_mtw_resource&lt;D&gt;</a>(</div>
<div class="line"><span class="lineno">  169</span>                        new_resources[I], initial_resources[I],</div>
<div class="line"><span class="lineno">  170</span>                        gamma.resource_increment[I], theNode)) {</div>
<div class="line"><span class="lineno">  171</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  172</span>                }</div>
<div class="line"><span class="lineno">  173</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  174</span>        }</div>
<div class="line"><span class="lineno">  175</span>    }</div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  177</span>}</div>
<div class="ttc" id="aBucketRes_8h_html_a01cb6322e983d262cc6b687e0894e278"><div class="ttname"><a href="BucketRes_8h.html#a01cb6322e983d262cc6b687e0894e278">process_battery_resource</a></div><div class="ttdeci">bool process_battery_resource(double &amp;new_resource, double initial_resource, bool is_station, double battery_capacity)</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00057">BucketRes.h:57</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a5cb124036dd2244f498826336ba75678"><div class="ttname"><a href="BucketRes_8h.html#a5cb124036dd2244f498826336ba75678">process_binary_resource</a></div><div class="ttdeci">double process_binary_resource(double increment)</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00049">BucketRes.h:49</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a621f51219a252a664bbc9d0240e9c646"><div class="ttname"><a href="BucketRes_8h.html#a621f51219a252a664bbc9d0240e9c646">process_mtw_resource</a></div><div class="ttdeci">bool process_mtw_resource(double &amp;new_resource, double initial_resource, double increment, const VRPNode &amp;theNode)</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00089">BucketRes.h:89</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a8571efa4409be32e28abf3ea74a0dbb1"><div class="ttname"><a href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1">ResourceType</a></div><div class="ttdeci">ResourceType</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00007">BucketRes.h:7</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a8571efa4409be32e28abf3ea74a0dbb1a2b17db1bcd9fefb9410d749ac5eeea00"><div class="ttname"><a href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a2b17db1bcd9fefb9410d749ac5eeea00">ResourceType::NonDisposable</a></div><div class="ttdeci">@ NonDisposable</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00009">BucketRes.h:9</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a8571efa4409be32e28abf3ea74a0dbb1a32265657963715e830b2efb78daae74b"><div class="ttname"><a href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a32265657963715e830b2efb78daae74b">ResourceType::RechargeCount</a></div><div class="ttdeci">@ RechargeCount</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00013">BucketRes.h:13</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a8571efa4409be32e28abf3ea74a0dbb1a3274ae475efab90c6e22db48cbfde53d"><div class="ttname"><a href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a3274ae475efab90c6e22db48cbfde53d">ResourceType::MTW</a></div><div class="ttdeci">@ MTW</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00011">BucketRes.h:11</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a8571efa4409be32e28abf3ea74a0dbb1a6ce976e8f061b2b5cfe4d0c50c3405dd"><div class="ttname"><a href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a6ce976e8f061b2b5cfe4d0c50c3405dd">ResourceType::Binary</a></div><div class="ttdeci">@ Binary</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00010">BucketRes.h:10</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a8571efa4409be32e28abf3ea74a0dbb1a7beea2525d6fb2f4a048a442e97f7256"><div class="ttname"><a href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1a7beea2525d6fb2f4a048a442e97f7256">ResourceType::Disposable</a></div><div class="ttdeci">@ Disposable</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00008">BucketRes.h:8</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a8571efa4409be32e28abf3ea74a0dbb1ad67c92867cc3d7fdf47f32cf70ab1b24"><div class="ttname"><a href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1ad67c92867cc3d7fdf47f32cf70ab1b24">ResourceType::Battery</a></div><div class="ttdeci">@ Battery</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00012">BucketRes.h:12</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a8571efa4409be32e28abf3ea74a0dbb1af2d6fd5527d811e96c8c4b7d9ad33506"><div class="ttname"><a href="BucketRes_8h.html#a8571efa4409be32e28abf3ea74a0dbb1af2d6fd5527d811e96c8c4b7d9ad33506">ResourceType::RechargeTime</a></div><div class="ttdeci">@ RechargeTime</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00014">BucketRes.h:14</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_a91340d0cebc8cce4adc13c109946b6c3"><div class="ttname"><a href="BucketRes_8h.html#a91340d0cebc8cce4adc13c109946b6c3">process_non_disposable_resource</a></div><div class="ttdeci">bool process_non_disposable_resource(double &amp;new_resource, double initial_resource, double increment, double lb, double ub)</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00039">BucketRes.h:39</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_aa271d5b57809ba00a31d11a88861bc15"><div class="ttname"><a href="BucketRes_8h.html#aa271d5b57809ba00a31d11a88861bc15">process_recharge_count</a></div><div class="ttdeci">bool process_recharge_count(double &amp;new_resource, double initial_resource, bool is_station, double max_recharges)</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00070">BucketRes.h:70</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_adc9ed5f87789d0ecbacc1793d27f9855"><div class="ttname"><a href="BucketRes_8h.html#adc9ed5f87789d0ecbacc1793d27f9855">process_disposable_resource</a></div><div class="ttdeci">bool process_disposable_resource(double &amp;new_resource, double initial_resource, double increment, double lb, double ub)</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00023">BucketRes.h:23</a></div></div>
<div class="ttc" id="aBucketRes_8h_html_af7d18c39ae22f1ea2c5d3cd25971c9d2"><div class="ttname"><a href="BucketRes_8h.html#af7d18c39ae22f1ea2c5d3cd25971c9d2">process_recharge_time</a></div><div class="ttdeci">bool process_recharge_time(double &amp;new_resource, double initial_resource, bool is_station, double max_recharge_time)</div><div class="ttdef"><b>Definition</b> <a href="BucketRes_8h_source.html#l00082">BucketRes.h:82</a></div></div>
<div class="ttc" id="astructVRPNode_html_a4b4bcf087d0cc1019252512abb2d19b0"><div class="ttname"><a href="structVRPNode.html#a4b4bcf087d0cc1019252512abb2d19b0">VRPNode::is_station</a></div><div class="ttdeci">bool is_station</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00048">VRPNode.h:48</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_af2436dd7416920cc8f4bed442dc84c86_cgraph.png" border="0" usemap="#aclassBucketGraph_af2436dd7416920cc8f4bed442dc84c86_cgraph" alt=""/></div>
<map name="aclassBucketGraph_af2436dd7416920cc8f4bed442dc84c86_cgraph" id="aclassBucketGraph_af2436dd7416920cc8f4bed442dc84c86_cgraph">
<area shape="rect" title="Processes all resources by iterating through them and applying constraints." alt="" coords="5,162,155,202"/>
<area shape="rect" href="BucketRes_8h.html#a01cb6322e983d262cc6b687e0894e278" title=" " alt="" coords="203,5,373,31"/>
<area shape="poly" title=" " alt="" coords="92,160,135,100,166,68,201,40,209,35,212,40,204,44,169,72,139,104,96,163"/>
<area shape="rect" href="BucketRes_8h.html#a5cb124036dd2244f498826336ba75678" title=" " alt="" coords="205,55,370,80"/>
<area shape="poly" title=" " alt="" coords="103,159,147,124,201,90,217,84,219,88,204,95,150,129,106,164"/>
<area shape="rect" href="BucketRes_8h.html#adc9ed5f87789d0ecbacc1793d27f9855" title=" " alt="" coords="220,104,356,145"/>
<area shape="poly" title=" " alt="" coords="154,159,204,145,206,150,156,164"/>
<area shape="rect" href="BucketRes_8h.html#a621f51219a252a664bbc9d0240e9c646" title=" " alt="" coords="210,169,366,195"/>
<area shape="poly" title=" " alt="" coords="155,180,194,180,194,185,155,185"/>
<area shape="rect" href="BucketRes_8h.html#a91340d0cebc8cce4adc13c109946b6c3" title=" " alt="" coords="206,219,370,260"/>
<area shape="poly" title=" " alt="" coords="156,200,198,212,196,217,154,205"/>
<area shape="rect" href="BucketRes_8h.html#aa271d5b57809ba00a31d11a88861bc15" title=" " alt="" coords="206,284,370,310"/>
<area shape="poly" title=" " alt="" coords="106,201,150,236,204,269,219,276,217,281,201,274,147,240,103,205"/>
<area shape="rect" href="BucketRes_8h.html#af7d18c39ae22f1ea2c5d3cd25971c9d2" title=" " alt="" coords="210,333,366,359"/>
<area shape="poly" title=" " alt="" coords="96,202,139,261,169,293,204,320,212,324,209,329,201,324,166,297,135,264,92,205"/>
<area shape="rect" href="namespacenumericutils.html#a8d554fdb4468068ab99dc7a219308492" title=" " alt="" coords="421,88,536,114"/>
<area shape="poly" title=" " alt="" coords="356,114,405,107,406,113,357,119"/>
<area shape="rect" href="namespacenumericutils.html#afa1d31c5f18a361509ba1faacca5feb4" title=" " alt="" coords="423,137,534,163"/>
<area shape="poly" title=" " alt="" coords="357,131,408,138,407,143,356,137"/>
</map>
</div>

</div>
</div>
<a id="a1fe5356bece2368da36fdd47258d60df" name="a1fe5356bece2368da36fdd47258d60df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fe5356bece2368da36fdd47258d60df">&#9670;&#160;</a></span>process_resource()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D, typename Gamma, typename <a class="el" href="structVRPNode.html">VRPNode</a>&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::process_resource </td>
          <td>(</td>
          <td class="paramtype">double &amp;</td>          <td class="paramname"><span class="paramname"><em>new_resource</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::array&lt; double, R_SIZE &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>initial_resources</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Gamma &amp;</td>          <td class="paramname"><span class="paramname"><em>gamma</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structVRPNode.html">VRPNode</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>theNode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>I</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes a resource based on its disposability type and direction. </p>
<p>This function updates the <code>new_resource</code> value based on the initial resources, the increment provided by <code>gamma</code>, and the constraints defined by <code>theNode</code>. The behavior varies depending on the disposability type of the resource. </p>

</div>
</div>
<a id="ae73a46d652283690ebe471cec4fef2e2" name="ae73a46d652283690ebe471cec4fef2e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae73a46d652283690ebe471cec4fef2e2">&#9670;&#160;</a></span>prune_ng_cycles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::prune_ng_cycles </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>max_age</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>min_usage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>current_iteration</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00331">331</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  332</span>                                                         {</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="#a89b7ecb3192a354e410f442029a3f2db">ng_cycles</a>.begin(); it != <a class="code hl_variable" href="#a89b7ecb3192a354e410f442029a3f2db">ng_cycles</a>.end();) {</div>
<div class="line"><span class="lineno">  334</span>        <span class="keywordflow">if</span> (current_iteration - it-&gt;last_used_iteration &gt; max_age &amp;&amp;</div>
<div class="line"><span class="lineno">  335</span>            it-&gt;usage_count &lt; min_usage) {</div>
<div class="line"><span class="lineno">  336</span>            <span class="comment">// Remove the corresponding forbidden edges from the</span></div>
<div class="line"><span class="lineno">  337</span>            <span class="comment">// neighborhoods_bitmap.</span></div>
<div class="line"><span class="lineno">  338</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; it-&gt;cycle.size() - 1; ++i) {</div>
<div class="line"><span class="lineno">  339</span>                <span class="keywordtype">int</span> v1 = it-&gt;cycle[i];</div>
<div class="line"><span class="lineno">  340</span>                <span class="keywordtype">int</span> v2 = it-&gt;cycle[i + 1];</div>
<div class="line"><span class="lineno">  341</span>                <span class="comment">// Clear the bit corresponding to v2 in the neighborhood of</span></div>
<div class="line"><span class="lineno">  342</span>                <span class="comment">// v1.</span></div>
<div class="line"><span class="lineno">  343</span>                <span class="keywordtype">size_t</span> segment = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v2) &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  344</span>                <span class="keywordtype">size_t</span> bit_position = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v2) &amp; 63;</div>
<div class="line"><span class="lineno">  345</span>                <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[v1][segment] &amp;=</div>
<div class="line"><span class="lineno">  346</span>                    <a class="code hl_variable" href="#ac8ef42169458fa3ce65c86652e4f1dd8">~bit_mask_lookup</a>[bit_position];</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>                <span class="comment">// If your approach was aggressive, also clear the reverse.</span></div>
<div class="line"><span class="lineno">  349</span>                segment = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v1) &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  350</span>                bit_position = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(v1) &amp; 63;</div>
<div class="line"><span class="lineno">  351</span>                <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[v2][segment] &amp;=</div>
<div class="line"><span class="lineno">  352</span>                    <a class="code hl_variable" href="#ac8ef42169458fa3ce65c86652e4f1dd8">~bit_mask_lookup</a>[bit_position];</div>
<div class="line"><span class="lineno">  353</span>            }</div>
<div class="line"><span class="lineno">  354</span>            it = <a class="code hl_variable" href="#a89b7ecb3192a354e410f442029a3f2db">ng_cycles</a>.erase(it);</div>
<div class="line"><span class="lineno">  355</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  356</span>            ++it;</div>
<div class="line"><span class="lineno">  357</span>        }</div>
<div class="line"><span class="lineno">  358</span>    }</div>
<div class="line"><span class="lineno">  359</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a89b7ecb3192a354e410f442029a3f2db"><div class="ttname"><a href="#a89b7ecb3192a354e410f442029a3f2db">BucketGraph::ng_cycles</a></div><div class="ttdeci">std::vector&lt; CycleData &gt; ng_cycles</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l01586">BucketGraph.h:1586</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a70676504af16413f5587e87c4f1f3427" name="a70676504af16413f5587e87c4f1f3427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70676504af16413f5587e87c4f1f3427">&#9670;&#160;</a></span>redefine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::redefine </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>bucketInterval</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Redefines the bucket intervals and reinitializes various data structures. </p>
<p>This function updates the bucket interval and reinitializes the intervals, buckets, fixed arcs, and fixed buckets. It also generates arcs and sorts them for each node. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00625">625</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  625</span>                                      {</div>
<div class="line"><span class="lineno">  626</span>        this-&gt;bucket_interval = bucketInterval;</div>
<div class="line"><span class="lineno">  627</span>        intervals.clear();</div>
<div class="line"><span class="lineno">  628</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(); ++i) {</div>
<div class="line"><span class="lineno">  629</span>            intervals.push_back(Interval(bucketInterval, 0));</div>
<div class="line"><span class="lineno">  630</span>        }</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>        <span class="comment">// auto fw_save_rebuild =</span></div>
<div class="line"><span class="lineno">  633</span>        <span class="comment">// rebuild_buckets&lt;Direction::Forward&gt;(); auto</span></div>
<div class="line"><span class="lineno">  634</span>        <span class="comment">// bw_save_rebuild = rebuild_buckets&lt;Direction::Backward&gt;();</span></div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>        <a class="code hl_function" href="#a2379392ccc37be9a4a27800b116465d2">reset_fixed</a>();</div>
<div class="line"><span class="lineno">  637</span>        <a class="code hl_function" href="#a2b278d6d639910a628446a2be038d41e">reset_fixed_buckets</a>();</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>        <a class="code hl_define" href="Definitions_8h.html#aae3681742ccc706b45390ec5d3392d58">PARALLEL_SECTIONS</a>(</div>
<div class="line"><span class="lineno">  640</span>            work, <a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>,</div>
<div class="line"><span class="lineno">  641</span>            <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> {</div>
<div class="line"><span class="lineno">  642</span>                <a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a> = 0;</div>
<div class="line"><span class="lineno">  643</span>                <span class="comment">// clear the array</span></div>
<div class="line"><span class="lineno">  644</span>                <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.clear();</div>
<div class="line"><span class="lineno">  645</span>                <span class="comment">// Section 1: Forward direction</span></div>
<div class="line"><span class="lineno">  646</span>                <a class="code hl_function" href="#a5d04c8a2da52796e87c1b443aa221a76">define_buckets&lt;Direction::Forward&gt;</a>();</div>
<div class="line"><span class="lineno">  647</span>                <span class="comment">// split_buckets&lt;Direction::Forward&gt;();</span></div>
<div class="line"><span class="lineno">  648</span>                <span class="comment">// fw_fixed_buckets.clear();</span></div>
<div class="line"><span class="lineno">  649</span>                <span class="comment">// fw_fixed_buckets.resize(fw_buckets_size);</span></div>
<div class="line"><span class="lineno">  650</span>                <span class="comment">// for (auto &amp;fb : fw_fixed_buckets) {</span></div>
<div class="line"><span class="lineno">  651</span>                <span class="comment">// fb.assign(fw_buckets_size, 0); }</span></div>
<div class="line"><span class="lineno">  652</span>            },</div>
<div class="line"><span class="lineno">  653</span>            <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> {</div>
<div class="line"><span class="lineno">  654</span>                <span class="comment">// Section 2: Backward direction</span></div>
<div class="line"><span class="lineno">  655</span>                <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a> = 0;</div>
<div class="line"><span class="lineno">  656</span>                <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>.clear();</div>
<div class="line"><span class="lineno">  657</span>                <a class="code hl_function" href="#a5d04c8a2da52796e87c1b443aa221a76">define_buckets&lt;Direction::Backward&gt;</a>();</div>
<div class="line"><span class="lineno">  658</span>                <span class="comment">// split_buckets&lt;Direction::Backward&gt;();</span></div>
<div class="line"><span class="lineno">  659</span>                <span class="comment">// bw_fixed_buckets.clear();</span></div>
<div class="line"><span class="lineno">  660</span>                <span class="comment">// bw_fixed_buckets.resize(bw_buckets_size);</span></div>
<div class="line"><span class="lineno">  661</span>                <span class="comment">// for (auto &amp;bb : bw_fixed_buckets) {</span></div>
<div class="line"><span class="lineno">  662</span>                <span class="comment">// bb.assign(bw_buckets_size, 0); }</span></div>
<div class="line"><span class="lineno">  663</span>            });</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>        <a class="code hl_function" href="#a78afa4d3e7c6078f874480c68f43caff">generate_arcs</a>();</div>
<div class="line"><span class="lineno">  666</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  667</span><span class="comment">        PARALLEL_SECTIONS(</span></div>
<div class="line"><span class="lineno">  668</span><span class="comment">            workB, bi_sched,</span></div>
<div class="line"><span class="lineno">  669</span><span class="comment">            [&amp;, this, fw_save_rebuild]() -&gt; void {</span></div>
<div class="line"><span class="lineno">  670</span><span class="comment">                // Forward direction processing</span></div>
<div class="line"><span class="lineno">  671</span><span class="comment">                process_buckets&lt;Direction::Forward&gt;(fw_buckets_size,</span></div>
<div class="line"><span class="lineno">  672</span><span class="comment">        fw_buckets, fw_save_rebuild, fw_fixed_buckets);</span></div>
<div class="line"><span class="lineno">  673</span><span class="comment">            },</span></div>
<div class="line"><span class="lineno">  674</span><span class="comment">            [&amp;, this, bw_save_rebuild]() -&gt; void {</span></div>
<div class="line"><span class="lineno">  675</span><span class="comment">                // Backward direction processing</span></div>
<div class="line"><span class="lineno">  676</span><span class="comment">                process_buckets&lt;Direction::Backward&gt;(bw_buckets_size,</span></div>
<div class="line"><span class="lineno">  677</span><span class="comment">        bw_buckets, bw_save_rebuild, bw_fixed_buckets);</span></div>
<div class="line"><span class="lineno">  678</span><span class="comment">            });</span></div>
<div class="line"><span class="lineno">  679</span><span class="comment">            */</span></div>
<div class="line"><span class="lineno">  680</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_a2b278d6d639910a628446a2be038d41e"><div class="ttname"><a href="#a2b278d6d639910a628446a2be038d41e">BucketGraph::reset_fixed_buckets</a></div><div class="ttdeci">void reset_fixed_buckets()</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00829">BucketGraph.h:829</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a70676504af16413f5587e87c4f1f3427_cgraph.png" border="0" usemap="#aclassBucketGraph_a70676504af16413f5587e87c4f1f3427_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a70676504af16413f5587e87c4f1f3427_cgraph" id="aclassBucketGraph_a70676504af16413f5587e87c4f1f3427_cgraph">
<area shape="rect" title="Redefines the bucket intervals and reinitializes various data structures." alt="" coords="5,161,154,186"/>
<area shape="rect" href="classBucketGraph.html#a5d04c8a2da52796e87c1b443aa221a76" title="Defines the buckets for the BucketGraph." alt="" coords="226,43,363,83"/>
<area shape="poly" title=" " alt="" coords="97,158,143,126,200,93,212,87,215,92,203,97,145,131,100,162"/>
<area shape="rect" href="classBucketGraph.html#a78afa4d3e7c6078f874480c68f43caff" title="Generates arcs in both forward and backward directions in parallel." alt="" coords="202,132,387,157"/>
<area shape="poly" title=" " alt="" coords="153,161,186,156,187,162,154,166"/>
<area shape="rect" href="classBucketGraph.html#a2379392ccc37be9a4a27800b116465d2" title="Resets all fixed arcs in the graph." alt="" coords="228,181,360,222"/>
<area shape="poly" title=" " alt="" coords="154,181,213,188,212,194,154,186"/>
<area shape="rect" href="classBucketGraph.html#a2b278d6d639910a628446a2be038d41e" title=" " alt="" coords="228,247,360,287"/>
<area shape="poly" title=" " alt="" coords="107,185,203,231,219,238,217,243,201,236,105,190"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="699,5,840,46"/>
<area shape="poly" title=" " alt="" coords="363,54,435,48,683,29,684,35,435,54,364,60"/>
<area shape="rect" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf" title=" " alt="" coords="435,64,615,89"/>
<area shape="poly" title=" " alt="" coords="364,64,420,68,419,73,363,70"/>
<area shape="poly" title=" " alt="" coords="259,133,252,123,256,113,270,107,294,105,321,108,334,114,332,119,319,113,294,110,272,112,259,117,257,122,263,129"/>
<area shape="rect" href="classBucketGraph.html#aa9eea9800ea6652e736b960a729f2c14" title=" " alt="" coords="439,226,611,252"/>
<area shape="poly" title=" " alt="" coords="352,155,388,167,442,191,489,216,486,221,439,196,386,172,350,160"/>
<area shape="rect" href="classBucketGraph.html#a2925857b35aa31c3c5af4a2795840b98" title="Handles the computation of Strongly Connected Components (SCCs) for the BucketGraph." alt="" coords="436,120,615,145"/>
<area shape="poly" title=" " alt="" coords="387,137,420,135,420,140,387,142"/>
<area shape="rect" href="classBucketGraph.html#a90ce1e861b31ed9c05e36aa3f9ab6743" title=" " alt="" coords="690,219,849,259"/>
<area shape="poly" title=" " alt="" coords="612,236,675,236,675,242,612,242"/>
<area shape="rect" href="classBucketGraph.html#a491d87e43d4a6ec6ed9557be1769cd29" title=" " alt="" coords="690,284,849,325"/>
<area shape="poly" title=" " alt="" coords="577,250,677,277,676,282,575,255"/>
<area shape="poly" title=" " alt="" coords="576,116,614,99,628,89,637,78,647,67,662,55,683,45,686,50,665,60,651,70,641,81,632,92,617,104,578,121"/>
<area shape="rect" href="classSCC.html#a1c3c0a300e9234ccf344072b1f2c949b" title="Converts an unordered map representation of a graph into an internal graph representation." alt="" coords="663,70,876,96"/>
<area shape="poly" title=" " alt="" coords="592,116,687,97,688,102,593,121"/>
<area shape="rect" href="classSCC.html#afdc7bf9b9ebc6853227b86fe4cb151ea" title="Finds and returns all Strongly Connected Components (SCCs) in the graph using Tarjan&#39;s algorithm." alt="" coords="713,120,826,145"/>
<area shape="poly" title=" " alt="" coords="615,130,697,130,697,135,615,135"/>
<area shape="rect" href="classSCC.html#a62703561fe2b0e0a6f7961b09778ff6e" title="Computes the topological order of Strongly Connected Components (SCCs) in a directed graph." alt="" coords="671,169,868,194"/>
<area shape="poly" title=" " alt="" coords="593,143,688,163,687,168,592,148"/>
</map>
</div>

</div>
</div>
<a id="a2379392ccc37be9a4a27800b116465d2" name="a2379392ccc37be9a4a27800b116465d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2379392ccc37be9a4a27800b116465d2">&#9670;&#160;</a></span>reset_fixed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::reset_fixed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets all fixed arcs in the graph. </p>
<p>This function iterates over each row in the fixed_arcs matrix and sets all elements to 0. It effectively clears any fixed arc constraints that may have been previously set. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00821">821</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  821</span>                       {</div>
<div class="line"><span class="lineno">  822</span>        <span class="comment">// for (auto &amp;row : fixed_arcs) {</span></div>
<div class="line"><span class="lineno">  823</span>        <span class="comment">// std::fill(row.begin(), row.end(), 0);</span></div>
<div class="line"><span class="lineno">  824</span>        <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  825</span>        <span class="keywordtype">size_t</span> bitmap_size = (nodes.size() * nodes.size() + 63) / 64;</div>
<div class="line"><span class="lineno">  826</span>        <a class="code hl_variable" href="#a619c4493e5de7a18f6f947b550025f78">fixed_arcs_bitmap</a>.assign(bitmap_size, 0);</div>
<div class="line"><span class="lineno">  827</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b278d6d639910a628446a2be038d41e" name="a2b278d6d639910a628446a2be038d41e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b278d6d639910a628446a2be038d41e">&#9670;&#160;</a></span>reset_fixed_buckets()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::reset_fixed_buckets </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00829">829</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  829</span>                               {</div>
<div class="line"><span class="lineno">  830</span>        <span class="keywordtype">size_t</span> fw_bitmap_size = (<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.size() * <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.size() + 63) /</div>
<div class="line"><span class="lineno">  831</span>                                64;  <span class="comment">// Round up division by 64</span></div>
<div class="line"><span class="lineno">  832</span>        <span class="keywordtype">size_t</span> bw_bitmap_size = (<a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>.size() * <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>.size() + 63) /</div>
<div class="line"><span class="lineno">  833</span>                                64;  <span class="comment">// Round up division by 64</span></div>
<div class="line"><span class="lineno">  834</span>        <a class="code hl_variable" href="#a8e279c08b248c529a0efec509e8a5a47">fw_fixed_buckets_bitmap</a>.assign(fw_bitmap_size, 0);</div>
<div class="line"><span class="lineno">  835</span>        <a class="code hl_variable" href="#adf35ff56b8e466beb5b9699379d84e67">bw_fixed_buckets_bitmap</a>.assign(bw_bitmap_size, 0);</div>
<div class="line"><span class="lineno">  836</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e1492bb1589d5edb06e80a753d000dd" name="a3e1492bb1589d5edb06e80a753d000dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e1492bb1589d5edb06e80a753d000dd">&#9670;&#160;</a></span>reset_pool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::reset_pool </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the forward and backward label pools. </p>
<p>This function resets both the forward (label_pool_fw) and backward (label_pool_bw) label pools to their initial states. It is typically used to clear any existing labels and prepare the pools for reuse. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00780">780</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  780</span>                      {</div>
<div class="line"><span class="lineno">  781</span>        <a class="code hl_variable" href="#a122e64987e05917c0fa982a63228d2e6">label_pool_fw</a>-&gt;reset();</div>
<div class="line"><span class="lineno">  782</span>        <a class="code hl_variable" href="#a4607757f8a773ef38967f88448cec5fd">label_pool_bw</a>-&gt;reset();</div>
<div class="line"><span class="lineno">  783</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a66484f0fb3c999584f77880b3dd54f7c" name="a66484f0fb3c999584f77880b3dd54f7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66484f0fb3c999584f77880b3dd54f7c">&#9670;&#160;</a></span>run_labeling_algorithms()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#aca8133200c1122e29b87b314d82604eb">Stage</a> state, <a class="el" href="Definitions_8h.html#a8358969dab0ab050f0cde1bd2391f4f0">Full</a> fullness&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::run_labeling_algorithms </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>forward_cbar</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>backward_cbar</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runs forward and backward labeling algorithms in parallel and synchronizes the results. </p>
<p>T#his function creates tasks for forward and backward labeling algorithms using the provided scheduling mechanism. The tasks are executed in parallel, and the results are synchronized and stored in the provided vectors. </p>

<p class="definition">Definition at line <a class="el" href="BucketSolve_8h_source.html#l01376">1376</a> of file <a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1377</span>                                                                            {</div>
<div class="line"><span class="lineno"> 1378</span>    <span class="comment">// Schedule the forward labeling algorithm task on the scheduler.</span></div>
<div class="line"><span class="lineno"> 1379</span>    <span class="keyword">auto</span> forward_task =</div>
<div class="line"><span class="lineno"> 1380</span>        stdexec::schedule(<a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>) | stdexec::then([&amp;]() {</div>
<div class="line"><span class="lineno"> 1381</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#aa05e883574a58a277e1dbf8cfcdcde11">labeling_algorithm&lt;Direction::Forward, state, fullness&gt;</a>();</div>
<div class="line"><span class="lineno"> 1382</span>        });</div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span>    <span class="comment">// Schedule the backward labeling algorithm task on the scheduler.</span></div>
<div class="line"><span class="lineno"> 1385</span>    <span class="keyword">auto</span> backward_task =</div>
<div class="line"><span class="lineno"> 1386</span>        stdexec::schedule(<a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>) | stdexec::then([&amp;]() {</div>
<div class="line"><span class="lineno"> 1387</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="#aa05e883574a58a277e1dbf8cfcdcde11">labeling_algorithm&lt;Direction::Backward, state, fullness&gt;</a>();</div>
<div class="line"><span class="lineno"> 1388</span>        });</div>
<div class="line"><span class="lineno"> 1389</span> </div>
<div class="line"><span class="lineno"> 1390</span>    <span class="comment">// Combine the forward and backward tasks.</span></div>
<div class="line"><span class="lineno"> 1391</span>    <span class="keyword">auto</span> combined_work =</div>
<div class="line"><span class="lineno"> 1392</span>        stdexec::when_all(std::move(forward_task), std::move(backward_task)) |</div>
<div class="line"><span class="lineno"> 1393</span>        stdexec::then([&amp;](<span class="keyword">auto</span> forward_result, <span class="keyword">auto</span> backward_result) {</div>
<div class="line"><span class="lineno"> 1394</span>            <span class="comment">// Store the results into the provided vectors.</span></div>
<div class="line"><span class="lineno"> 1395</span>            forward_cbar = std::move(forward_result);</div>
<div class="line"><span class="lineno"> 1396</span>            backward_cbar = std::move(backward_result);</div>
<div class="line"><span class="lineno"> 1397</span>        });</div>
<div class="line"><span class="lineno"> 1398</span> </div>
<div class="line"><span class="lineno"> 1399</span>    <span class="comment">// Wait for all tasks to complete.</span></div>
<div class="line"><span class="lineno"> 1400</span>    stdexec::sync_wait(std::move(combined_work));</div>
<div class="line"><span class="lineno"> 1401</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a66484f0fb3c999584f77880b3dd54f7c_cgraph.png" border="0" usemap="#aclassBucketGraph_a66484f0fb3c999584f77880b3dd54f7c_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a66484f0fb3c999584f77880b3dd54f7c_cgraph" id="aclassBucketGraph_a66484f0fb3c999584f77880b3dd54f7c_cgraph">
<area shape="rect" title="Runs forward and backward labeling algorithms in parallel and synchronizes the results." alt="" coords="5,78,178,119"/>
<area shape="rect" href="classBucketGraph.html#aa05e883574a58a277e1dbf8cfcdcde11" title=" " alt="" coords="226,154,373,195"/>
<area shape="poly" title=" " alt="" coords="150,117,228,146,226,151,149,122"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="1214,292,1355,332"/>
<area shape="poly" title=" " alt="" coords="340,152,401,123,485,88,586,53,699,24,818,6,879,3,940,5,999,12,1058,25,1114,46,1167,74,1193,93,1214,117,1247,171,1268,227,1280,276,1275,277,1263,229,1242,174,1210,120,1189,97,1165,78,1112,51,1056,30,998,17,939,10,879,8,819,11,700,29,587,58,487,93,403,127,342,156"/>
<area shape="rect" href="BucketAVX_8h.html#ae227f266495f4f4b7271522f58d49b41" title=" " alt="" coords="424,444,599,484"/>
<area shape="poly" title=" " alt="" coords="315,194,361,268,423,359,483,431,479,434,419,362,356,271,311,197"/>
<area shape="rect" href="classBucketGraph.html#a8349140e5144647cfc32a12c9834a16f" title=" " alt="" coords="423,184,599,224"/>
<area shape="poly" title=" " alt="" coords="374,182,408,187,407,192,373,188"/>
<area shape="rect" href="classBucketGraph.html#abc324fb45e794482eb642adb8b0f664d" title="Retrieves the best label from the bucket graph based on the given topological order,..." alt="" coords="969,88,1122,128"/>
<area shape="poly" title=" " alt="" coords="373,154,421,144,566,125,711,113,953,105,953,110,712,118,566,130,421,149,374,159"/>
<area shape="rect" href="classBucketGraph.html#a469baec04539f3c8ae984f5558fbfc25" title=" " alt="" coords="421,273,601,298"/>
<area shape="poly" title=" " alt="" coords="341,193,472,263,470,267,339,198"/>
<area shape="rect" href="structLabel.html#a19a3474af3d3404369c0fe3cf1797ff2" title=" " alt="" coords="443,322,579,348"/>
<area shape="poly" title=" " alt="" coords="316,194,358,252,388,282,422,309,431,313,428,318,420,313,385,286,354,255,311,197"/>
<area shape="rect" href="BucketAVX_8h.html#a1055d33f3fa0023a7782b354c84f30d6" title=" " alt="" coords="723,451,803,477"/>
<area shape="poly" title=" " alt="" coords="599,461,707,461,707,467,599,467"/>
<area shape="rect" href="BucketAVX_8h.html#a4f6006d66fa23bc62965a93c057360af" title=" " alt="" coords="698,501,828,526"/>
<area shape="poly" title=" " alt="" coords="600,479,684,495,683,501,599,484"/>
<area shape="poly" title=" " alt="" coords="1123,126,1168,150,1200,179,1228,213,1269,277,1264,280,1224,216,1196,183,1164,154,1121,131"/>
<area shape="poly" title=" " alt="" coords="476,274,469,264,473,254,488,248,511,246,537,249,550,256,548,260,536,254,511,251,489,253,477,258,474,263,480,271"/>
<area shape="rect" href="classBucketGraph.html#a8153a13e14a6233434a3f7ef3230f8b8" title=" " alt="" coords="681,133,845,174"/>
<area shape="poly" title=" " alt="" coords="539,270,600,234,623,211,648,190,672,178,674,182,651,194,627,215,603,238,542,274"/>
<area shape="rect" href="classBucketGraph.html#a1546f6d1eec5a80afaed3be7ccda0d4a" title=" " alt="" coords="957,164,1134,204"/>
<area shape="poly" title=" " alt="" coords="563,270,649,250,802,220,941,197,942,202,803,226,650,255,564,275"/>
<area shape="rect" href="classBucketGraph.html#a395e609a3dcdb495e2a43da1742af7bd" title="Eliminates bucket arcs based on a given threshold." alt="" coords="649,299,877,325"/>
<area shape="poly" title=" " alt="" coords="602,292,634,296,633,301,601,298"/>
<area shape="rect" href="classBucketGraph.html#a07082dcbaab12cbea07fbe16acee9bcf" title="Get the opposite bucket number for a given bucket index." alt="" coords="957,234,1134,275"/>
<area shape="poly" title=" " alt="" coords="601,278,941,258,941,263,602,283"/>
<area shape="rect" href="classBucketGraph.html#a394e55293111f386caf44ed9e67c5653" title=" " alt="" coords="939,350,1152,376"/>
<area shape="poly" title=" " alt="" coords="572,296,602,307,626,322,650,335,719,351,790,361,859,366,923,367,923,372,859,371,790,367,718,357,648,340,624,327,600,312,570,301"/>
<area shape="rect" href="classBucketGraph.html#a84a8345b541e0e44e44e6215a9cdc779" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="925,399,1166,425"/>
<area shape="poly" title=" " alt="" coords="582,296,603,307,619,324,627,342,635,358,651,373,712,399,779,415,846,422,909,423,909,429,845,428,778,420,711,404,648,377,631,362,622,344,615,327,600,312,580,301"/>
<area shape="poly" title=" " alt="" coords="680,149,193,110,193,104,681,144"/>
<area shape="poly" title=" " alt="" coords="680,160,389,173,388,168,680,155"/>
<area shape="poly" title=" " alt="" coords="846,160,942,170,941,176,845,165"/>
<area shape="poly" title=" " alt="" coords="877,309,1198,309,1198,315,877,315"/>
<area shape="poly" title=" " alt="" coords="829,296,941,273,942,278,830,301"/>
<area shape="poly" title=" " alt="" coords="839,323,956,344,955,349,838,328"/>
<area shape="poly" title=" " alt="" coords="1109,347,1198,328,1199,333,1110,352"/>
<area shape="poly" title=" " alt="" coords="1132,396,1165,386,1207,364,1244,340,1247,344,1209,369,1167,391,1134,401"/>
</map>
</div>

</div>
</div>
<a id="a2925857b35aa31c3c5af4a2795840b98" name="a2925857b35aa31c3c5af4a2795840b98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2925857b35aa31c3c5af4a2795840b98">&#9670;&#160;</a></span>SCC_handler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::SCC_handler </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handles the computation of Strongly Connected Components (SCCs) for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>. </p>
<p>This function processes the bucket graph to identify SCCs using Tarjan's algorithm. It extends the bucket graph with arcs defined by the Phi sets, computes the SCCs, and orders them topologically. It also sorts the buckets within each <a class="el" href="classSCC.html" title="A class to find Strongly Connected Components (SCCs) in a directed graph using Tarjan&#39;s algorithm.">SCC</a> based on their lower or upper bounds, depending on the direction. Finally, it splits the arcs for each <a class="el" href="classSCC.html" title="A class to find Strongly Connected Components (SCCs) in a directed graph using Tarjan&#39;s algorithm.">SCC</a> and removes duplicates. </p>

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l00864">864</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  864</span>                              {</div>
<div class="line"><span class="lineno">  865</span>    <span class="comment">// Get necessary references.</span></div>
<div class="line"><span class="lineno">  866</span>    <span class="keyword">auto</span> &amp;Phi = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>, <a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>);</div>
<div class="line"><span class="lineno">  867</span>    <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  868</span>    <span class="keyword">auto</span> &amp;bucket_graph = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a9da46b294b52721c7272165c2bc468f7">fw_bucket_graph</a>, <a class="code hl_variable" href="#aab29c670775c3ff9fa3a9ca48444385e">bw_bucket_graph</a>);</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>    <span class="comment">// Build an extended bucket graph from bucket_graph using Phi.</span></div>
<div class="line"><span class="lineno">  871</span>    ankerl::unordered_dense::map&lt;int, std::vector&lt;int&gt;&gt; extended_bucket_graph =</div>
<div class="line"><span class="lineno">  872</span>        bucket_graph;</div>
<div class="line"><span class="lineno">  873</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; extended_bucket_graph.size(); ++i) {</div>
<div class="line"><span class="lineno">  874</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;phi_set = Phi[i];</div>
<div class="line"><span class="lineno">  875</span>        <span class="keywordflow">if</span> (phi_set.empty()) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> phi_bucket : phi_set) {</div>
<div class="line"><span class="lineno">  877</span>            extended_bucket_graph[phi_bucket].push_back(i);</div>
<div class="line"><span class="lineno">  878</span>        }</div>
<div class="line"><span class="lineno">  879</span>    }</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>    <span class="comment">// Compute SCCs using Tarjan&#39;s algorithm.</span></div>
<div class="line"><span class="lineno">  882</span>    SCC scc_finder;</div>
<div class="line"><span class="lineno">  883</span>    scc_finder.<a class="code hl_function" href="classSCC.html#a1c3c0a300e9234ccf344072b1f2c949b">convertFromUnorderedMap</a>(extended_bucket_graph);</div>
<div class="line"><span class="lineno">  884</span>    <span class="keyword">auto</span> sccs = scc_finder.<a class="code hl_function" href="classSCC.html#afdc7bf9b9ebc6853227b86fe4cb151ea">tarjanSCC</a>();</div>
<div class="line"><span class="lineno">  885</span>    <span class="keyword">auto</span> topological_order = scc_finder.<a class="code hl_function" href="classSCC.html#a62703561fe2b0e0a6f7961b09778ff6e">topologicalOrderOfSCCs</a>(sccs);</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span><span class="preprocessor">#ifdef VERBOSE</span></div>
<div class="line"><span class="lineno">  888</span>    <span class="comment">// Optional: Print SCCs.</span></div>
<div class="line"><span class="lineno">  889</span>    <span class="keyword">constexpr</span> <span class="keyword">auto</span> <a class="code hl_variable" href="Definitions_8h.html#a03d01fd30975aa53b39f771917e8e157">blue</a> = <span class="stringliteral">&quot;\033[34m&quot;</span>;</div>
<div class="line"><span class="lineno">  890</span>    <span class="keyword">constexpr</span> <span class="keyword">auto</span> <a class="code hl_variable" href="Definitions_8h.html#a3b97e8952f5f2eb7e719f225b1406688">reset</a> = <span class="stringliteral">&quot;\033[0m&quot;</span>;</div>
<div class="line"><span class="lineno">  891</span>    fmt::print((D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) ? <span class="stringliteral">&quot;FW SCCs:\n&quot;</span> : <span class="stringliteral">&quot;BW SCCs:\n&quot;</span>);</div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> scc : topological_order) {</div>
<div class="line"><span class="lineno">  893</span>        fmt::print(<span class="stringliteral">&quot;{}({}) -&gt; {}&quot;</span>, <a class="code hl_variable" href="Definitions_8h.html#a03d01fd30975aa53b39f771917e8e157">blue</a>, scc, <a class="code hl_variable" href="Definitions_8h.html#a3b97e8952f5f2eb7e719f225b1406688">reset</a>);</div>
<div class="line"><span class="lineno">  894</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> bucket : sccs[scc]) {</div>
<div class="line"><span class="lineno">  895</span>            fmt::print(<span class="stringliteral">&quot;{} &quot;</span>, bucket);</div>
<div class="line"><span class="lineno">  896</span>        }</div>
<div class="line"><span class="lineno">  897</span>        fmt::print(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  898</span>    }</div>
<div class="line"><span class="lineno">  899</span>    fmt::print(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  900</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>    <span class="comment">// Order SCCs according to the topological order.</span></div>
<div class="line"><span class="lineno">  903</span>    std::vector&lt;std::vector&lt;int&gt;&gt; ordered_sccs;</div>
<div class="line"><span class="lineno">  904</span>    ordered_sccs.reserve(sccs.size());</div>
<div class="line"><span class="lineno">  905</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> scc : topological_order) {</div>
<div class="line"><span class="lineno">  906</span>        ordered_sccs.push_back(sccs[scc]);</div>
<div class="line"><span class="lineno">  907</span>    }</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>    <span class="comment">// Sort each SCC: For Forward, sort by bucket lower bound; for Backward,</span></div>
<div class="line"><span class="lineno">  910</span>    <span class="comment">// sort by bucket upper bound.</span></div>
<div class="line"><span class="lineno">  911</span>    <span class="keyword">auto</span> sorted_sccs = sccs;  <span class="comment">// Make a copy</span></div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;scc : sorted_sccs) {</div>
<div class="line"><span class="lineno">  913</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  914</span>            pdqsort(scc.begin(), scc.end(), [&amp;buckets](<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b) {</div>
<div class="line"><span class="lineno">  915</span>                return buckets[a].lb[0] &lt; buckets[b].lb[0];</div>
<div class="line"><span class="lineno">  916</span>            });</div>
<div class="line"><span class="lineno">  917</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  918</span>            pdqsort(scc.begin(), scc.end(), [&amp;buckets](<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b) {</div>
<div class="line"><span class="lineno">  919</span>                return buckets[a].ub[0] &gt; buckets[b].ub[0];</div>
<div class="line"><span class="lineno">  920</span>            });</div>
<div class="line"><span class="lineno">  921</span>        }</div>
<div class="line"><span class="lineno">  922</span>    }</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>    <span class="comment">// Ensure each VRP node has the appropriate SCC arc container allocated.</span></div>
<div class="line"><span class="lineno">  925</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;node : nodes) {</div>
<div class="line"><span class="lineno">  926</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  927</span>            node.fw_arcs_scc.resize(sccs.size());</div>
<div class="line"><span class="lineno">  928</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  929</span>            node.bw_arcs_scc.resize(sccs.size());</div>
<div class="line"><span class="lineno">  930</span>        }</div>
<div class="line"><span class="lineno">  931</span>    }</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>    <span class="comment">// Lambda: Filter and collect arcs for a given bucket, node, and</span></div>
<div class="line"><span class="lineno">  934</span>    <span class="comment">// direction.</span></div>
<div class="line"><span class="lineno">  935</span>    <span class="keyword">auto</span> process_bucket_arcs = [&amp;](<span class="keywordtype">int</span> bucket, <span class="keywordtype">int</span> scc_index) {</div>
<div class="line"><span class="lineno">  936</span>        <span class="keywordtype">int</span> from_node_id = buckets[bucket].node_id;</div>
<div class="line"><span class="lineno">  937</span>        VRPNode &amp;node = nodes[from_node_id];</div>
<div class="line"><span class="lineno">  938</span>        <span class="comment">// Select the proper arc container and node arcs based on the</span></div>
<div class="line"><span class="lineno">  939</span>        <span class="comment">// direction.</span></div>
<div class="line"><span class="lineno">  940</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;node_arcs =</div>
<div class="line"><span class="lineno">  941</span>            (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) ? node.<a class="code hl_variable" href="structVRPNode.html#af937f0336380db324611a179d7c4b6e7">fw_arcs</a> : node.<a class="code hl_variable" href="#a4bbaac17b81ce02f093f4dff61978d3e">bw_arcs</a>;</div>
<div class="line"><span class="lineno">  942</span>        std::vector&lt;Arc&gt; &amp;filtered_arcs = (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>)</div>
<div class="line"><span class="lineno">  943</span>                                              ? node.<a class="code hl_variable" href="structVRPNode.html#a2cf3a8fca681faf0c266fbbe65d1dae2">fw_arcs_scc</a>[scc_index]</div>
<div class="line"><span class="lineno">  944</span>                                              : node.bw_arcs_scc[scc_index];</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket_arcs = buckets[bucket].template get_bucket_arcs&lt;D&gt;();</div>
<div class="line"><span class="lineno">  947</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;arc : bucket_arcs) {</div>
<div class="line"><span class="lineno">  948</span>            <span class="keywordtype">int</span> to_node_id = buckets[arc.to_bucket].node_id;</div>
<div class="line"><span class="lineno">  949</span>            <span class="comment">// Look for an arc with destination equal to to_node_id.</span></div>
<div class="line"><span class="lineno">  950</span>            <span class="keyword">auto</span> it = std::find_if(</div>
<div class="line"><span class="lineno">  951</span>                node_arcs.begin(), node_arcs.end(),</div>
<div class="line"><span class="lineno">  952</span>                [&amp;to_node_id](<span class="keyword">const</span> Arc &amp;a) { return a.to == to_node_id; });</div>
<div class="line"><span class="lineno">  953</span>            <span class="keywordflow">if</span> (it != node_arcs.end()) {</div>
<div class="line"><span class="lineno">  954</span>                filtered_arcs.push_back(*it);</div>
<div class="line"><span class="lineno">  955</span>            }</div>
<div class="line"><span class="lineno">  956</span>        }</div>
<div class="line"><span class="lineno">  957</span>    };</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>    <span class="comment">// For each SCC, process arcs for each bucket in the SCC.</span></div>
<div class="line"><span class="lineno">  960</span>    <span class="keywordtype">int</span> scc_ctr = 0;</div>
<div class="line"><span class="lineno">  961</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;scc : sccs) {</div>
<div class="line"><span class="lineno">  962</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> bucket : scc) {</div>
<div class="line"><span class="lineno">  963</span>            process_bucket_arcs(bucket, scc_ctr);</div>
<div class="line"><span class="lineno">  964</span>        }</div>
<div class="line"><span class="lineno">  965</span>        ++scc_ctr;</div>
<div class="line"><span class="lineno">  966</span>    }</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span>    <span class="comment">// Lambda: Sort and deduplicate arcs within each node&#39;s SCC arc</span></div>
<div class="line"><span class="lineno">  969</span>    <span class="comment">// container.</span></div>
<div class="line"><span class="lineno">  970</span>    <span class="keyword">auto</span> sortAndDedup = [](std::vector&lt;Arc&gt; &amp;arcs) {</div>
<div class="line"><span class="lineno">  971</span>        pdqsort(arcs.begin(), arcs.end(), [](<span class="keyword">const</span> Arc &amp;a, <span class="keyword">const</span> Arc &amp;b) {</div>
<div class="line"><span class="lineno">  972</span>            return std::tie(a.from, a.to) &lt; std::tie(b.from, b.to);</div>
<div class="line"><span class="lineno">  973</span>        });</div>
<div class="line"><span class="lineno">  974</span>        <span class="keyword">auto</span> last = std::unique(arcs.begin(), arcs.end(),</div>
<div class="line"><span class="lineno">  975</span>                                [](<span class="keyword">const</span> Arc &amp;a, <span class="keyword">const</span> Arc &amp;b) {</div>
<div class="line"><span class="lineno">  976</span>                                    return a.from == b.from &amp;&amp; a.to == b.to;</div>
<div class="line"><span class="lineno">  977</span>                                });</div>
<div class="line"><span class="lineno">  978</span>        arcs.erase(last, arcs.end());</div>
<div class="line"><span class="lineno">  979</span>    };</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>    <span class="comment">// For each node, sort and deduplicate all arc lists.</span></div>
<div class="line"><span class="lineno">  982</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;node : nodes) {</div>
<div class="line"><span class="lineno">  983</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  984</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;arcs : node.<a class="code hl_variable" href="structVRPNode.html#a2cf3a8fca681faf0c266fbbe65d1dae2">fw_arcs_scc</a>) {</div>
<div class="line"><span class="lineno">  985</span>                sortAndDedup(arcs);</div>
<div class="line"><span class="lineno">  986</span>            }</div>
<div class="line"><span class="lineno">  987</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  988</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;arcs : node.<a class="code hl_variable" href="structVRPNode.html#a421441739d8b9997aaf361da7efd2597">bw_arcs_scc</a>) {</div>
<div class="line"><span class="lineno">  989</span>                sortAndDedup(arcs);</div>
<div class="line"><span class="lineno">  990</span>            }</div>
<div class="line"><span class="lineno">  991</span>        }</div>
<div class="line"><span class="lineno">  992</span>    }</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>    <span class="comment">// Build union-find structure for SCCs using the ordered SCCs.</span></div>
<div class="line"><span class="lineno">  995</span>    UnionFind uf(ordered_sccs);</div>
<div class="line"><span class="lineno">  996</span>    <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  997</span>        <a class="code hl_variable" href="#accf4e37b839073ff25d96f21d597241c">fw_ordered_sccs</a> = ordered_sccs;</div>
<div class="line"><span class="lineno">  998</span>        <a class="code hl_variable" href="#a54765fb92f241628a510eb63571c22a2">fw_topological_order</a> = topological_order;</div>
<div class="line"><span class="lineno">  999</span>        <a class="code hl_variable" href="#a3b02edcfecd793303cd6a248e4f88b8f">fw_sccs</a> = sccs;</div>
<div class="line"><span class="lineno"> 1000</span>        <a class="code hl_variable" href="#ac287ad78f9bc8de787196b4abbc88a57">fw_sccs_sorted</a> = sorted_sccs;</div>
<div class="line"><span class="lineno"> 1001</span>        <a class="code hl_variable" href="#a077e9ffa43523f437f55703fcae4a5b5">fw_union_find</a> = uf;</div>
<div class="line"><span class="lineno"> 1002</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1003</span>        <a class="code hl_variable" href="#acc984d67eb18784f890ad2965cceecf0">bw_ordered_sccs</a> = ordered_sccs;</div>
<div class="line"><span class="lineno"> 1004</span>        <a class="code hl_variable" href="#a4c4f4665f8ab274f246fe01d24f51def">bw_topological_order</a> = topological_order;</div>
<div class="line"><span class="lineno"> 1005</span>        <a class="code hl_variable" href="#a6a345b497512a5c4643fdff296ee7cc3">bw_sccs</a> = sccs;</div>
<div class="line"><span class="lineno"> 1006</span>        <a class="code hl_variable" href="#a59c94817c07ee10346ec61799e55372b">bw_sccs_sorted</a> = sorted_sccs;</div>
<div class="line"><span class="lineno"> 1007</span>        <a class="code hl_variable" href="#a0e73efd3e095762e2a7ab26357fe30ea">bw_union_find</a> = uf;</div>
<div class="line"><span class="lineno"> 1008</span>    }</div>
<div class="line"><span class="lineno"> 1009</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a03d01fd30975aa53b39f771917e8e157"><div class="ttname"><a href="Definitions_8h.html#a03d01fd30975aa53b39f771917e8e157">blue</a></div><div class="ttdeci">constexpr const char * blue</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00145">Definitions.h:145</a></div></div>
<div class="ttc" id="aclassSCC_html_a1c3c0a300e9234ccf344072b1f2c949b"><div class="ttname"><a href="classSCC.html#a1c3c0a300e9234ccf344072b1f2c949b">SCC::convertFromUnorderedMap</a></div><div class="ttdeci">void convertFromUnorderedMap(const ankerl::unordered_dense::map&lt; int, std::vector&lt; int &gt; &gt; &amp;map)</div><div class="ttdoc">Converts an unordered map representation of a graph into an internal graph representation.</div><div class="ttdef"><b>Definition</b> <a href="SCCFinder_8h_source.html#l00057">SCCFinder.h:57</a></div></div>
<div class="ttc" id="aclassSCC_html_a62703561fe2b0e0a6f7961b09778ff6e"><div class="ttname"><a href="classSCC.html#a62703561fe2b0e0a6f7961b09778ff6e">SCC::topologicalOrderOfSCCs</a></div><div class="ttdeci">std::vector&lt; int &gt; topologicalOrderOfSCCs(const std::vector&lt; std::vector&lt; int &gt; &gt; &amp;sccs)</div><div class="ttdoc">Computes the topological order of Strongly Connected Components (SCCs) in a directed graph.</div><div class="ttdef"><b>Definition</b> <a href="SCCFinder_8h_source.html#l00089">SCCFinder.h:89</a></div></div>
<div class="ttc" id="aclassSCC_html_afdc7bf9b9ebc6853227b86fe4cb151ea"><div class="ttname"><a href="classSCC.html#afdc7bf9b9ebc6853227b86fe4cb151ea">SCC::tarjanSCC</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; tarjanSCC()</div><div class="ttdoc">Finds and returns all Strongly Connected Components (SCCs) in the graph using Tarjan&#39;s algorithm.</div><div class="ttdef"><b>Definition</b> <a href="SCCFinder_8h_source.html#l00072">SCCFinder.h:72</a></div></div>
<div class="ttc" id="astructVRPNode_html_a2cf3a8fca681faf0c266fbbe65d1dae2"><div class="ttname"><a href="structVRPNode.html#a2cf3a8fca681faf0c266fbbe65d1dae2">VRPNode::fw_arcs_scc</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Arc &gt; &gt; fw_arcs_scc</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00042">VRPNode.h:42</a></div></div>
<div class="ttc" id="astructVRPNode_html_a421441739d8b9997aaf361da7efd2597"><div class="ttname"><a href="structVRPNode.html#a421441739d8b9997aaf361da7efd2597">VRPNode::bw_arcs_scc</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; Arc &gt; &gt; bw_arcs_scc</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00043">VRPNode.h:43</a></div></div>
<div class="ttc" id="astructVRPNode_html_af937f0336380db324611a179d7c4b6e7"><div class="ttname"><a href="structVRPNode.html#af937f0336380db324611a179d7c4b6e7">VRPNode::fw_arcs</a></div><div class="ttdeci">std::vector&lt; Arc &gt; fw_arcs</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00040">VRPNode.h:40</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a2925857b35aa31c3c5af4a2795840b98_cgraph.png" border="0" usemap="#aclassBucketGraph_a2925857b35aa31c3c5af4a2795840b98_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a2925857b35aa31c3c5af4a2795840b98_cgraph" id="aclassBucketGraph_a2925857b35aa31c3c5af4a2795840b98_cgraph">
<area shape="rect" title="Handles the computation of Strongly Connected Components (SCCs) for the BucketGraph." alt="" coords="5,96,185,121"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="268,5,410,46"/>
<area shape="poly" title=" " alt="" coords="130,92,232,55,253,48,254,53,234,60,132,97"/>
<area shape="rect" href="classSCC.html#a1c3c0a300e9234ccf344072b1f2c949b" title="Converts an unordered map representation of a graph into an internal graph representation." alt="" coords="233,70,445,96"/>
<area shape="poly" title=" " alt="" coords="185,96,217,93,217,98,185,102"/>
<area shape="rect" href="classSCC.html#afdc7bf9b9ebc6853227b86fe4cb151ea" title="Finds and returns all Strongly Connected Components (SCCs) in the graph using Tarjan&#39;s algorithm." alt="" coords="282,120,396,145"/>
<area shape="poly" title=" " alt="" coords="185,115,267,123,267,128,185,120"/>
<area shape="rect" href="classSCC.html#a62703561fe2b0e0a6f7961b09778ff6e" title="Computes the topological order of Strongly Connected Components (SCCs) in a directed graph." alt="" coords="241,169,437,194"/>
<area shape="poly" title=" " alt="" coords="130,119,233,155,259,162,258,167,232,160,129,124"/>
<area shape="rect" href="classSCC.html#a8c9aaadeeda1e882c033db0fed40d548" title="Adds a directed edge from vertex v to vertex w in the graph." alt="" coords="493,70,597,96"/>
<area shape="poly" title=" " alt="" coords="446,80,477,80,477,86,446,86"/>
</map>
</div>

</div>
</div>
<a id="af6b54fdc1e45c15dce61742706087dac" name="af6b54fdc1e45c15dce61742706087dac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6b54fdc1e45c15dce61742706087dac">&#9670;&#160;</a></span>set_adjacency_list()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::set_adjacency_list </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketUtils_8h_source.html#l01325">1325</a> of file <a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1325</span>                                     {</div>
<div class="line"><span class="lineno"> 1326</span>    <span class="comment">// === Step 1: Clear Existing Arcs from Each Node ===</span></div>
<div class="line"><span class="lineno"> 1327</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;node : nodes) {</div>
<div class="line"><span class="lineno"> 1328</span>        node.clear_arcs();</div>
<div class="line"><span class="lineno"> 1329</span>    }</div>
<div class="line"><span class="lineno"> 1330</span> </div>
<div class="line"><span class="lineno"> 1331</span>    <span class="comment">// === Step 2: MST-Based Clustering ===</span></div>
<div class="line"><span class="lineno"> 1332</span>    MST mst_solver(nodes,</div>
<div class="line"><span class="lineno"> 1333</span>                   [<span class="keyword">this</span>](<span class="keywordtype">int</span> from, <span class="keywordtype">int</span> to) { <span class="keywordflow">return</span> <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(from, to); });</div>
<div class="line"><span class="lineno"> 1334</span>    <span class="keyword">auto</span> mst = mst_solver.compute_mst();</div>
<div class="line"><span class="lineno"> 1335</span> </div>
<div class="line"><span class="lineno"> 1336</span>    <span class="comment">// Collect and sort MST edge weights.</span></div>
<div class="line"><span class="lineno"> 1337</span>    std::vector&lt;double&gt; edge_weights;</div>
<div class="line"><span class="lineno"> 1338</span>    edge_weights.reserve(mst.size());</div>
<div class="line"><span class="lineno"> 1339</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[weight, from, to] : mst) {</div>
<div class="line"><span class="lineno"> 1340</span>        edge_weights.push_back(weight);</div>
<div class="line"><span class="lineno"> 1341</span>    }</div>
<div class="line"><span class="lineno"> 1342</span>    pdqsort(edge_weights.begin(), edge_weights.end());</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>    <span class="comment">// Compute theta as the 90th percentile (scaled down by 100).</span></div>
<div class="line"><span class="lineno"> 1345</span>    <span class="keywordtype">size_t</span> p90_index = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(0.9 * edge_weights.size());</div>
<div class="line"><span class="lineno"> 1346</span>    <span class="keywordtype">double</span> theta = (edge_weights[p90_index]) / 100.0;</div>
<div class="line"><span class="lineno"> 1347</span>    <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;Computed theta: {}\n&quot;</span>, theta);</div>
<div class="line"><span class="lineno"> 1348</span> </div>
<div class="line"><span class="lineno"> 1349</span>    <span class="comment">// Cluster nodes and build mapping: job_id -&gt; cluster_id.</span></div>
<div class="line"><span class="lineno"> 1350</span>    <span class="keyword">auto</span> clusters = mst_solver.cluster(theta);</div>
<div class="line"><span class="lineno"> 1351</span>    <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;Number of clusters: {}\n&quot;</span>, clusters.size());</div>
<div class="line"><span class="lineno"> 1352</span>    std::vector&lt;int&gt; job_to_cluster(nodes.size(), -1);</div>
<div class="line"><span class="lineno"> 1353</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cluster_id = 0; cluster_id &lt; clusters.size(); ++cluster_id) {</div>
<div class="line"><span class="lineno"> 1354</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> job : clusters[cluster_id]) {</div>
<div class="line"><span class="lineno"> 1355</span>            job_to_cluster[job] = cluster_id;</div>
<div class="line"><span class="lineno"> 1356</span>        }</div>
<div class="line"><span class="lineno"> 1357</span>    }</div>
<div class="line"><span class="lineno"> 1358</span> </div>
<div class="line"><span class="lineno"> 1359</span>    <span class="comment">// === Step 3: Precompute Resource Information ===</span></div>
<div class="line"><span class="lineno"> 1360</span>    <span class="comment">// Find the index for the &quot;time&quot; resource.</span></div>
<div class="line"><span class="lineno"> 1361</span>    <span class="keyword">auto</span> time_it =</div>
<div class="line"><span class="lineno"> 1362</span>        std::find(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.begin(), <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.end(), <span class="stringliteral">&quot;time&quot;</span>);</div>
<div class="line"><span class="lineno"> 1363</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> time_resource_idx =</div>
<div class="line"><span class="lineno"> 1364</span>        (time_it != <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.end())</div>
<div class="line"><span class="lineno"> 1365</span>            ? std::distance(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.begin(), time_it)</div>
<div class="line"><span class="lineno"> 1366</span>            : -1;</div>
<div class="line"><span class="lineno"> 1367</span> </div>
<div class="line"><span class="lineno"> 1368</span>    <span class="comment">// === Step 4: Process Arcs for Each Node ===</span></div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span>    <span class="comment">// Helper lambda to compute resource increments.</span></div>
<div class="line"><span class="lineno"> 1371</span>    <span class="comment">// Depending on symmetry, consumption is either taken as-is or averaged.</span></div>
<div class="line"><span class="lineno"> 1372</span>    <span class="keyword">auto</span> compute_resource_increments = [&amp;](<span class="keyword">const</span> VRPNode &amp;from_node,</div>
<div class="line"><span class="lineno"> 1373</span>                                           <span class="keyword">const</span> VRPNode &amp;to_node,</div>
<div class="line"><span class="lineno"> 1374</span>                                           <span class="keywordtype">double</span> travel_cost,</div>
<div class="line"><span class="lineno"> 1375</span>                                           std::vector&lt;double&gt; &amp;inc) {</div>
<div class="line"><span class="lineno"> 1376</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> nres = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size();</div>
<div class="line"><span class="lineno"> 1377</span>        <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (SYM == <a class="code hl_enumvalue" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10a314084a577b998d8089dff72c98c58b0">Symmetry::Asymmetric</a>) {</div>
<div class="line"><span class="lineno"> 1378</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; nres; ++r) {</div>
<div class="line"><span class="lineno"> 1379</span>                inc[r] = (r == time_resource_idx)</div>
<div class="line"><span class="lineno"> 1380</span>                             ? travel_cost + from_node.<a class="code hl_variable" href="structVRPNode.html#a95ef921434910a24ff716e32251a2613">duration</a></div>
<div class="line"><span class="lineno"> 1381</span>                             : from_node.consumption[r];</div>
<div class="line"><span class="lineno"> 1382</span>            }</div>
<div class="line"><span class="lineno"> 1383</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1384</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; nres; ++r) {</div>
<div class="line"><span class="lineno"> 1385</span>                inc[r] =</div>
<div class="line"><span class="lineno"> 1386</span>                    (r == time_resource_idx)</div>
<div class="line"><span class="lineno"> 1387</span>                        ? (from_node.<a class="code hl_variable" href="structVRPNode.html#a95ef921434910a24ff716e32251a2613">duration</a> / 2.0 + travel_cost +</div>
<div class="line"><span class="lineno"> 1388</span>                           to_node.duration / 2.0)</div>
<div class="line"><span class="lineno"> 1389</span>                        : ((from_node.<a class="code hl_variable" href="structVRPNode.html#a9c7840a24952797c86482424e207666c">consumption</a>[r] + to_node.consumption[r]) /</div>
<div class="line"><span class="lineno"> 1390</span>                           2.0);</div>
<div class="line"><span class="lineno"> 1391</span>            }</div>
<div class="line"><span class="lineno"> 1392</span>        }</div>
<div class="line"><span class="lineno"> 1393</span>    };</div>
<div class="line"><span class="lineno"> 1394</span> </div>
<div class="line"><span class="lineno"> 1395</span>    <span class="comment">// Lambda to add forward and reverse arcs from a given node.</span></div>
<div class="line"><span class="lineno"> 1396</span>    <span class="keyword">auto</span> add_arcs_for_node = [&amp;](<span class="keyword">const</span> VRPNode &amp;curr_node) {</div>
<div class="line"><span class="lineno"> 1397</span>        <span class="comment">// Containers to accumulate arcs before insertion.</span></div>
<div class="line"><span class="lineno"> 1398</span>        <span class="keyword">using </span>ArcTuple = std::tuple&lt;double, int, std::vector&lt;double&gt;, <span class="keywordtype">double</span>&gt;;</div>
<div class="line"><span class="lineno"> 1399</span>        std::vector&lt;ArcTuple&gt; forward_arcs;</div>
<div class="line"><span class="lineno"> 1400</span>        std::vector&lt;ArcTuple&gt; reverse_arcs;</div>
<div class="line"><span class="lineno"> 1401</span>        forward_arcs.reserve(nodes.size());</div>
<div class="line"><span class="lineno"> 1402</span>        reverse_arcs.reserve(nodes.size());</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span>        <span class="comment">// Iterate over candidate next nodes.</span></div>
<div class="line"><span class="lineno"> 1405</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;next_node : nodes) {</div>
<div class="line"><span class="lineno"> 1406</span>            <span class="comment">// Skip if the candidate is a depot, the same node, or a pstep</span></div>
<div class="line"><span class="lineno"> 1407</span>            <span class="comment">// depot.</span></div>
<div class="line"><span class="lineno"> 1408</span>            <span class="keywordflow">if</span> (next_node.id == <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.depot || curr_node.id == next_node.id ||</div>
<div class="line"><span class="lineno"> 1409</span>                (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.pstep &amp;&amp; (next_node.id == <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.pstep_depot ||</div>
<div class="line"><span class="lineno"> 1410</span>                                   next_node.id == <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.pstep_end_depot))) {</div>
<div class="line"><span class="lineno"> 1411</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1412</span>            }</div>
<div class="line"><span class="lineno"> 1413</span> </div>
<div class="line"><span class="lineno"> 1414</span>            <span class="keywordtype">double</span> travel_cost = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(curr_node.id, next_node.id);</div>
<div class="line"><span class="lineno"> 1415</span>            <span class="keywordtype">double</span> cost_inc = travel_cost - next_node.cost;</div>
<div class="line"><span class="lineno"> 1416</span> </div>
<div class="line"><span class="lineno"> 1417</span>            <span class="comment">// Skip self-loops (or if bucket indexes match; here using node</span></div>
<div class="line"><span class="lineno"> 1418</span>            <span class="comment">// id as bucket id).</span></div>
<div class="line"><span class="lineno"> 1419</span>            <span class="keywordflow">if</span> (curr_node.id == next_node.id) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1420</span> </div>
<div class="line"><span class="lineno"> 1421</span>            <span class="comment">// Compute resource increments.</span></div>
<div class="line"><span class="lineno"> 1422</span>            std::vector&lt;double&gt; res_inc(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size());</div>
<div class="line"><span class="lineno"> 1423</span>            compute_resource_increments(curr_node, next_node, travel_cost,</div>
<div class="line"><span class="lineno"> 1424</span>                                        res_inc);</div>
<div class="line"><span class="lineno"> 1425</span> </div>
<div class="line"><span class="lineno"> 1426</span>            <span class="comment">// Check feasibility: ensure resource consumption does not</span></div>
<div class="line"><span class="lineno"> 1427</span>            <span class="comment">// exceed next node&#39;s upper bound.</span></div>
<div class="line"><span class="lineno"> 1428</span>            <span class="keywordtype">bool</span> feasible = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1429</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(); ++r) {</div>
<div class="line"><span class="lineno"> 1430</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(curr_node.lb[r] + res_inc[r],</div>
<div class="line"><span class="lineno"> 1431</span>                                     next_node.ub[r])) {</div>
<div class="line"><span class="lineno"> 1432</span>                    feasible = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1433</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1434</span>                }</div>
<div class="line"><span class="lineno"> 1435</span>            }</div>
<div class="line"><span class="lineno"> 1436</span>            <span class="keywordflow">if</span> (!feasible) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1437</span> </div>
<div class="line"><span class="lineno"> 1438</span>            <span class="comment">// Compute priorities based on cluster membership.</span></div>
<div class="line"><span class="lineno"> 1439</span>            <span class="keywordtype">bool</span> same_cluster =</div>
<div class="line"><span class="lineno"> 1440</span>                (job_to_cluster[curr_node.id] == job_to_cluster[next_node.id]);</div>
<div class="line"><span class="lineno"> 1441</span>            <span class="keywordtype">double</span> forward_priority =</div>
<div class="line"><span class="lineno"> 1442</span>                (same_cluster ? 5.0 : 1.0) + 1.E-5 * next_node.start_time;</div>
<div class="line"><span class="lineno"> 1443</span>            <span class="keywordtype">double</span> reverse_priority =</div>
<div class="line"><span class="lineno"> 1444</span>                (same_cluster ? 1.0 : 5.0) + 1.E-5 * curr_node.start_time;</div>
<div class="line"><span class="lineno"> 1445</span> </div>
<div class="line"><span class="lineno"> 1446</span>            <span class="comment">// Collect arcs for forward and reverse directions.</span></div>
<div class="line"><span class="lineno"> 1447</span>            forward_arcs.emplace_back(forward_priority, next_node.id, res_inc,</div>
<div class="line"><span class="lineno"> 1448</span>                                      cost_inc);</div>
<div class="line"><span class="lineno"> 1449</span>            reverse_arcs.emplace_back(reverse_priority, next_node.id, res_inc,</div>
<div class="line"><span class="lineno"> 1450</span>                                      cost_inc);</div>
<div class="line"><span class="lineno"> 1451</span>        }</div>
<div class="line"><span class="lineno"> 1452</span> </div>
<div class="line"><span class="lineno"> 1453</span>        <span class="comment">// Insert the arcs into the corresponding nodes.</span></div>
<div class="line"><span class="lineno"> 1454</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[priority, to_node, res_inc, cost_inc] :</div>
<div class="line"><span class="lineno"> 1455</span>             forward_arcs) {</div>
<div class="line"><span class="lineno"> 1456</span>            nodes[curr_node.id].template <a class="code hl_function" href="#a42e016ec947d0a75ffa73ceab03207d7">add_arc&lt;Direction::Forward&gt;</a>(</div>
<div class="line"><span class="lineno"> 1457</span>                curr_node.id, to_node, res_inc, cost_inc, priority);</div>
<div class="line"><span class="lineno"> 1458</span>        }</div>
<div class="line"><span class="lineno"> 1459</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[priority, from_node, res_inc, cost_inc] :</div>
<div class="line"><span class="lineno"> 1460</span>             reverse_arcs) {</div>
<div class="line"><span class="lineno"> 1461</span>            nodes[from_node].template <a class="code hl_function" href="#a42e016ec947d0a75ffa73ceab03207d7">add_arc&lt;Direction::Backward&gt;</a>(</div>
<div class="line"><span class="lineno"> 1462</span>                from_node, curr_node.id, res_inc, cost_inc, priority);</div>
<div class="line"><span class="lineno"> 1463</span>        }</div>
<div class="line"><span class="lineno"> 1464</span>    };</div>
<div class="line"><span class="lineno"> 1465</span> </div>
<div class="line"><span class="lineno"> 1466</span>    <span class="comment">// Process each node, skipping the end depot.</span></div>
<div class="line"><span class="lineno"> 1467</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;node : nodes) {</div>
<div class="line"><span class="lineno"> 1468</span>        <span class="keywordflow">if</span> (node.id != <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.end_depot) {</div>
<div class="line"><span class="lineno"> 1469</span>            add_arcs_for_node(node);</div>
<div class="line"><span class="lineno"> 1470</span>        }</div>
<div class="line"><span class="lineno"> 1471</span>    }</div>
<div class="line"><span class="lineno"> 1472</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_af6b54fdc1e45c15dce61742706087dac_cgraph.png" border="0" usemap="#aclassBucketGraph_af6b54fdc1e45c15dce61742706087dac_cgraph" alt=""/></div>
<map name="aclassBucketGraph_af6b54fdc1e45c15dce61742706087dac_cgraph" id="aclassBucketGraph_af6b54fdc1e45c15dce61742706087dac_cgraph">
<area shape="rect" title=" " alt="" coords="5,104,216,130"/>
<area shape="rect" href="classBucketGraph.html#a42e016ec947d0a75ffa73ceab03207d7" title="Represents a bucket in the Bucket Graph. Adds an arc to the bucket graph." alt="" coords="264,5,413,31"/>
<area shape="poly" title=" " alt="" coords="135,101,192,72,263,40,277,34,279,39,265,45,195,76,137,106"/>
<area shape="rect" href="classMST.html#ae8f38e66bc8580c27c85f2455a6a4d2d" title=" " alt="" coords="271,55,406,80"/>
<area shape="poly" title=" " alt="" coords="173,101,260,82,261,87,174,106"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="271,104,406,130"/>
<area shape="poly" title=" " alt="" coords="216,114,255,114,255,120,216,120"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="284,153,392,179"/>
<area shape="poly" title=" " alt="" coords="174,128,269,149,268,154,173,133"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="301,203,376,228"/>
<area shape="poly" title=" " alt="" coords="137,128,195,157,265,189,287,197,285,202,263,194,192,162,135,132"/>
</map>
</div>

</div>
</div>
<a id="af0767e796faf854335073ceb773f288b" name="af0767e796faf854335073ceb773f288b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0767e796faf854335073ceb773f288b">&#9670;&#160;</a></span>set_adjacency_list_manual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::set_adjacency_list_manual </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00544">544</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  544</span>                                            {</div>
<div class="line"><span class="lineno">  545</span>    <span class="comment">// Clear existing arcs for each node</span></div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;node : nodes) {</div>
<div class="line"><span class="lineno">  547</span>        node.clear_arcs();  <span class="comment">// Remove any existing arcs associated with the</span></div>
<div class="line"><span class="lineno">  548</span>                            <span class="comment">// node</span></div>
<div class="line"><span class="lineno">  549</span>    }</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>    <span class="comment">// Step 1: Compute the clusters using MST-based clustering</span></div>
<div class="line"><span class="lineno">  552</span>    MST mst_solver(nodes,</div>
<div class="line"><span class="lineno">  553</span>                   [&amp;](<span class="keywordtype">int</span> from, <span class="keywordtype">int</span> to) { <span class="keywordflow">return</span> this-&gt;<a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(from, to); });</div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordtype">double</span> theta = 1.0;  <span class="comment">// Experiment with different values of θ</span></div>
<div class="line"><span class="lineno">  555</span>    <span class="keyword">auto</span> clusters = mst_solver.cluster(theta);</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>    <span class="comment">// Create a job-to-cluster mapping (cluster ID for each job/node)</span></div>
<div class="line"><span class="lineno">  558</span>    std::vector&lt;int&gt; job_to_cluster(</div>
<div class="line"><span class="lineno">  559</span>        nodes.size(), -1);  <span class="comment">// Mapping from job (node) to cluster ID</span></div>
<div class="line"><span class="lineno">  560</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cluster_id = 0; cluster_id &lt; clusters.size(); ++cluster_id) {</div>
<div class="line"><span class="lineno">  561</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> job : clusters[cluster_id]) {</div>
<div class="line"><span class="lineno">  562</span>            job_to_cluster[job] = cluster_id;</div>
<div class="line"><span class="lineno">  563</span>        }</div>
<div class="line"><span class="lineno">  564</span>    }</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>    <span class="comment">// Step 2: Modify add_arcs_for_node to give priority based on cluster</span></div>
<div class="line"><span class="lineno">  567</span>    <span class="comment">// membership</span></div>
<div class="line"><span class="lineno">  568</span>    <span class="keyword">auto</span> add_arcs_for_node = [&amp;](<span class="keyword">const</span> VRPNode &amp;node, <span class="keywordtype">int</span> from_bucket,</div>
<div class="line"><span class="lineno">  569</span>                                 std::vector&lt;double&gt; &amp;res_inc) {</div>
<div class="line"><span class="lineno">  570</span>        <span class="keyword">using </span>Arc = std::tuple&lt;double, int, std::vector&lt;double&gt;,</div>
<div class="line"><span class="lineno">  571</span>                               <span class="keywordtype">double</span>&gt;;  <span class="comment">// Arc: priority, to_node, resource</span></div>
<div class="line"><span class="lineno">  572</span>                                         <span class="comment">// increments, cost increment</span></div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>        std::vector&lt;Arc&gt; best_arcs;</div>
<div class="line"><span class="lineno">  575</span>        best_arcs.reserve(nodes.size());  <span class="comment">// Reserve space for forward arcs</span></div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>        std::vector&lt;Arc&gt; best_arcs_rev;</div>
<div class="line"><span class="lineno">  578</span>        best_arcs_rev.reserve(nodes.size());  <span class="comment">// Reserve space for reverse arcs</span></div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;next_node : nodes) {</div>
<div class="line"><span class="lineno">  581</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a94f440cfa11c57bba08c108e7caa048e">manual_arcs</a>.has_arc(node.<a class="code hl_variable" href="structVRPNode.html#a326a7068d690791bf8bc92587845efe8">id</a>, next_node.id))</div>
<div class="line"><span class="lineno">  582</span>                <span class="keywordflow">continue</span>;  <span class="comment">// Skip arcs not in the manual list</span></div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>            <span class="keywordflow">if</span> (next_node.id == <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.depot || node.<a class="code hl_variable" href="structVRPNode.html#a326a7068d690791bf8bc92587845efe8">id</a> == next_node.id)</div>
<div class="line"><span class="lineno">  585</span>                <span class="keywordflow">continue</span>;  <span class="comment">// Skip depot and same node</span></div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>            <span class="keyword">auto</span> travel_cost =</div>
<div class="line"><span class="lineno">  588</span>                <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(node.<a class="code hl_variable" href="structVRPNode.html#a326a7068d690791bf8bc92587845efe8">id</a>, next_node.id);  <span class="comment">// Calculate travel cost</span></div>
<div class="line"><span class="lineno">  589</span>            <span class="keywordtype">double</span> cost_inc =</div>
<div class="line"><span class="lineno">  590</span>                travel_cost - next_node.cost;  <span class="comment">// Adjust cost increment by</span></div>
<div class="line"><span class="lineno">  591</span>                                               <span class="comment">// subtracting next node&#39;s cost</span></div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(); ++r) {</div>
<div class="line"><span class="lineno">  594</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources[r] == <span class="stringliteral">&quot;time&quot;</span>) {</div>
<div class="line"><span class="lineno">  595</span>                    res_inc[r] = travel_cost +</div>
<div class="line"><span class="lineno">  596</span>                                 node.<a class="code hl_variable" href="structVRPNode.html#a95ef921434910a24ff716e32251a2613">duration</a>;  <span class="comment">// Update resource increment</span></div>
<div class="line"><span class="lineno">  597</span>                                                 <span class="comment">// based on node duration</span></div>
<div class="line"><span class="lineno">  598</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  599</span>                    res_inc[r] = node.<a class="code hl_variable" href="structVRPNode.html#a9c7840a24952797c86482424e207666c">consumption</a>[r];</div>
<div class="line"><span class="lineno">  600</span>                }</div>
<div class="line"><span class="lineno">  601</span>            }</div>
<div class="line"><span class="lineno">  602</span>            <span class="comment">// res_inc[TIME_INDEX] += travel_cost; // Add travel time to</span></div>
<div class="line"><span class="lineno">  603</span>            <span class="comment">// resource increment</span></div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>            <span class="keywordtype">int</span> to_bucket = next_node.id;</div>
<div class="line"><span class="lineno">  606</span>            <span class="keywordflow">if</span> (from_bucket == to_bucket)</div>
<div class="line"><span class="lineno">  607</span>                <span class="keywordflow">continue</span>;  <span class="comment">// Skip arcs that loop back to the same bucket</span></div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>            <span class="keywordtype">bool</span> feasible =</div>
<div class="line"><span class="lineno">  610</span>                <span class="keyword">true</span>;  <span class="comment">// Check feasibility based on resource constraints</span></div>
<div class="line"><span class="lineno">  611</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(); ++r) {</div>
<div class="line"><span class="lineno">  612</span>                <span class="keywordflow">if</span> (node.<a class="code hl_variable" href="structVRPNode.html#a98d257dc0557cf50b2c5f7073ea276be">lb</a>[r] + res_inc[r] &gt; next_node.ub[r]) {</div>
<div class="line"><span class="lineno">  613</span>                    feasible = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  614</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  615</span>                }</div>
<div class="line"><span class="lineno">  616</span>            }</div>
<div class="line"><span class="lineno">  617</span>            <span class="keywordflow">if</span> (!feasible) <span class="keywordflow">continue</span>;  <span class="comment">// Skip infeasible arcs</span></div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>            <span class="comment">// Step 3: Calculate priority based on cluster membership</span></div>
<div class="line"><span class="lineno">  620</span>            <span class="keywordtype">double</span> priority_value;</div>
<div class="line"><span class="lineno">  621</span>            <span class="keywordtype">double</span> reverse_priority_value;</div>
<div class="line"><span class="lineno">  622</span>            <span class="keywordflow">if</span> (job_to_cluster[node.<a class="code hl_variable" href="structVRPNode.html#a326a7068d690791bf8bc92587845efe8">id</a>] == job_to_cluster[next_node.id]) {</div>
<div class="line"><span class="lineno">  623</span>                <span class="comment">// Higher priority if both nodes are in the same cluster</span></div>
<div class="line"><span class="lineno">  624</span>                priority_value =</div>
<div class="line"><span class="lineno">  625</span>                    5.0 +</div>
<div class="line"><span class="lineno">  626</span>                    1.E-5 * next_node.start_time;  <span class="comment">// Adjust weight for</span></div>
<div class="line"><span class="lineno">  627</span>                                                   <span class="comment">// same-cluster priority</span></div>
<div class="line"><span class="lineno">  628</span>                reverse_priority_value =</div>
<div class="line"><span class="lineno">  629</span>                    1.0 + 1.E-5 * node.<a class="code hl_variable" href="structVRPNode.html#aedf8beba213415478c42c3d66ba14ea8">start_time</a>;  <span class="comment">// Adjust weight for</span></div>
<div class="line"><span class="lineno">  630</span>                                                    <span class="comment">// same-cluster priority</span></div>
<div class="line"><span class="lineno">  631</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  632</span>                <span class="comment">// Lower priority for cross-cluster arcs</span></div>
<div class="line"><span class="lineno">  633</span>                priority_value =</div>
<div class="line"><span class="lineno">  634</span>                    1.0 +</div>
<div class="line"><span class="lineno">  635</span>                    1.E-5 * next_node.start_time;  <span class="comment">// Higher base value for</span></div>
<div class="line"><span class="lineno">  636</span>                                                   <span class="comment">// cross-cluster arcs</span></div>
<div class="line"><span class="lineno">  637</span>                reverse_priority_value =</div>
<div class="line"><span class="lineno">  638</span>                    5.0 + 1.E-5 * node.<a class="code hl_variable" href="structVRPNode.html#aedf8beba213415478c42c3d66ba14ea8">start_time</a>;  <span class="comment">// Higher base value for</span></div>
<div class="line"><span class="lineno">  639</span>                                                    <span class="comment">// cross-cluster arcs</span></div>
<div class="line"><span class="lineno">  640</span>            }</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>            best_arcs.emplace_back(priority_value, next_node.id, res_inc,</div>
<div class="line"><span class="lineno">  643</span>                                   cost_inc);  <span class="comment">// Store the forward arc</span></div>
<div class="line"><span class="lineno">  644</span>            best_arcs_rev.emplace_back(reverse_priority_value, next_node.id,</div>
<div class="line"><span class="lineno">  645</span>                                       res_inc,</div>
<div class="line"><span class="lineno">  646</span>                                       cost_inc);  <span class="comment">// Store the reverse arc</span></div>
<div class="line"><span class="lineno">  647</span>        }</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span>        <span class="comment">// Add forward arcs from the current node to its neighbors</span></div>
<div class="line"><span class="lineno">  650</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;arc : best_arcs) {</div>
<div class="line"><span class="lineno">  651</span>            <span class="keyword">auto</span> [priority_value, to_bucket, res_inc_local, cost_inc] = arc;</div>
<div class="line"><span class="lineno">  652</span>            nodes[node.<a class="code hl_variable" href="structVRPNode.html#a326a7068d690791bf8bc92587845efe8">id</a>].template <a class="code hl_function" href="#a42e016ec947d0a75ffa73ceab03207d7">add_arc&lt;Direction::Forward&gt;</a>(</div>
<div class="line"><span class="lineno">  653</span>                node.<a class="code hl_variable" href="structVRPNode.html#a326a7068d690791bf8bc92587845efe8">id</a>, to_bucket, res_inc_local, cost_inc,</div>
<div class="line"><span class="lineno">  654</span>                priority_value);  <span class="comment">// Add forward arc</span></div>
<div class="line"><span class="lineno">  655</span>        }</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>        <span class="comment">// Add reverse arcs from neighboring nodes to the current node</span></div>
<div class="line"><span class="lineno">  658</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;arc : best_arcs_rev) {</div>
<div class="line"><span class="lineno">  659</span>            <span class="keyword">auto</span> [priority_value, to_bucket, res_inc_local, cost_inc] = arc;</div>
<div class="line"><span class="lineno">  660</span>            nodes[to_bucket].template <a class="code hl_function" href="#a42e016ec947d0a75ffa73ceab03207d7">add_arc&lt;Direction::Backward&gt;</a>(</div>
<div class="line"><span class="lineno">  661</span>                to_bucket, node.<a class="code hl_variable" href="structVRPNode.html#a326a7068d690791bf8bc92587845efe8">id</a>, res_inc_local, cost_inc,</div>
<div class="line"><span class="lineno">  662</span>                priority_value);  <span class="comment">// Add reverse arc</span></div>
<div class="line"><span class="lineno">  663</span>        }</div>
<div class="line"><span class="lineno">  664</span>    };</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>    <span class="comment">// Step 4: Iterate over all nodes to set the adjacency list</span></div>
<div class="line"><span class="lineno">  667</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;VRPNode : nodes) {</div>
<div class="line"><span class="lineno">  668</span>        <span class="keywordflow">if</span> (VRPNode.id == <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.end_depot)</div>
<div class="line"><span class="lineno">  669</span>            <span class="keywordflow">continue</span>;  <span class="comment">// Skip the last node (depot)</span></div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>        std::vector&lt;double&gt; res_inc(</div>
<div class="line"><span class="lineno">  672</span>            intervals.size());  <span class="comment">// Resource increment vector</span></div>
<div class="line"><span class="lineno">  673</span>        add_arcs_for_node(VRPNode, VRPNode.id,</div>
<div class="line"><span class="lineno">  674</span>                          res_inc);  <span class="comment">// Add arcs for the current node</span></div>
<div class="line"><span class="lineno">  675</span>    }</div>
<div class="line"><span class="lineno">  676</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a94f440cfa11c57bba08c108e7caa048e"><div class="ttname"><a href="#a94f440cfa11c57bba08c108e7caa048e">BucketGraph::manual_arcs</a></div><div class="ttdeci">ArcList manual_arcs</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00166">BucketGraph.h:166</a></div></div>
<div class="ttc" id="astructVRPNode_html_a326a7068d690791bf8bc92587845efe8"><div class="ttname"><a href="structVRPNode.html#a326a7068d690791bf8bc92587845efe8">VRPNode::id</a></div><div class="ttdeci">int id</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00030">VRPNode.h:30</a></div></div>
<div class="ttc" id="astructVRPNode_html_aedf8beba213415478c42c3d66ba14ea8"><div class="ttname"><a href="structVRPNode.html#aedf8beba213415478c42c3d66ba14ea8">VRPNode::start_time</a></div><div class="ttdeci">double start_time</div><div class="ttdef"><b>Definition</b> <a href="VRPNode_8h_source.html#l00031">VRPNode.h:31</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_af0767e796faf854335073ceb773f288b_cgraph.png" border="0" usemap="#aclassBucketGraph_af0767e796faf854335073ceb773f288b_cgraph" alt=""/></div>
<map name="aclassBucketGraph_af0767e796faf854335073ceb773f288b_cgraph" id="aclassBucketGraph_af0767e796faf854335073ceb773f288b_cgraph">
<area shape="rect" title=" " alt="" coords="5,47,192,88"/>
<area shape="rect" href="classBucketGraph.html#a42e016ec947d0a75ffa73ceab03207d7" title="Represents a bucket in the Bucket Graph. Adds an arc to the bucket graph." alt="" coords="240,5,389,31"/>
<area shape="poly" title=" " alt="" coords="190,44,240,32,241,37,191,49"/>
<area shape="rect" href="classMST.html#aab20166a0b84167db616699bcaf02360" title=" " alt="" coords="267,55,362,80"/>
<area shape="poly" title=" " alt="" coords="192,65,252,65,252,70,192,70"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="247,104,382,130"/>
<area shape="poly" title=" " alt="" coords="191,86,241,98,240,103,190,91"/>
<area shape="rect" href="classMST.html#ae8f38e66bc8580c27c85f2455a6a4d2d" title=" " alt="" coords="437,55,571,80"/>
<area shape="poly" title=" " alt="" coords="362,65,421,65,421,70,362,70"/>
</map>
</div>

</div>
</div>
<a id="ae34637b32022ced2fdbf4ba8a742ffd2" name="ae34637b32022ced2fdbf4ba8a742ffd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae34637b32022ced2fdbf4ba8a742ffd2">&#9670;&#160;</a></span>set_deleted_arcs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::set_deleted_arcs </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; int, int &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>arcs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01163">1163</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1163</span>                                                                    {</div>
<div class="line"><span class="lineno"> 1164</span>        <span class="keywordtype">size_t</span> num_nodes = nodes.size();</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>        <span class="comment">// Mark each arc in the input list as fixed/deleted</span></div>
<div class="line"><span class="lineno"> 1167</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[from, to] : arcs) {</div>
<div class="line"><span class="lineno"> 1168</span>            <span class="keywordflow">if</span> (from &lt; num_nodes &amp;&amp; to &lt; num_nodes) {</div>
<div class="line"><span class="lineno"> 1169</span>                <span class="comment">// fixed_arcs[from][to] = 1;</span></div>
<div class="line"><span class="lineno"> 1170</span>                <a class="code hl_function" href="#a8abd2e954b1f55ea9d1da79f4df33244">fix_arc</a>(from, to);</div>
<div class="line"><span class="lineno"> 1171</span>            }</div>
<div class="line"><span class="lineno"> 1172</span>        }</div>
<div class="line"><span class="lineno"> 1173</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_ae34637b32022ced2fdbf4ba8a742ffd2_cgraph.png" border="0" usemap="#aclassBucketGraph_ae34637b32022ced2fdbf4ba8a742ffd2_cgraph" alt=""/></div>
<map name="aclassBucketGraph_ae34637b32022ced2fdbf4ba8a742ffd2_cgraph" id="aclassBucketGraph_ae34637b32022ced2fdbf4ba8a742ffd2_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,208,31"/>
<area shape="rect" href="classBucketGraph.html#a8abd2e954b1f55ea9d1da79f4df33244" title=" " alt="" coords="256,5,396,31"/>
<area shape="poly" title=" " alt="" coords="208,16,240,16,240,21,208,21"/>
</map>
</div>

</div>
</div>
<a id="ad7327dc5d51a2133df91e17da212625e" name="ad7327dc5d51a2133df91e17da212625e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7327dc5d51a2133df91e17da212625e">&#9670;&#160;</a></span>set_distance_matrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::set_distance_matrix </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>distanceMatrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>n_ng</em></span><span class="paramdefsep"> = </span><span class="paramdefval">8</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the distance matrix and calculates neighborhoods. </p>
<p>This function assigns the provided distance matrix to the internal distance matrix of the class and then calculates the neighborhoods based on the given number of nearest neighbors. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00808">808</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  809</span>                                                                          {</div>
<div class="line"><span class="lineno">  810</span>        this-&gt;<a class="code hl_variable" href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">distance_matrix</a> = distanceMatrix;</div>
<div class="line"><span class="lineno">  811</span>        <a class="code hl_function" href="#add3160d6080b72e85c61734d1fe59427">calculate_neighborhoods</a>(n_ng);</div>
<div class="line"><span class="lineno">  812</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_add3160d6080b72e85c61734d1fe59427"><div class="ttname"><a href="#add3160d6080b72e85c61734d1fe59427">BucketGraph::calculate_neighborhoods</a></div><div class="ttdeci">void calculate_neighborhoods(size_t num_closest)</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8cpp_source.html#l00285">BucketGraph.cpp:285</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_ad7327dc5d51a2133df91e17da212625e_cgraph.png" border="0" usemap="#aclassBucketGraph_ad7327dc5d51a2133df91e17da212625e_cgraph" alt=""/></div>
<map name="aclassBucketGraph_ad7327dc5d51a2133df91e17da212625e_cgraph" id="aclassBucketGraph_ad7327dc5d51a2133df91e17da212625e_cgraph">
<area shape="rect" title="Sets the distance matrix and calculates neighborhoods." alt="" coords="5,5,183,46"/>
<area shape="rect" href="classBucketGraph.html#add3160d6080b72e85c61734d1fe59427" title=" " alt="" coords="231,5,386,46"/>
<area shape="poly" title=" " alt="" coords="183,23,215,23,215,28,183,28"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="434,13,568,38"/>
<area shape="poly" title=" " alt="" coords="386,23,418,23,418,28,386,28"/>
</map>
</div>

</div>
</div>
<a id="acb7b845b8a4d452a0ac15daad1df3927" name="acb7b845b8a4d452a0ac15daad1df3927"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb7b845b8a4d452a0ac15daad1df3927">&#9670;&#160;</a></span>set_node_unreachable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void BucketGraph::set_node_unreachable </td>
          <td>(</td>
          <td class="paramtype">std::array&lt; uint64_t, <a class="el" href="Definitions_8h.html#a38c168723ff0872970a49c6ee54e9bf7">num_words</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bitmap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>node_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Marks a node as unreachable in the given bitmap. </p>
<p>This function sets the bit corresponding to the specified node_id in the bitmap, indicating that the node is unreachable. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00607">607</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  608</span>                                                            {</div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordtype">int</span> word_index = node_id &gt;&gt; 6;  <span class="comment">// Determine which 64-bit segment</span></div>
<div class="line"><span class="lineno">  610</span>                                        <span class="comment">// contains the node_id</span></div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordtype">int</span> bit_position =</div>
<div class="line"><span class="lineno">  612</span>            node_id &amp; 63;  <span class="comment">// Determine the bit position within that segment</span></div>
<div class="line"><span class="lineno">  613</span>        bitmap[word_index] |= (1ULL &lt;&lt; bit_position);</div>
<div class="line"><span class="lineno">  614</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad36a543a58c7d3cd4ded313dd5069f03" name="ad36a543a58c7d3cd4ded313dd5069f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad36a543a58c7d3cd4ded313dd5069f03">&#9670;&#160;</a></span>set_node_visited()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void BucketGraph::set_node_visited </td>
          <td>(</td>
          <td class="paramtype">std::array&lt; uint64_t, <a class="el" href="Definitions_8h.html#a38c168723ff0872970a49c6ee54e9bf7">num_words</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>bitmap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>node_id</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Marks a node as visited in the bitmap. </p>
<p>This function sets the bit corresponding to the given node_id in the provided bitmap, indicating that the node has been visited. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00572">572</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  573</span>                                                     {</div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordtype">int</span> word_index = node_id &gt;&gt; 6;  <span class="comment">// Determine which 64-bit segment</span></div>
<div class="line"><span class="lineno">  575</span>                                        <span class="comment">// contains the node_id</span></div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordtype">int</span> bit_position =</div>
<div class="line"><span class="lineno">  577</span>            node_id &amp; 63;  <span class="comment">// Determine the bit position within that segment</span></div>
<div class="line"><span class="lineno">  578</span>        bitmap[word_index] |= (1ULL &lt;&lt; bit_position);</div>
<div class="line"><span class="lineno">  579</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a227e25383480be62479becdf9f8f778a" name="a227e25383480be62479becdf9f8f778a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a227e25383480be62479becdf9f8f778a">&#9670;&#160;</a></span>setDuals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::setDuals </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>duals</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the dual values for the nodes. </p>
<p>This function assigns the provided dual values to the nodes. It iterates through the given vector of duals and sets each node's dual value to the corresponding value from the vector. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00793">793</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  793</span>                                                  {</div>
<div class="line"><span class="lineno">  794</span>        <span class="comment">// print nodes.size</span></div>
<div class="line"><span class="lineno">  795</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.size - 1; ++i) {</div>
<div class="line"><span class="lineno">  796</span>            nodes[i].setDuals(duals[i - 1]);</div>
<div class="line"><span class="lineno">  797</span>        }</div>
<div class="line"><span class="lineno">  798</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a67cccb92628b4a0a95e7924fdb07598b" name="a67cccb92628b4a0a95e7924fdb07598b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67cccb92628b4a0a95e7924fdb07598b">&#9670;&#160;</a></span>setManualArcs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::setManualArcs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classArcList.html">ArcList</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>manual_arcs</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00167">167</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  167</span>                                                   {</div>
<div class="line"><span class="lineno">  168</span>        this-&gt;<a class="code hl_variable" href="#a94f440cfa11c57bba08c108e7caa048e">manual_arcs</a> = <a class="code hl_variable" href="#a94f440cfa11c57bba08c108e7caa048e">manual_arcs</a>;</div>
<div class="line"><span class="lineno">  169</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0327d3b5366beacc84a51f21a3e318c9" name="a0327d3b5366beacc84a51f21a3e318c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0327d3b5366beacc84a51f21a3e318c9">&#9670;&#160;</a></span>setOptions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::setOptions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structBucketOptions.html">BucketOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00156">156</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>{ this-&gt;<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a> = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a481033b40b7ccf857422bcad842039f0" name="a481033b40b7ccf857422bcad842039f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a481033b40b7ccf857422bcad842039f0">&#9670;&#160;</a></span>setPSTEPduals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::setPSTEPduals </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structPSTEPDuals.html">PSTEPDuals</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>arc_duals</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00120">120</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>                                                    {</div>
<div class="line"><span class="lineno">  121</span>        this-&gt;<a class="code hl_variable" href="#a77cc1fc155ee1234301d754b1e32d1f1">pstep_duals</a> = arc_duals;</div>
<div class="line"><span class="lineno">  122</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8315694fc17b928dfa937aba8d8d0f4b" name="a8315694fc17b928dfa937aba8d8d0f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8315694fc17b928dfa937aba8d8d0f4b">&#9670;&#160;</a></span>setSplit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::setSplit </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; double &gt;</td>          <td class="paramname"><span class="paramname"><em>q_star</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00517">517</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  517</span>{ this-&gt;<a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a> = <a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a26aac5e0b890fae05be807e72fa59826" name="a26aac5e0b890fae05be807e72fa59826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26aac5e0b890fae05be807e72fa59826">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::setup </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets up the initial configuration for the <a class="el" href="classBucketGraph.html" title="Represents a graph structure used for bucket-based optimization in a solver.">BucketGraph</a>. </p>

<p class="definition">Definition at line <a class="el" href="BucketGraph_8cpp_source.html#l00912">912</a> of file <a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  912</span>                        {</div>
<div class="line"><span class="lineno">  913</span>    <a class="code hl_define" href="Definitions_8h.html#aae3681742ccc706b45390ec5d3392d58">PARALLEL_SECTIONS</a>(</div>
<div class="line"><span class="lineno">  914</span>        work, <a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>, <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> { <a class="code hl_function" href="#a5d04c8a2da52796e87c1b443aa221a76">define_buckets&lt;Direction::Forward&gt;</a>(); },</div>
<div class="line"><span class="lineno">  915</span>        <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> { <a class="code hl_function" href="#a5d04c8a2da52796e87c1b443aa221a76">define_buckets&lt;Direction::Backward&gt;</a>(); });</div>
<div class="line"><span class="lineno">  916</span>    <span class="comment">// Initialize the sizes</span></div>
<div class="line"><span class="lineno">  917</span>    <span class="comment">// fixed_arcs.resize(getNodes().size());</span></div>
<div class="line"><span class="lineno">  918</span>    <span class="keyword">auto</span> arc_size = <a class="code hl_function" href="#a32da6366cb0593f095b3e74c5dd545e9">getNodes</a>().size();</div>
<div class="line"><span class="lineno">  919</span>    <span class="keywordtype">size_t</span> arc_bitmap_size = (arc_size * arc_size + 63) / 64;</div>
<div class="line"><span class="lineno">  920</span>    <a class="code hl_variable" href="#a619c4493e5de7a18f6f947b550025f78">fixed_arcs_bitmap</a>.assign(arc_bitmap_size, 0);</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>    <span class="comment">// Resize and initialize fw_fixed_buckets and bw_fixed_buckets for</span></div>
<div class="line"><span class="lineno">  923</span>    <span class="comment">// std::vector&lt;bool&gt; fw_fixed_buckets.assign(fw_buckets.size(),</span></div>
<div class="line"><span class="lineno">  924</span>    <span class="comment">// std::vector&lt;bool&gt;(fw_buckets.size(), false));</span></div>
<div class="line"><span class="lineno">  925</span>    <span class="comment">// bw_fixed_buckets.assign(fw_buckets.size(),</span></div>
<div class="line"><span class="lineno">  926</span>    <span class="comment">// std::vector&lt;bool&gt;(fw_buckets.size(), false));</span></div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    <span class="keywordtype">size_t</span> fw_bitmap_size = (<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.size() * <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.size() + 63) /</div>
<div class="line"><span class="lineno">  929</span>                            64;  <span class="comment">// Round up division by 64</span></div>
<div class="line"><span class="lineno">  930</span>    <span class="keywordtype">size_t</span> bw_bitmap_size = (<a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>.size() * <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>.size() + 63) /</div>
<div class="line"><span class="lineno">  931</span>                            64;  <span class="comment">// Round up division by 64</span></div>
<div class="line"><span class="lineno">  932</span>    <a class="code hl_variable" href="#a8e279c08b248c529a0efec509e8a5a47">fw_fixed_buckets_bitmap</a>.assign(fw_bitmap_size, 0);</div>
<div class="line"><span class="lineno">  933</span>    <a class="code hl_variable" href="#adf35ff56b8e466beb5b9699379d84e67">bw_fixed_buckets_bitmap</a>.assign(bw_bitmap_size, 0);</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>    <a class="code hl_variable" href="#a96867ed156fc94da9d29ec576a42a071">fw_arc_scores</a>.resize(nodes.size());</div>
<div class="line"><span class="lineno">  936</span>    <a class="code hl_variable" href="#abeb88d24b16f8a7b9a4a6d2ec300f6d2">bw_arc_scores</a>.resize(nodes.size());</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>    <span class="comment">// define initial relationships</span></div>
<div class="line"><span class="lineno">  939</span>    nodes.resize(<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.size);</div>
<div class="line"><span class="lineno">  940</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.manual_arcs) {</div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.symmetric) {</div>
<div class="line"><span class="lineno">  942</span>            <a class="code hl_function" href="#af6b54fdc1e45c15dce61742706087dac">set_adjacency_list&lt;Symmetry::Symmetric&gt;</a>();</div>
<div class="line"><span class="lineno">  943</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  944</span>            <a class="code hl_function" href="#af6b54fdc1e45c15dce61742706087dac">set_adjacency_list&lt;Symmetry::Asymmetric&gt;</a>();</div>
<div class="line"><span class="lineno">  945</span>        }</div>
<div class="line"><span class="lineno">  946</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  947</span>        <a class="code hl_function" href="#af0767e796faf854335073ceb773f288b">set_adjacency_list_manual</a>();</div>
<div class="line"><span class="lineno">  948</span>    }</div>
<div class="line"><span class="lineno">  949</span>    <a class="code hl_function" href="#a78afa4d3e7c6078f874480c68f43caff">generate_arcs</a>();</div>
<div class="line"><span class="lineno">  950</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;VRPNode : nodes) {</div>
<div class="line"><span class="lineno">  951</span>        VRPNode.assignSCCIds(nodes);</div>
<div class="line"><span class="lineno">  952</span>    }</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span><span class="preprocessor">#ifdef SCHRODINGER</span></div>
<div class="line"><span class="lineno">  955</span>    sPool.distance_matrix = <a class="code hl_variable" href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">distance_matrix</a>;</div>
<div class="line"><span class="lineno">  956</span>    sPool.setNodes(&amp;nodes);</div>
<div class="line"><span class="lineno">  957</span>    <span class="comment">// sPool.setCutStorage(cut_storage);</span></div>
<div class="line"><span class="lineno">  958</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  959</span> </div>
<div class="line"><span class="lineno">  960</span>    <span class="comment">// Initialize the split</span></div>
<div class="line"><span class="lineno">  961</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size(); ++i) {</div>
<div class="line"><span class="lineno">  962</span>        <a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>.push_back((<a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[i] - <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[i] + 1) / 2);</div>
<div class="line"><span class="lineno">  963</span>    }</div>
<div class="line"><span class="lineno">  964</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a32da6366cb0593f095b3e74c5dd545e9"><div class="ttname"><a href="#a32da6366cb0593f095b3e74c5dd545e9">BucketGraph::getNodes</a></div><div class="ttdeci">std::vector&lt; VRPNode &gt; getNodes() const</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00532">BucketGraph.h:532</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_af0767e796faf854335073ceb773f288b"><div class="ttname"><a href="#af0767e796faf854335073ceb773f288b">BucketGraph::set_adjacency_list_manual</a></div><div class="ttdeci">void set_adjacency_list_manual()</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8cpp_source.html#l00544">BucketGraph.cpp:544</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_af6b54fdc1e45c15dce61742706087dac"><div class="ttname"><a href="#af6b54fdc1e45c15dce61742706087dac">BucketGraph::set_adjacency_list</a></div><div class="ttdeci">void set_adjacency_list()</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l01325">BucketUtils.h:1325</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a26aac5e0b890fae05be807e72fa59826_cgraph.png" border="0" usemap="#aclassBucketGraph_a26aac5e0b890fae05be807e72fa59826_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a26aac5e0b890fae05be807e72fa59826_cgraph" id="aclassBucketGraph_a26aac5e0b890fae05be807e72fa59826_cgraph">
<area shape="rect" title="Sets up the initial configuration for the BucketGraph." alt="" coords="5,217,141,243"/>
<area shape="rect" href="structVRPNode.html#af622df02028ddacbe293bd258fa4069f" title="Assigns SCC IDs to a vector of VRPNodes." alt="" coords="210,28,378,54"/>
<area shape="poly" title=" " alt="" coords="80,216,121,155,151,118,187,85,236,58,238,62,190,90,155,122,125,158,84,219"/>
<area shape="rect" href="classBucketGraph.html#a5d04c8a2da52796e87c1b443aa221a76" title="Defines the buckets for the BucketGraph." alt="" coords="225,99,362,140"/>
<area shape="poly" title=" " alt="" coords="90,215,133,185,187,153,210,143,212,148,190,158,136,189,93,219"/>
<area shape="rect" href="classBucketGraph.html#a78afa4d3e7c6078f874480c68f43caff" title="Generates arcs in both forward and backward directions in parallel." alt="" coords="201,192,386,218"/>
<area shape="poly" title=" " alt="" coords="141,220,185,215,186,220,141,225"/>
<area shape="rect" href="classBucketGraph.html#a32da6366cb0593f095b3e74c5dd545e9" title=" " alt="" coords="214,241,374,267"/>
<area shape="poly" title=" " alt="" coords="141,235,199,241,199,247,141,240"/>
<area shape="rect" href="classBucketGraph.html#af6b54fdc1e45c15dce61742706087dac" title=" " alt="" coords="189,380,399,406"/>
<area shape="poly" title=" " alt="" coords="87,242,129,290,158,319,190,344,241,371,239,376,187,348,155,323,125,294,83,245"/>
<area shape="rect" href="classBucketGraph.html#af0767e796faf854335073ceb773f288b" title=" " alt="" coords="201,294,387,334"/>
<area shape="poly" title=" " alt="" coords="105,241,190,277,213,286,211,291,188,282,103,246"/>
<area shape="rect" href="structVRPNode.html#a4527792eb60e8983029ea82f5886d2e2" title="Compute the strongly connected components (SCCs) for a VRP graph." alt="" coords="452,5,622,31"/>
<area shape="poly" title=" " alt="" coords="378,30,437,25,438,30,379,36"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="711,42,852,82"/>
<area shape="poly" title=" " alt="" coords="363,105,447,92,695,66,696,71,447,97,363,110"/>
<area shape="rect" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf" title=" " alt="" coords="447,107,627,132"/>
<area shape="poly" title=" " alt="" coords="363,117,432,117,432,122,363,122"/>
<area shape="poly" title=" " alt="" coords="257,193,250,183,254,174,269,167,294,165,321,168,335,175,332,180,319,173,294,171,270,173,258,177,255,183,261,190"/>
<area shape="rect" href="classBucketGraph.html#aa9eea9800ea6652e736b960a729f2c14" title=" " alt="" coords="451,205,623,231"/>
<area shape="poly" title=" " alt="" coords="387,207,435,210,435,215,387,213"/>
<area shape="rect" href="classBucketGraph.html#a2925857b35aa31c3c5af4a2795840b98" title="Handles the computation of Strongly Connected Components (SCCs) for the BucketGraph." alt="" coords="448,156,627,182"/>
<area shape="poly" title=" " alt="" coords="385,189,432,182,433,187,386,194"/>
<area shape="rect" href="classBucketGraph.html#a90ce1e861b31ed9c05e36aa3f9ab6743" title=" " alt="" coords="702,255,861,296"/>
<area shape="poly" title=" " alt="" coords="596,229,687,251,686,256,595,234"/>
<area shape="rect" href="classBucketGraph.html#a491d87e43d4a6ec6ed9557be1769cd29" title=" " alt="" coords="702,320,861,361"/>
<area shape="poly" title=" " alt="" coords="608,229,629,240,645,256,654,273,662,290,677,305,689,313,686,318,674,310,657,293,649,276,641,260,626,244,606,234"/>
<area shape="poly" title=" " alt="" coords="604,153,626,143,640,131,649,118,658,105,674,92,695,81,697,86,677,96,662,109,654,121,644,134,629,147,606,158"/>
<area shape="rect" href="classSCC.html#a1c3c0a300e9234ccf344072b1f2c949b" title="Converts an unordered map representation of a graph into an internal graph representation." alt="" coords="675,107,888,132"/>
<area shape="poly" title=" " alt="" coords="604,153,699,133,700,139,605,158"/>
<area shape="rect" href="classSCC.html#afdc7bf9b9ebc6853227b86fe4cb151ea" title="Finds and returns all Strongly Connected Components (SCCs) in the graph using Tarjan&#39;s algorithm." alt="" coords="725,156,838,182"/>
<area shape="poly" title=" " alt="" coords="627,166,709,166,709,172,627,172"/>
<area shape="rect" href="classSCC.html#a62703561fe2b0e0a6f7961b09778ff6e" title="Computes the topological order of Strongly Connected Components (SCCs) in a directed graph." alt="" coords="683,205,880,231"/>
<area shape="poly" title=" " alt="" coords="605,180,700,199,699,204,604,185"/>
<area shape="rect" href="classBucketGraph.html#a42e016ec947d0a75ffa73ceab03207d7" title="Represents a bucket in the Bucket Graph. Adds an arc to the bucket graph." alt="" coords="462,304,612,330"/>
<area shape="poly" title=" " alt="" coords="331,377,446,338,469,332,470,337,448,343,333,382"/>
<area shape="rect" href="classMST.html#ae8f38e66bc8580c27c85f2455a6a4d2d" title=" " alt="" coords="714,395,849,420"/>
<area shape="poly" title=" " alt="" coords="399,393,699,402,698,408,399,399"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="470,353,604,379"/>
<area shape="poly" title=" " alt="" coords="399,379,454,373,455,378,400,384"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="483,455,591,480"/>
<area shape="poly" title=" " alt="" coords="339,404,479,447,477,452,337,409"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="500,504,574,530"/>
<area shape="poly" title=" " alt="" coords="313,404,371,446,408,470,448,490,485,503,484,508,446,495,406,474,368,451,310,408"/>
<area shape="poly" title=" " alt="" coords="388,313,447,313,447,319,387,318"/>
<area shape="poly" title=" " alt="" coords="388,332,460,347,458,352,387,337"/>
<area shape="rect" href="classMST.html#aab20166a0b84167db616699bcaf02360" title=" " alt="" coords="490,255,584,280"/>
<area shape="poly" title=" " alt="" coords="387,294,474,277,475,282,388,299"/>
<area shape="poly" title=" " alt="" coords="586,270,608,278,629,289,647,310,654,331,661,351,677,371,703,386,700,391,674,375,656,354,649,333,642,313,626,294,606,283,584,276"/>
</map>
</div>

</div>
</div>
<a id="a58ff45fbe7a6e92146a45656dd63c20b" name="a58ff45fbe7a6e92146a45656dd63c20b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ff45fbe7a6e92146a45656dd63c20b">&#9670;&#160;</a></span>shallUpdateStep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::shallUpdateStep </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01333">1333</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1333</span>                           {</div>
<div class="line"><span class="lineno"> 1334</span>        <span class="keywordtype">int</span> update_ctr = 0;</div>
<div class="line"><span class="lineno"> 1335</span>        ankerl::unordered_dense::set&lt;int&gt; updated_buckets;</div>
<div class="line"><span class="lineno"> 1336</span> </div>
<div class="line"><span class="lineno"> 1337</span>        <span class="comment">// Iterate over all buckets and check if either forward or backward</span></div>
<div class="line"><span class="lineno"> 1338</span>        <span class="comment">// bucket indicates a split is needed.</span></div>
<div class="line"><span class="lineno"> 1339</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> b = 0; b &lt; <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>.size(); ++b) {</div>
<div class="line"><span class="lineno"> 1340</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>[b].shall_split || <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>[b].shall_split) {</div>
<div class="line"><span class="lineno"> 1341</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> inner_id = <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>[b].node_id;</div>
<div class="line"><span class="lineno"> 1342</span>                <span class="comment">// Skip depot buckets.</span></div>
<div class="line"><span class="lineno"> 1343</span>                <span class="keywordflow">if</span> (inner_id == <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.depot ||</div>
<div class="line"><span class="lineno"> 1344</span>                    inner_id == <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.end_depot) {</div>
<div class="line"><span class="lineno"> 1345</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1346</span>                }</div>
<div class="line"><span class="lineno"> 1347</span>                <span class="comment">// If this node was already updated, skip it.</span></div>
<div class="line"><span class="lineno"> 1348</span>                <span class="keywordflow">if</span> (updated_buckets.contains(inner_id)) {</div>
<div class="line"><span class="lineno"> 1349</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1350</span>                }</div>
<div class="line"><span class="lineno"> 1351</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> r = 0; r &lt; <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size(); ++r) {</div>
<div class="line"><span class="lineno"> 1352</span>                    <span class="comment">// If the bucket split value is already at maximum (100),</span></div>
<div class="line"><span class="lineno"> 1353</span>                    <span class="comment">// skip.(127)</span></div>
<div class="line"><span class="lineno"> 1354</span>                    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1355</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a0fe7b8d8e40343998f39f03425c76009">fw_bucket_splits</a>[inner_id][r] == 100) {</div>
<div class="line"><span class="lineno"> 1356</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1357</span>                    }</div>
<div class="line"><span class="lineno"> 1358</span>                    <span class="comment">// Update the bucket splits by doubling the current value,</span></div>
<div class="line"><span class="lineno"> 1359</span>                    <span class="comment">// capped at 100.</span></div>
<div class="line"><span class="lineno"> 1360</span>                    <span class="keyword">const</span> <span class="keywordtype">int</span> update_target =</div>
<div class="line"><span class="lineno"> 1361</span>                        std::min(<a class="code hl_variable" href="#a0fe7b8d8e40343998f39f03425c76009">fw_bucket_splits</a>[inner_id][r] * 2, 100);</div>
<div class="line"><span class="lineno"> 1362</span>                    <a class="code hl_variable" href="#a0fe7b8d8e40343998f39f03425c76009">fw_bucket_splits</a>[inner_id][r] = update_target;</div>
<div class="line"><span class="lineno"> 1363</span>                    <a class="code hl_variable" href="#a750c64166af5c5c0c351793fbad6cfb8">bw_bucket_splits</a>[inner_id][r] = update_target;</div>
<div class="line"><span class="lineno"> 1364</span>                    updated_buckets.insert(inner_id);</div>
<div class="line"><span class="lineno"> 1365</span>                }</div>
<div class="line"><span class="lineno"> 1366</span>                update_ctr++;</div>
<div class="line"><span class="lineno"> 1367</span>            }</div>
<div class="line"><span class="lineno"> 1368</span>        }</div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span>        <span class="comment">// If we have reached a significant number of updates and we haven&#39;t</span></div>
<div class="line"><span class="lineno"> 1371</span>        <span class="comment">// accumulated too many cuts, then update bucket splits.</span></div>
<div class="line"><span class="lineno"> 1372</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> CHANGE_THRESHOLD = nodes.size() / 6;</div>
<div class="line"><span class="lineno"> 1373</span>        <span class="keywordflow">if</span> (update_ctr &gt;= CHANGE_THRESHOLD &amp;&amp; <a class="code hl_variable" href="#a9142869eb3212337ffb092a14e0e0079">cut_storage</a>-&gt;size() &lt; 40) {</div>
<div class="line"><span class="lineno"> 1374</span>            <span class="comment">// Clear union caches.</span></div>
<div class="line"><span class="lineno"> 1375</span>            <a class="code hl_variable" href="#af6eb5a88d38f5316f4fc75853dbd2aa7">fw_union_cache</a>.clear();</div>
<div class="line"><span class="lineno"> 1376</span>            <a class="code hl_variable" href="#aa291b2863abe14e56b7645adb19c6894">bw_union_cache</a>.clear();</div>
<div class="line"><span class="lineno"> 1377</span>            <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;Updating bucket splits with {} changes\n&quot;</span>, update_ctr);</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>            <span class="comment">// Redefine buckets in parallel for both forward and backward</span></div>
<div class="line"><span class="lineno"> 1380</span>            <span class="comment">// directions.</span></div>
<div class="line"><span class="lineno"> 1381</span>            <a class="code hl_define" href="Definitions_8h.html#aae3681742ccc706b45390ec5d3392d58">PARALLEL_SECTIONS</a>(</div>
<div class="line"><span class="lineno"> 1382</span>                work, <a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>,</div>
<div class="line"><span class="lineno"> 1383</span>                <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> {</div>
<div class="line"><span class="lineno"> 1384</span>                    <span class="comment">// Forward bucket redefinition.</span></div>
<div class="line"><span class="lineno"> 1385</span>                    <a class="code hl_function" href="#a5d04c8a2da52796e87c1b443aa221a76">define_buckets&lt;Direction::Forward&gt;</a>();</div>
<div class="line"><span class="lineno"> 1386</span>                },</div>
<div class="line"><span class="lineno"> 1387</span>                <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> {</div>
<div class="line"><span class="lineno"> 1388</span>                    <span class="comment">// Backward bucket redefinition.</span></div>
<div class="line"><span class="lineno"> 1389</span>                    <a class="code hl_function" href="#a5d04c8a2da52796e87c1b443aa221a76">define_buckets&lt;Direction::Backward&gt;</a>();</div>
<div class="line"><span class="lineno"> 1390</span>                });</div>
<div class="line"><span class="lineno"> 1391</span> </div>
<div class="line"><span class="lineno"> 1392</span>            <span class="comment">// Regenerate arcs after updating bucket splits.</span></div>
<div class="line"><span class="lineno"> 1393</span>            <a class="code hl_function" href="#a78afa4d3e7c6078f874480c68f43caff">generate_arcs</a>();</div>
<div class="line"><span class="lineno"> 1394</span> </div>
<div class="line"><span class="lineno"> 1395</span>            <span class="comment">// Process jump bucket arcs in parallel.</span></div>
<div class="line"><span class="lineno"> 1396</span>            <a class="code hl_define" href="Definitions_8h.html#aae3681742ccc706b45390ec5d3392d58">PARALLEL_SECTIONS</a>(</div>
<div class="line"><span class="lineno"> 1397</span>                workB, <a class="code hl_variable" href="#aaa5092fde50d859a999132f8ec1c2cb8">bi_sched</a>,</div>
<div class="line"><span class="lineno"> 1398</span>                <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> { <a class="code hl_function" href="#a84a8345b541e0e44e44e6215a9cdc779">ObtainJumpBucketArcs&lt;Direction::Forward&gt;</a>(); },</div>
<div class="line"><span class="lineno"> 1399</span>                <a class="code hl_define" href="Definitions_8h.html#ac5f41b3cefc075e35486583b52712b0d">SECTION</a> { <a class="code hl_function" href="#a84a8345b541e0e44e44e6215a9cdc779">ObtainJumpBucketArcs&lt;Direction::Backward&gt;</a>(); });</div>
<div class="line"><span class="lineno"> 1400</span> </div>
<div class="line"><span class="lineno"> 1401</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1402</span>        }</div>
<div class="line"><span class="lineno"> 1403</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1404</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a58ff45fbe7a6e92146a45656dd63c20b_cgraph.png" border="0" usemap="#aclassBucketGraph_a58ff45fbe7a6e92146a45656dd63c20b_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a58ff45fbe7a6e92146a45656dd63c20b_cgraph" id="aclassBucketGraph_a58ff45fbe7a6e92146a45656dd63c20b_cgraph">
<area shape="rect" title=" " alt="" coords="5,289,205,314"/>
<area shape="rect" href="classBucketGraph.html#a5d04c8a2da52796e87c1b443aa221a76" title="Defines the buckets for the BucketGraph." alt="" coords="305,252,442,293"/>
<area shape="poly" title=" " alt="" coords="205,288,289,279,289,284,206,293"/>
<area shape="rect" href="classBucketGraph.html#a78afa4d3e7c6078f874480c68f43caff" title="Generates arcs in both forward and backward directions in parallel." alt="" coords="281,160,466,185"/>
<area shape="poly" title=" " alt="" coords="133,286,329,190,332,195,135,291"/>
<area shape="rect" href="classBucketGraph.html#a84a8345b541e0e44e44e6215a9cdc779" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="253,346,494,372"/>
<area shape="poly" title=" " alt="" coords="169,313,295,340,294,345,168,318"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="595,425,669,450"/>
<area shape="poly" title=" " alt="" coords="126,313,181,348,217,367,254,382,341,406,431,421,513,430,579,434,579,439,512,435,430,426,340,411,252,387,214,371,179,353,123,317"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="806,284,947,325"/>
<area shape="poly" title=" " alt="" coords="442,274,790,296,790,302,442,279"/>
<area shape="rect" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf" title=" " alt="" coords="542,209,722,234"/>
<area shape="poly" title=" " alt="" coords="442,256,548,235,549,241,443,262"/>
<area shape="poly" title=" " alt="" coords="331,161,322,151,327,141,345,135,373,133,405,136,421,143,419,148,404,141,373,138,346,140,331,145,328,150,335,157"/>
<area shape="rect" href="classBucketGraph.html#aa9eea9800ea6652e736b960a729f2c14" title=" " alt="" coords="546,78,718,104"/>
<area shape="poly" title=" " alt="" coords="416,156,574,106,575,111,418,161"/>
<area shape="rect" href="classBucketGraph.html#a2925857b35aa31c3c5af4a2795840b98" title="Handles the computation of Strongly Connected Components (SCCs) for the BucketGraph." alt="" coords="542,160,722,185"/>
<area shape="poly" title=" " alt="" coords="466,170,527,170,527,175,466,175"/>
<area shape="rect" href="classBucketGraph.html#a90ce1e861b31ed9c05e36aa3f9ab6743" title=" " alt="" coords="797,5,956,46"/>
<area shape="poly" title=" " alt="" coords="682,75,783,48,784,53,684,80"/>
<area shape="rect" href="classBucketGraph.html#a491d87e43d4a6ec6ed9557be1769cd29" title=" " alt="" coords="797,71,956,111"/>
<area shape="poly" title=" " alt="" coords="719,88,782,88,782,94,719,94"/>
<area shape="poly" title=" " alt="" coords="705,183,724,194,741,213,749,233,756,252,772,270,793,283,790,287,769,274,752,255,744,235,737,216,721,198,702,188"/>
<area shape="rect" href="classSCC.html#a1c3c0a300e9234ccf344072b1f2c949b" title="Converts an unordered map representation of a graph into an internal graph representation." alt="" coords="770,185,983,210"/>
<area shape="poly" title=" " alt="" coords="723,179,755,182,755,188,722,184"/>
<area shape="rect" href="classSCC.html#afdc7bf9b9ebc6853227b86fe4cb151ea" title="Finds and returns all Strongly Connected Components (SCCs) in the graph using Tarjan&#39;s algorithm." alt="" coords="820,234,933,260"/>
<area shape="poly" title=" " alt="" coords="692,183,723,194,748,208,771,221,806,231,804,236,769,225,745,212,721,199,691,188"/>
<area shape="rect" href="classSCC.html#a62703561fe2b0e0a6f7961b09778ff6e" title="Computes the topological order of Strongly Connected Components (SCCs) in a directed graph." alt="" coords="778,136,975,161"/>
<area shape="poly" title=" " alt="" coords="722,161,762,157,763,162,723,166"/>
<area shape="poly" title=" " alt="" coords="494,368,605,370,664,367,722,359,771,346,817,329,819,334,773,351,723,364,665,372,606,376,494,374"/>
<area shape="rect" href="classBucketGraph.html#aa1272b542e38efd60f4fe2ba7fc01d52" title=" " alt="" coords="552,309,712,350"/>
<area shape="poly" title=" " alt="" coords="492,343,537,338,537,343,493,348"/>
<area shape="poly" title=" " alt="" coords="428,370,495,388,581,417,579,422,493,394,427,375"/>
<area shape="poly" title=" " alt="" coords="712,319,790,311,791,316,713,324"/>
</map>
</div>

</div>
</div>
<a id="a797cf9af28f113281dde61dfd555bfe2" name="a797cf9af28f113281dde61dfd555bfe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797cf9af28f113281dde61dfd555bfe2">&#9670;&#160;</a></span>solve()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a06628c933faae6c56b5b4f71a3ea9e10">Symmetry</a> SYM&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt; BucketGraph::solve </td>
          <td>(</td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>trigger</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Solves the bucket graph optimization problem using a multi-stage bi-labeling algorithm.</p>
<p>The function iteratively adjusts the terminal time and handles different stages of the bi-labeling algorithm to find the optimal paths. The stages are adaptive and transition based on the inner objective values and iteration counts. </p>

<p class="definition">Definition at line <a class="el" href="BucketSolve_8h_source.html#l00055">55</a> of file <a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                                                         {</div>
<div class="line"><span class="lineno">   56</span>    <span class="comment">// Start with a nonoptimal status.</span></div>
<div class="line"><span class="lineno">   57</span>    <a class="code hl_variable" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a> = <a class="code hl_enumvalue" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba9acf053269da0d635abfb5d3c5359e8c">Status::NotOptimal</a>;</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">if</span> (trigger) {</div>
<div class="line"><span class="lineno">   59</span>        <a class="code hl_variable" href="#aa5f44a67587b3c2ff92903e0a824a233">transition</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   60</span>        <a class="code hl_variable" href="#a0febdc3971ad6124d3c7cf689048bc4e">fixed</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   61</span>    }</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    <a class="code hl_function" href="#a4af3d0a5cb4eefd400b213d93e86fe82">updateSplit</a>();  <span class="comment">// Update split values for the bucket graph.</span></div>
<div class="line"><span class="lineno">   64</span>    std::vector&lt;Label *&gt; paths;</div>
<div class="line"><span class="lineno">   65</span></div>
<div class="line"><span class="lineno">   67</span>    <span class="comment">// Adaptive Stage Handling</span></div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="comment">// ----- Stage 1: Light Heuristic -----</span></div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a2e8b5cdc1f1ddb1fe7cd748a0140b746">s1</a> &amp;&amp; <a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> == 0) {</div>
<div class="line"><span class="lineno">   72</span>        <a class="code hl_variable" href="#ac9f682a4f77f436707be4b3726009ef8">stage</a> = 1;</div>
<div class="line"><span class="lineno">   73</span>        paths = <a class="code hl_function" href="#a8153a13e14a6233434a3f7ef3230f8b8">bi_labeling_algorithm&lt;Stage::One&gt;</a>();</div>
<div class="line"><span class="lineno">   74</span>        <span class="comment">// inner_obj = paths[0]-&gt;cost; // (if available)</span></div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> &gt;= -1 || <a class="code hl_variable" href="#a511741ab0c14b1b03ae517f954a3260b">iter</a> &gt;= 10) {</div>
<div class="line"><span class="lineno">   76</span>            <a class="code hl_variable" href="#a2e8b5cdc1f1ddb1fe7cd748a0140b746">s1</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   77</span>            <a class="code hl_variable" href="#a28aa57cbb7d8802e78a4bc71850f4a87">s2</a> = <span class="keyword">true</span>;  <span class="comment">// Transition to Stage 2.</span></div>
<div class="line"><span class="lineno">   78</span>        }</div>
<div class="line"><span class="lineno">   79</span>    }</div>
<div class="line"><span class="lineno">   80</span>    <span class="comment">// ----- Stage 2: Expensive Pricing Heuristic -----</span></div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a28aa57cbb7d8802e78a4bc71850f4a87">s2</a> &amp;&amp; <a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> == 0) {</div>
<div class="line"><span class="lineno">   82</span>        <a class="code hl_variable" href="#ac9f682a4f77f436707be4b3726009ef8">stage</a> = 2;</div>
<div class="line"><span class="lineno">   83</span>        paths = <a class="code hl_function" href="#a8153a13e14a6233434a3f7ef3230f8b8">bi_labeling_algorithm&lt;Stage::Two&gt;</a>();</div>
<div class="line"><span class="lineno">   84</span>        <span class="comment">// inner_obj = paths[0]-&gt;cost; // (if available)</span></div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> &gt;= -10 || <a class="code hl_variable" href="#a511741ab0c14b1b03ae517f954a3260b">iter</a> &gt; 500) {</div>
<div class="line"><span class="lineno">   86</span>            <a class="code hl_variable" href="#a28aa57cbb7d8802e78a4bc71850f4a87">s2</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   87</span>            <a class="code hl_variable" href="#a30b166597f82abf21bbe2a51e8f21378">s3</a> = <span class="keyword">true</span>;  <span class="comment">// Transition directly to Stage 4.</span></div>
<div class="line"><span class="lineno">   88</span>        }</div>
<div class="line"><span class="lineno">   89</span>    }</div>
<div class="line"><span class="lineno">   90</span>    <span class="comment">// ----- Stage 3: Heuristic Fixing Approach -----</span></div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a30b166597f82abf21bbe2a51e8f21378">s3</a> &amp;&amp; <a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> == 0) {</div>
<div class="line"><span class="lineno">   92</span>        <a class="code hl_variable" href="#ac9f682a4f77f436707be4b3726009ef8">stage</a> = 3;</div>
<div class="line"><span class="lineno">   93</span>        paths = <a class="code hl_function" href="#a8153a13e14a6233434a3f7ef3230f8b8">bi_labeling_algorithm&lt;Stage::Three&gt;</a>();</div>
<div class="line"><span class="lineno">   94</span>        <span class="comment">// inner_obj = paths[0]-&gt;cost; // (if available)</span></div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> &gt;= -0.5) {</div>
<div class="line"><span class="lineno">   96</span>            <a class="code hl_variable" href="#a30b166597f82abf21bbe2a51e8f21378">s3</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   97</span>            <a class="code hl_variable" href="#ad5d9485bc083081dca81bea86b92d37b">s4</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   98</span>            <a class="code hl_variable" href="#aa5f44a67587b3c2ff92903e0a824a233">transition</a> = <span class="keyword">true</span>;  <span class="comment">// Prepare for Stage 4 transition.</span></div>
<div class="line"><span class="lineno">   99</span>        }</div>
<div class="line"><span class="lineno">  100</span>    }</div>
<div class="line"><span class="lineno">  101</span>    <span class="comment">// ----- Stage 4: Exact Labeling with Fixing Enabled -----</span></div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ad5d9485bc083081dca81bea86b92d37b">s4</a> &amp;&amp; <a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> == 0) {</div>
<div class="line"><span class="lineno">  103</span>        <a class="code hl_variable" href="#ac9f682a4f77f436707be4b3726009ef8">stage</a> = 4;</div>
<div class="line"><span class="lineno">  104</span><span class="preprocessor">#ifdef FIX_BUCKETS</span></div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aa5f44a67587b3c2ff92903e0a824a233">transition</a>) {</div>
<div class="line"><span class="lineno">  106</span>            <span class="comment">// During a transition to Stage 4, fix buckets temporarily.</span></div>
<div class="line"><span class="lineno">  107</span>            <span class="keywordtype">bool</span> original_fixed = <a class="code hl_variable" href="#a0febdc3971ad6124d3c7cf689048bc4e">fixed</a>;</div>
<div class="line"><span class="lineno">  108</span>            <a class="code hl_variable" href="#a0febdc3971ad6124d3c7cf689048bc4e">fixed</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  109</span>            paths = <a class="code hl_function" href="#a8153a13e14a6233434a3f7ef3230f8b8">bi_labeling_algorithm&lt;Stage::Four&gt;</a>();</div>
<div class="line"><span class="lineno">  110</span>            <a class="code hl_variable" href="#aa5f44a67587b3c2ff92903e0a824a233">transition</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  111</span>            <a class="code hl_variable" href="#a0febdc3971ad6124d3c7cf689048bc4e">fixed</a> = original_fixed;</div>
<div class="line"><span class="lineno">  112</span>            <a class="code hl_variable" href="#a0aff433ba355139b060e4f97ed90510e">min_red_cost</a> = paths[0]-&gt;cost;  <span class="comment">// Update minimum reduced cost.</span></div>
<div class="line"><span class="lineno">  113</span>            <a class="code hl_variable" href="#a511741ab0c14b1b03ae517f954a3260b">iter</a>++;</div>
<div class="line"><span class="lineno">  114</span>            <span class="keywordflow">return</span> paths;</div>
<div class="line"><span class="lineno">  115</span>        }</div>
<div class="line"><span class="lineno">  116</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  117</span>        <span class="comment">// Standard Stage 4 processing.</span></div>
<div class="line"><span class="lineno">  118</span>        paths = <a class="code hl_function" href="#a8153a13e14a6233434a3f7ef3230f8b8">bi_labeling_algorithm&lt;Stage::Four&gt;</a>();</div>
<div class="line"><span class="lineno">  119</span>        <span class="comment">// inner_obj = paths[0]-&gt;cost; // (if available)</span></div>
<div class="line"><span class="lineno">  120</span>        <span class="keywordtype">bool</span> rollback = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a> != <a class="code hl_enumvalue" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba446c9e952debe114c86bbd9e5eea7d61">Status::Rollback</a>) {</div>
<div class="line"><span class="lineno">  122</span>            rollback = <a class="code hl_function" href="#a58ff45fbe7a6e92146a45656dd63c20b">shallUpdateStep</a>();</div>
<div class="line"><span class="lineno">  123</span>        }</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">if</span> (rollback) {</div>
<div class="line"><span class="lineno">  125</span>            <a class="code hl_variable" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a> = <a class="code hl_enumvalue" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba446c9e952debe114c86bbd9e5eea7d61">Status::Rollback</a>;</div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordflow">return</span> paths;</div>
<div class="line"><span class="lineno">  127</span>        }</div>
<div class="line"><span class="lineno">  128</span>        <span class="comment">// Compute a new threshold for separation based on stats.</span></div>
<div class="line"><span class="lineno">  129</span>        <a class="code hl_variable" href="#afa087af81831da7d55a3a5e017b257e3">threshold</a> = stats.computeThreshold(<a class="code hl_variable" href="#a511741ab0c14b1b03ae517f954a3260b">iter</a>, <a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a>);</div>
<div class="line"><span class="lineno">  130</span>        <span class="comment">// If objective is sufficiently high, enter separation mode.</span></div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> &gt; <a class="code hl_variable" href="#afa087af81831da7d55a3a5e017b257e3">threshold</a>) {</div>
<div class="line"><span class="lineno">  132</span>            <a class="code hl_variable" href="#a6cb517bce7adfe964278c41d48b8140a">ss</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  133</span><span class="preprocessor">#if !defined(SRC) &amp;&amp; !defined(SRC3)</span></div>
<div class="line"><span class="lineno">  134</span>            <a class="code hl_variable" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a> = <a class="code hl_enumvalue" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70bacb61fef1e5e79e07a80421cb9a073a80">Status::Optimal</a>;</div>
<div class="line"><span class="lineno">  135</span>            <span class="keywordflow">return</span> paths;</div>
<div class="line"><span class="lineno">  136</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  137</span>            <a class="code hl_variable" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a> = <a class="code hl_enumvalue" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70bada9b8576beb7598f3c62bf2756cf622c">Status::Separation</a>;</div>
<div class="line"><span class="lineno">  138</span>        }</div>
<div class="line"><span class="lineno">  139</span>    }</div>
<div class="line"><span class="lineno">  140</span>    <span class="comment">// ----- Stage 5: Enumeration -----</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ae9d3e4e82d8213ad4ba5308099342fd5">s5</a> &amp;&amp; <a class="code hl_variable" href="#a2fdba8d38fd26043068b252223e8d73c">depth</a> == 0) {</div>
<div class="line"><span class="lineno">  142</span>        <a class="code hl_variable" href="#ac9f682a4f77f436707be4b3726009ef8">stage</a> = 5;</div>
<div class="line"><span class="lineno">  143</span>        <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;Starting enumeration with gap {}\n&quot;</span>, <a class="code hl_variable" href="#aab58eac3d548656acb6b33da0d54b799">gap</a>);</div>
<div class="line"><span class="lineno">  144</span>        paths = <a class="code hl_function" href="#a8153a13e14a6233434a3f7ef3230f8b8">bi_labeling_algorithm&lt;Stage::Enumerate&gt;</a>();</div>
<div class="line"><span class="lineno">  145</span>        <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;Finished enumeration with {} paths\n&quot;</span>, paths.size());</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_variable" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a> = <a class="code hl_enumvalue" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70bacb61fef1e5e79e07a80421cb9a073a80">Status::Optimal</a>;</div>
<div class="line"><span class="lineno">  147</span>    }</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="comment">// Increment the iteration counter.</span></div>
<div class="line"><span class="lineno">  150</span>    <a class="code hl_variable" href="#a511741ab0c14b1b03ae517f954a3260b">iter</a>++;</div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordflow">return</span> paths;</div>
<div class="line"><span class="lineno">  152</span>}</div>
<div class="ttc" id="aDefinitions_8h_html_a67a0db04d321a74b7e7fcfd3f1a3f70ba446c9e952debe114c86bbd9e5eea7d61"><div class="ttname"><a href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba446c9e952debe114c86bbd9e5eea7d61">Status::Rollback</a></div><div class="ttdeci">@ Rollback</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00082">Definitions.h:82</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a67a0db04d321a74b7e7fcfd3f1a3f70ba9acf053269da0d635abfb5d3c5359e8c"><div class="ttname"><a href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba9acf053269da0d635abfb5d3c5359e8c">Status::NotOptimal</a></div><div class="ttdeci">@ NotOptimal</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00082">Definitions.h:82</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a67a0db04d321a74b7e7fcfd3f1a3f70bacb61fef1e5e79e07a80421cb9a073a80"><div class="ttname"><a href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70bacb61fef1e5e79e07a80421cb9a073a80">Status::Optimal</a></div><div class="ttdeci">@ Optimal</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00082">Definitions.h:82</a></div></div>
<div class="ttc" id="aDefinitions_8h_html_a67a0db04d321a74b7e7fcfd3f1a3f70bada9b8576beb7598f3c62bf2756cf622c"><div class="ttname"><a href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70bada9b8576beb7598f3c62bf2756cf622c">Status::Separation</a></div><div class="ttdeci">@ Separation</div><div class="ttdef"><b>Definition</b> <a href="Definitions_8h_source.html#l00082">Definitions.h:82</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a28aa57cbb7d8802e78a4bc71850f4a87"><div class="ttname"><a href="#a28aa57cbb7d8802e78a4bc71850f4a87">BucketGraph::s2</a></div><div class="ttdeci">bool s2</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00241">BucketGraph.h:241</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a2e8b5cdc1f1ddb1fe7cd748a0140b746"><div class="ttname"><a href="#a2e8b5cdc1f1ddb1fe7cd748a0140b746">BucketGraph::s1</a></div><div class="ttdeci">bool s1</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00240">BucketGraph.h:240</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a30b166597f82abf21bbe2a51e8f21378"><div class="ttname"><a href="#a30b166597f82abf21bbe2a51e8f21378">BucketGraph::s3</a></div><div class="ttdeci">bool s3</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00242">BucketGraph.h:242</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a4af3d0a5cb4eefd400b213d93e86fe82"><div class="ttname"><a href="#a4af3d0a5cb4eefd400b213d93e86fe82">BucketGraph::updateSplit</a></div><div class="ttdeci">void updateSplit()</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00891">BucketGraph.h:891</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a511741ab0c14b1b03ae517f954a3260b"><div class="ttname"><a href="#a511741ab0c14b1b03ae517f954a3260b">BucketGraph::iter</a></div><div class="ttdeci">int iter</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00248">BucketGraph.h:248</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a58ff45fbe7a6e92146a45656dd63c20b"><div class="ttname"><a href="#a58ff45fbe7a6e92146a45656dd63c20b">BucketGraph::shallUpdateStep</a></div><div class="ttdeci">bool shallUpdateStep()</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l01333">BucketGraph.h:1333</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a6cb517bce7adfe964278c41d48b8140a"><div class="ttname"><a href="#a6cb517bce7adfe964278c41d48b8140a">BucketGraph::ss</a></div><div class="ttdeci">bool ss</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00245">BucketGraph.h:245</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_a8153a13e14a6233434a3f7ef3230f8b8"><div class="ttname"><a href="#a8153a13e14a6233434a3f7ef3230f8b8">BucketGraph::bi_labeling_algorithm</a></div><div class="ttdeci">std::vector&lt; Label * &gt; bi_labeling_algorithm()</div><div class="ttdef"><b>Definition</b> <a href="BucketSolve_8h_source.html#l00615">BucketSolve.h:615</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aa5f44a67587b3c2ff92903e0a824a233"><div class="ttname"><a href="#aa5f44a67587b3c2ff92903e0a824a233">BucketGraph::transition</a></div><div class="ttdeci">bool transition</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00249">BucketGraph.h:249</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_ad5d9485bc083081dca81bea86b92d37b"><div class="ttname"><a href="#ad5d9485bc083081dca81bea86b92d37b">BucketGraph::s4</a></div><div class="ttdeci">bool s4</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00243">BucketGraph.h:243</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_ae9d3e4e82d8213ad4ba5308099342fd5"><div class="ttname"><a href="#ae9d3e4e82d8213ad4ba5308099342fd5">BucketGraph::s5</a></div><div class="ttdeci">bool s5</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00244">BucketGraph.h:244</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_afa087af81831da7d55a3a5e017b257e3"><div class="ttname"><a href="#afa087af81831da7d55a3a5e017b257e3">BucketGraph::threshold</a></div><div class="ttdeci">double threshold</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00084">BucketGraph.h:84</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a797cf9af28f113281dde61dfd555bfe2_cgraph.png" border="0" usemap="#aclassBucketGraph_a797cf9af28f113281dde61dfd555bfe2_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a797cf9af28f113281dde61dfd555bfe2_cgraph" id="aclassBucketGraph_a797cf9af28f113281dde61dfd555bfe2_cgraph">
<area shape="rect" title=" " alt="" coords="5,223,140,248"/>
<area shape="rect" href="classBucketGraph.html#a8153a13e14a6233434a3f7ef3230f8b8" title=" " alt="" coords="190,686,354,726"/>
<area shape="poly" title=" " alt="" coords="82,248,259,671,254,673,77,250"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="994,273,1068,299"/>
<area shape="poly" title=" " alt="" coords="140,236,978,281,978,286,140,242"/>
<area shape="rect" href="classBucketGraph.html#a58ff45fbe7a6e92146a45656dd63c20b" title=" " alt="" coords="404,147,603,172"/>
<area shape="poly" title=" " alt="" coords="96,220,138,200,187,182,290,164,388,157,389,162,290,169,188,187,140,205,99,225"/>
<area shape="rect" href="classBucketGraph.html#a4af3d0a5cb4eefd400b213d93e86fe82" title=" " alt="" coords="188,197,356,223"/>
<area shape="poly" title=" " alt="" coords="140,224,172,220,173,225,140,230"/>
<area shape="rect" href="classBucketGraph.html#adea4cf77fe1775dac8bb3aa80b4c0dd4" title="Fixes the bucket arcs for the specified stage." alt="" coords="432,391,575,432"/>
<area shape="poly" title=" " alt="" coords="277,684,292,638,318,578,354,513,377,482,402,455,426,437,429,442,406,459,381,486,359,516,323,580,297,640,282,686"/>
<area shape="rect" href="classBucketGraph.html#a8b934dd825af2c3536269ac190b398b3" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="695,448,849,489"/>
<area shape="poly" title=" " alt="" coords="281,684,299,651,326,611,361,571,403,537,471,505,543,484,615,472,680,466,680,472,616,477,545,489,472,510,405,542,365,574,330,614,304,654,285,687"/>
<area shape="rect" href="classBucketGraph.html#a66484f0fb3c999584f77880b3dd54f7c" title="Runs forward and backward labeling algorithms in parallel and synchronizes the results." alt="" coords="686,628,858,669"/>
<area shape="poly" title=" " alt="" coords="354,700,472,692,603,678,670,667,671,673,604,683,473,697,355,705"/>
<area shape="rect" href="classBucketGraph.html#aa05e883574a58a277e1dbf8cfcdcde11" title=" " alt="" coords="957,500,1104,541"/>
<area shape="poly" title=" " alt="" coords="355,719,490,741,649,758,726,760,795,758,851,748,874,740,891,729,909,711,917,691,919,669,918,647,916,600,923,576,939,552,943,548,947,552,943,556,928,578,922,601,923,647,925,670,922,692,913,714,894,734,876,744,853,753,795,763,726,766,648,763,489,746,354,725"/>
<area shape="rect" href="classBucketGraph.html#a858b68317a9a0a60723698509d78d575" title="Checks the feasibility of a given forward and backward label." alt="" coords="703,946,841,986"/>
<area shape="poly" title=" " alt="" coords="285,725,304,759,330,799,364,840,405,875,475,910,549,935,622,950,688,959,687,964,621,956,548,940,473,915,403,879,361,844,326,802,299,761,281,728"/>
<area shape="rect" href="classBucketGraph.html#a7d2d975e13b1fdeaafca99aa6fb29486" title=" " alt="" coords="695,1011,849,1052"/>
<area shape="poly" title=" " alt="" coords="281,726,294,773,319,834,356,897,379,925,405,949,438,959,508,975,681,1011,680,1016,506,981,436,964,403,954,375,929,351,900,314,837,289,775,275,728"/>
<area shape="rect" href="classBucketGraph.html#a1546f6d1eec5a80afaed3be7ccda0d4a" title=" " alt="" coords="416,1011,592,1052"/>
<area shape="poly" title=" " alt="" coords="280,726,293,778,318,847,355,921,378,956,406,987,424,1001,421,1005,402,991,374,959,350,924,313,849,288,779,275,728"/>
<area shape="rect" href="classBucketGraph.html#ac36d91be18f5093577ee00a38ceb771e" title=" " alt="" coords="701,795,843,820"/>
<area shape="poly" title=" " alt="" coords="305,725,351,751,405,773,477,790,552,800,685,807,685,812,551,805,476,795,403,778,349,756,303,729"/>
<area shape="rect" href="classBucketGraph.html#a7ffbc9d76efacdae82ed10f5b7009348" title=" " alt="" coords="962,876,1100,917"/>
<area shape="poly" title=" " alt="" coords="294,725,341,769,372,791,405,809,475,835,549,856,623,871,697,882,835,894,946,897,946,902,834,900,696,888,622,877,547,861,474,840,403,814,369,796,338,773,290,729"/>
<area shape="rect" href="classBucketGraph.html#a06036b30388d0f91c677340bff2c6b6a" title="Applies heuristic fixing to the current solution." alt="" coords="428,628,580,669"/>
<area shape="poly" title=" " alt="" coords="354,683,412,669,413,674,355,688"/>
<area shape="rect" href="classBucketGraph.html#a2379392ccc37be9a4a27800b116465d2" title="Resets all fixed arcs in the graph." alt="" coords="706,514,838,554"/>
<area shape="poly" title=" " alt="" coords="286,684,334,630,366,602,403,580,476,553,552,537,625,530,690,528,690,533,626,535,553,543,477,558,405,585,369,607,337,634,290,687"/>
<area shape="rect" href="classBucketGraph.html#a3e1492bb1589d5edb06e80a753d000dd" title="Resets the forward and backward label pools." alt="" coords="690,579,854,604"/>
<area shape="poly" title=" " alt="" coords="294,683,342,646,371,628,403,614,472,596,544,586,613,582,675,582,675,587,613,587,544,591,473,601,405,619,374,633,345,651,297,687"/>
<area shape="rect" href="classBucketGraph.html#a395e609a3dcdb495e2a43da1742af7bd" title="Eliminates bucket arcs based on a given threshold." alt="" coords="658,399,886,424"/>
<area shape="poly" title=" " alt="" coords="575,409,643,409,643,414,575,414"/>
<area shape="poly" title=" " alt="" coords="537,388,589,360,651,334,739,312,829,298,978,285,978,290,830,303,740,317,652,339,591,364,539,393"/>
<area shape="poly" title=" " alt="" coords="576,424,680,447,679,452,575,429"/>
<area shape="rect" href="classBucketGraph.html#a84a8345b541e0e44e44e6215a9cdc779" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="651,349,893,375"/>
<area shape="poly" title=" " alt="" coords="575,396,683,376,684,381,576,401"/>
<area shape="poly" title=" " alt="" coords="516,431,536,470,565,520,605,571,628,595,653,615,673,626,670,630,650,619,624,599,601,575,561,523,531,473,511,433"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="1169,418,1310,458"/>
<area shape="poly" title=" " alt="" coords="886,415,1154,431,1154,436,886,421"/>
<area shape="poly" title=" " alt="" coords="862,396,892,385,924,368,954,348,1003,307,1007,312,957,352,926,373,894,390,864,401"/>
<area shape="poly" title=" " alt="" coords="849,461,1153,441,1154,446,849,466"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="953,566,1109,606"/>
<area shape="poly" title=" " alt="" coords="850,481,894,500,910,513,919,526,928,538,942,551,951,556,948,561,939,555,924,542,915,529,906,516,891,504,848,486"/>
<area shape="poly" title=" " alt="" coords="893,371,1004,385,1122,405,1154,412,1153,417,1120,410,1004,391,893,377"/>
<area shape="poly" title=" " alt="" coords="825,346,892,328,978,301,979,306,893,333,826,351"/>
<area shape="poly" title=" " alt="" coords="857,631,891,615,906,600,915,585,923,568,939,552,947,547,950,551,942,556,928,572,919,587,911,603,894,619,860,636"/>
<area shape="poly" title=" " alt="" coords="1083,497,1171,462,1173,467,1085,502"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="964,991,1098,1016"/>
<area shape="poly" title=" " alt="" coords="842,973,949,989,948,994,841,979"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="977,941,1085,967"/>
<area shape="poly" title=" " alt="" coords="842,960,961,955,961,960,842,966"/>
<area shape="poly" title=" " alt="" coords="849,1021,948,1010,948,1015,849,1026"/>
<area shape="poly" title=" " alt="" coords="590,1008,687,984,688,989,591,1013"/>
<area shape="poly" title=" " alt="" coords="587,1050,652,1061,773,1073,825,1072,892,1061,946,1044,992,1022,995,1027,947,1049,893,1066,826,1077,773,1079,651,1066,586,1055"/>
<area shape="poly" title=" " alt="" coords="592,1029,680,1029,680,1034,592,1034"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="979,1083,1083,1108"/>
<area shape="poly" title=" " alt="" coords="554,1050,601,1067,652,1080,735,1091,819,1097,963,1096,963,1102,819,1102,735,1096,651,1085,600,1072,553,1055"/>
<area shape="poly" title=" " alt="" coords="842,797,868,788,891,773,902,761,909,749,914,722,920,694,927,680,939,667,963,651,985,642,1029,639,1073,637,1096,630,1119,616,1154,584,1183,545,1206,506,1222,472,1227,474,1211,509,1188,548,1158,587,1123,620,1098,635,1074,642,1030,644,987,648,965,655,942,671,931,683,925,696,919,723,914,750,907,764,894,778,871,793,844,802"/>
<area shape="poly" title=" " alt="" coords="843,798,869,789,891,774,905,756,912,738,915,701,918,663,925,643,939,623,949,613,953,617,943,627,930,646,923,664,921,702,918,739,910,759,894,777,871,794,845,803"/>
<area shape="poly" title=" " alt="" coords="801,819,848,848,895,888,910,913,917,936,925,957,942,978,951,983,948,988,939,981,920,960,912,938,905,915,891,892,844,852,798,823"/>
<area shape="poly" title=" " alt="" coords="795,819,894,888,917,909,942,927,963,936,961,940,939,931,914,913,891,892,792,823"/>
<area shape="poly" title=" " alt="" coords="790,819,839,867,895,933,910,959,918,981,927,1003,943,1027,968,1052,995,1072,992,1076,964,1056,939,1031,922,1005,913,983,905,961,890,936,836,870,787,823"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="947,680,1114,721"/>
<area shape="poly" title=" " alt="" coords="843,792,891,773,906,763,915,753,925,743,939,732,951,726,953,730,942,736,928,747,919,757,909,768,894,778,844,797"/>
<area shape="poly" title=" " alt="" coords="834,818,894,837,942,861,958,868,956,873,940,866,892,842,832,824"/>
<area shape="rect" href="classBucketGraph.html#aac3c165dfb9837288ad63ac34ad91041" title="Checks if a node has been visited based on a bitmap." alt="" coords="957,811,1105,852"/>
<area shape="poly" title=" " alt="" coords="844,811,941,821,941,826,843,817"/>
<area shape="rect" href="classBucketGraph.html#af2436dd7416920cc8f4bed442dc84c86" title="Processes all resources by iterating through them and applying constraints." alt="" coords="956,746,1106,786"/>
<area shape="poly" title=" " alt="" coords="843,794,941,778,941,783,844,799"/>
<area shape="poly" title=" " alt="" coords="1094,678,1119,660,1157,615,1188,565,1210,515,1226,472,1231,474,1215,517,1192,567,1162,619,1123,664,1097,682"/>
<area shape="poly" title=" " alt="" coords="518,626,572,564,609,529,650,500,679,486,682,491,653,504,612,533,575,567,522,630"/>
<area shape="poly" title=" " alt="" coords="580,646,670,646,670,652,580,652"/>
<area shape="poly" title=" " alt="" coords="519,668,571,746,609,791,653,831,686,852,715,867,771,883,828,899,859,912,894,932,909,944,918,956,928,967,942,977,952,982,950,987,939,982,924,971,914,959,905,948,891,936,857,917,826,904,769,889,713,872,683,857,650,835,605,795,567,749,514,671"/>
<area shape="rect" href="classBucketGraph.html#a8abd2e954b1f55ea9d1da79f4df33244" title=" " alt="" coords="702,693,842,719"/>
<area shape="poly" title=" " alt="" coords="581,663,652,678,693,687,692,692,651,683,580,668"/>
<area shape="poly" title=" " alt="" coords="535,626,588,594,650,564,690,550,692,555,652,569,590,599,538,630"/>
<area shape="poly" title=" " alt="" coords="580,630,651,614,692,605,693,611,652,619,581,635"/>
<area shape="poly" title=" " alt="" coords="604,151,670,152,743,157,820,169,894,189,1000,262,997,266,892,194,819,174,743,162,670,157,604,156"/>
<area shape="poly" title=" " alt="" coords="524,171,743,337,739,342,521,175"/>
<area shape="rect" href="classBucketGraph.html#a5d04c8a2da52796e87c1b443aa221a76" title="Defines the buckets for the BucketGraph." alt="" coords="703,7,841,48"/>
<area shape="poly" title=" " alt="" coords="519,144,575,102,611,78,650,57,687,43,689,48,652,62,614,82,578,106,522,148"/>
<area shape="rect" href="classBucketGraph.html#a78afa4d3e7c6078f874480c68f43caff" title="Generates arcs in both forward and backward directions in parallel." alt="" coords="679,96,865,122"/>
<area shape="poly" title=" " alt="" coords="575,143,685,122,686,128,576,149"/>
<area shape="poly" title=" " alt="" coords="842,30,917,38,1000,50,1073,68,1102,79,1123,92,1155,126,1180,165,1200,207,1215,251,1233,335,1240,402,1235,402,1228,336,1210,252,1195,209,1175,168,1150,129,1119,96,1100,84,1072,73,999,56,916,43,841,35"/>
<area shape="rect" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf" title=" " alt="" coords="941,5,1121,31"/>
<area shape="poly" title=" " alt="" coords="841,22,925,19,925,25,841,28"/>
<area shape="poly" title=" " alt="" coords="730,97,721,87,726,77,743,71,772,69,804,72,820,79,818,84,803,77,772,75,744,77,729,82,726,87,733,94"/>
<area shape="rect" href="classBucketGraph.html#aa9eea9800ea6652e736b960a729f2c14" title=" " alt="" coords="945,107,1117,132"/>
<area shape="poly" title=" " alt="" coords="865,110,929,113,929,118,865,115"/>
<area shape="rect" href="classBucketGraph.html#a2925857b35aa31c3c5af4a2795840b98" title="Handles the computation of Strongly Connected Components (SCCs) for the BucketGraph." alt="" coords="941,185,1120,211"/>
<area shape="poly" title=" " alt="" coords="830,120,894,138,988,176,986,181,892,143,829,125"/>
<area shape="poly" title=" " alt="" coords="1057,209,1090,231,1123,259,1154,295,1181,333,1223,403,1218,405,1177,336,1150,298,1119,263,1087,235,1054,214"/>
<area shape="poly" title=" " alt="" coords="357,205,464,205,599,208,746,219,893,240,940,251,983,265,982,270,938,256,892,245,746,224,598,214,464,210,357,210"/>
</map>
</div>

</div>
</div>
<a id="a93d8f84606acfa24f42da6f8f5fd2671" name="a93d8f84606acfa24f42da6f8f5fd2671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93d8f84606acfa24f42da6f8f5fd2671">&#9670;&#160;</a></span>solveHeuristic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt; BucketGraph::solveHeuristic </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketSolve_8h_source.html#l00154">154</a> of file <a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  154</span>                                                      {</div>
<div class="line"><span class="lineno">  155</span>    <span class="comment">// Initialize the status as not optimal at the start</span></div>
<div class="line"><span class="lineno">  156</span>    <a class="code hl_variable" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a> = <a class="code hl_enumvalue" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba9acf053269da0d635abfb5d3c5359e8c">Status::NotOptimal</a>;</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    <a class="code hl_function" href="#a4af3d0a5cb4eefd400b213d93e86fe82">updateSplit</a>();  <span class="comment">// Update the split values for the bucket graph</span></div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="comment">// Placeholder for the final paths (labels) and inner objective value</span></div>
<div class="line"><span class="lineno">  161</span>    std::vector&lt;Label *&gt; paths;</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordtype">double</span> <a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a>;</div>
<div class="line"><span class="lineno">  163</span></div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// ADAPTIVE STAGE HANDLING</span></div>
<div class="line"><span class="lineno">  167</span>    <span class="comment">// Stage 1: Apply a light heuristic (Stage::One)</span></div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a2e8b5cdc1f1ddb1fe7cd748a0140b746">s1</a>) {</div>
<div class="line"><span class="lineno">  169</span>        <a class="code hl_variable" href="#ac9f682a4f77f436707be4b3726009ef8">stage</a> = 1;</div>
<div class="line"><span class="lineno">  170</span>        paths = <a class="code hl_function" href="#a8153a13e14a6233434a3f7ef3230f8b8">bi_labeling_algorithm&lt;Stage::One&gt;</a>();  <span class="comment">// Solve the problem with</span></div>
<div class="line"><span class="lineno">  171</span>                                                      <span class="comment">// Stage 1 heuristic</span></div>
<div class="line"><span class="lineno">  172</span>        <a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> = paths[0]-&gt;cost;</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>        <span class="comment">// Transition from Stage 1 to Stage 2 if the objective improves or after</span></div>
<div class="line"><span class="lineno">  175</span>        <span class="comment">// 10 iterations</span></div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> &gt;= -5 || <a class="code hl_variable" href="#a511741ab0c14b1b03ae517f954a3260b">iter</a> &gt;= 10) {</div>
<div class="line"><span class="lineno">  177</span>            <a class="code hl_variable" href="#a2e8b5cdc1f1ddb1fe7cd748a0140b746">s1</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  178</span>            <a class="code hl_variable" href="#a28aa57cbb7d8802e78a4bc71850f4a87">s2</a> = <span class="keyword">true</span>;  <span class="comment">// Move to Stage 2</span></div>
<div class="line"><span class="lineno">  179</span>        }</div>
<div class="line"><span class="lineno">  180</span>    }</div>
<div class="line"><span class="lineno">  181</span>    <span class="comment">// Stage 2: Apply a more expensive pricing heuristic (Stage::Two)</span></div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a28aa57cbb7d8802e78a4bc71850f4a87">s2</a>) {</div>
<div class="line"><span class="lineno">  183</span>        <a class="code hl_variable" href="#a28aa57cbb7d8802e78a4bc71850f4a87">s2</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  184</span>        <a class="code hl_variable" href="#ac9f682a4f77f436707be4b3726009ef8">stage</a> = 2;</div>
<div class="line"><span class="lineno">  185</span>        paths = <a class="code hl_function" href="#a8153a13e14a6233434a3f7ef3230f8b8">bi_labeling_algorithm&lt;Stage::Two&gt;</a>();  <span class="comment">// Solve the problem with</span></div>
<div class="line"><span class="lineno">  186</span>                                                      <span class="comment">// Stage 2 heuristic</span></div>
<div class="line"><span class="lineno">  187</span>        <a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> = paths[0]-&gt;cost;</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>        <span class="comment">// Transition from Stage 2 to Stage 3 if the objective improves or after</span></div>
<div class="line"><span class="lineno">  190</span>        <span class="comment">// 800 iterations</span></div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a23934021718bd2ee544b29228fde708c">inner_obj</a> &gt;= -100 || <a class="code hl_variable" href="#a511741ab0c14b1b03ae517f954a3260b">iter</a> &gt; 800) {</div>
<div class="line"><span class="lineno">  192</span>            <a class="code hl_variable" href="#a5929b489cdfe15a32c1e72e1e09f461b">status</a> = <a class="code hl_enumvalue" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70bacb61fef1e5e79e07a80421cb9a073a80">Status::Optimal</a>;</div>
<div class="line"><span class="lineno">  193</span>        }</div>
<div class="line"><span class="lineno">  194</span>    }</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    <a class="code hl_variable" href="#a511741ab0c14b1b03ae517f954a3260b">iter</a>++;  <span class="comment">// Increment the iteration counter</span></div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">return</span> paths;  <span class="comment">// Return the final paths after processing</span></div>
<div class="line"><span class="lineno">  199</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a93d8f84606acfa24f42da6f8f5fd2671_cgraph.png" border="0" usemap="#aclassBucketGraph_a93d8f84606acfa24f42da6f8f5fd2671_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a93d8f84606acfa24f42da6f8f5fd2671_cgraph" id="aclassBucketGraph_a93d8f84606acfa24f42da6f8f5fd2671_cgraph">
<area shape="rect" title=" " alt="" coords="5,362,192,388"/>
<area shape="rect" href="classBucketGraph.html#a8153a13e14a6233434a3f7ef3230f8b8" title=" " alt="" coords="242,383,406,423"/>
<area shape="poly" title=" " alt="" coords="193,384,226,388,226,394,192,389"/>
<area shape="rect" href="classBucketGraph.html#a4af3d0a5cb4eefd400b213d93e86fe82" title=" " alt="" coords="240,146,408,172"/>
<area shape="poly" title=" " alt="" coords="112,360,297,181,300,184,115,364"/>
<area shape="rect" href="classBucketGraph.html#adea4cf77fe1775dac8bb3aa80b4c0dd4" title="Fixes the bucket arcs for the specified stage." alt="" coords="473,97,615,138"/>
<area shape="poly" title=" " alt="" coords="329,382,344,336,370,276,406,212,429,182,454,155,467,144,470,149,458,158,433,185,411,215,375,278,349,338,334,383"/>
<area shape="rect" href="classBucketGraph.html#a8b934dd825af2c3536269ac190b398b3" title="Initializes the BucketGraph by clearing previous data and setting up forward and backward buckets." alt="" coords="724,327,878,367"/>
<area shape="poly" title=" " alt="" coords="406,388,456,382,708,354,709,359,456,387,407,394"/>
<area shape="rect" href="classBucketGraph.html#a66484f0fb3c999584f77880b3dd54f7c" title="Runs forward and backward labeling algorithms in parallel and synchronizes the results." alt="" coords="715,212,887,253"/>
<area shape="poly" title=" " alt="" coords="337,381,384,323,417,293,455,269,515,246,579,232,642,226,699,224,699,229,642,231,580,238,517,251,457,274,420,297,387,327,341,384"/>
<area shape="rect" href="classBucketGraph.html#aa05e883574a58a277e1dbf8cfcdcde11" title=" " alt="" coords="980,160,1127,201"/>
<area shape="poly" title=" " alt="" coords="332,381,350,347,376,305,411,263,455,229,518,198,585,177,654,163,724,155,791,152,855,154,964,163,964,168,855,159,791,158,724,160,655,168,586,182,520,203,457,233,415,267,381,308,354,350,337,384"/>
<area shape="rect" href="classBucketGraph.html#a858b68317a9a0a60723698509d78d575" title="Checks the feasibility of a given forward and backward label." alt="" coords="732,656,870,697"/>
<area shape="poly" title=" " alt="" coords="334,423,350,463,376,513,412,565,433,588,458,608,488,625,520,640,588,660,655,671,716,676,716,681,655,677,586,666,518,645,485,630,454,612,430,592,407,568,371,516,345,465,329,425"/>
<area shape="rect" href="classBucketGraph.html#a7d2d975e13b1fdeaafca99aa6fb29486" title=" " alt="" coords="724,821,878,862"/>
<area shape="poly" title=" " alt="" coords="329,423,336,490,355,582,372,632,394,680,422,725,458,764,485,784,515,801,580,825,647,837,709,842,708,847,646,843,579,830,513,806,482,789,454,768,418,728,389,683,367,634,350,584,330,491,323,424"/>
<area shape="rect" href="classBucketGraph.html#a1546f6d1eec5a80afaed3be7ccda0d4a" title=" " alt="" coords="456,713,632,754"/>
<area shape="poly" title=" " alt="" coords="333,423,347,474,372,543,409,617,432,652,458,684,481,703,478,707,454,688,427,655,404,619,367,545,342,476,327,425"/>
<area shape="rect" href="classBucketGraph.html#ac36d91be18f5093577ee00a38ceb771e" title=" " alt="" coords="730,392,872,417"/>
<area shape="poly" title=" " alt="" coords="406,401,714,402,714,407,406,406"/>
<area shape="rect" href="classBucketGraph.html#a7ffbc9d76efacdae82ed10f5b7009348" title=" " alt="" coords="984,225,1122,266"/>
<area shape="poly" title=" " alt="" coords="377,380,455,354,556,331,696,305,969,257,970,262,697,310,557,336,457,359,378,385"/>
<area shape="rect" href="classBucketGraph.html#a06036b30388d0f91c677340bff2c6b6a" title="Applies heuristic fixing to the current solution." alt="" coords="468,440,620,481"/>
<area shape="poly" title=" " alt="" coords="405,421,454,434,452,439,404,427"/>
<area shape="rect" href="classBucketGraph.html#a2379392ccc37be9a4a27800b116465d2" title="Resets all fixed arcs in the graph." alt="" coords="735,541,867,582"/>
<area shape="poly" title=" " alt="" coords="351,422,398,457,457,490,524,514,594,531,720,552,719,557,593,537,523,519,455,495,395,462,347,426"/>
<area shape="rect" href="classBucketGraph.html#a3e1492bb1589d5edb06e80a753d000dd" title="Resets the forward and backward label pools." alt="" coords="719,606,883,632"/>
<area shape="poly" title=" " alt="" coords="340,423,387,484,420,517,457,545,518,573,582,592,646,605,704,612,704,618,645,610,581,597,516,578,455,549,416,522,383,488,336,426"/>
<area shape="rect" href="classBucketGraph.html#a395e609a3dcdb495e2a43da1742af7bd" title="Eliminates bucket arcs based on a given threshold." alt="" coords="687,109,915,135"/>
<area shape="poly" title=" " alt="" coords="616,116,672,117,672,122,616,122"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="1016,9,1090,35"/>
<area shape="poly" title=" " alt="" coords="575,95,623,67,680,45,767,26,855,17,936,15,1001,16,1001,21,936,20,855,23,767,32,681,50,625,72,577,99"/>
<area shape="poly" title=" " alt="" coords="564,137,615,196,682,262,754,316,751,320,679,267,611,199,560,140"/>
<area shape="rect" href="classBucketGraph.html#a84a8345b541e0e44e44e6215a9cdc779" title="Obtains jump bucket arcs for the BucketGraph." alt="" coords="680,60,922,85"/>
<area shape="poly" title=" " alt="" coords="615,103,709,86,710,91,616,108"/>
<area shape="poly" title=" " alt="" coords="593,136,741,203,739,208,590,141"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="1185,221,1326,262"/>
<area shape="poly" title=" " alt="" coords="915,112,968,113,1025,118,1083,129,1138,146,1163,159,1187,174,1227,209,1224,213,1184,179,1161,163,1136,151,1081,134,1024,124,968,119,915,117"/>
<area shape="poly" title=" " alt="" coords="886,106,921,95,974,70,1020,42,1022,46,977,74,923,100,888,111"/>
<area shape="poly" title=" " alt="" coords="878,331,1000,307,1136,275,1175,264,1176,270,1138,280,1001,312,879,336"/>
<area shape="rect" href="classBucketGraph.html#ad36a543a58c7d3cd4ded313dd5069f03" title="Marks a node as visited in the bitmap." alt="" coords="975,340,1132,381"/>
<area shape="poly" title=" " alt="" coords="878,349,960,353,960,358,878,354"/>
<area shape="poly" title=" " alt="" coords="922,65,975,68,1030,76,1086,90,1138,111,1169,131,1196,156,1236,207,1232,210,1192,160,1165,136,1136,116,1084,95,1029,81,974,73,922,70"/>
<area shape="poly" title=" " alt="" coords="868,56,1000,30,1001,35,869,62"/>
<area shape="poly" title=" " alt="" coords="887,212,964,196,965,201,888,217"/>
<area shape="poly" title=" " alt="" coords="1124,199,1172,214,1171,219,1122,204"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="986,749,1120,775"/>
<area shape="poly" title=" " alt="" coords="858,695,971,735,990,742,989,747,969,740,856,700"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="999,650,1108,676"/>
<area shape="poly" title=" " alt="" coords="870,670,984,664,984,669,871,676"/>
<area shape="poly" title=" " alt="" coords="866,818,995,777,996,782,868,824"/>
<area shape="poly" title=" " alt="" coords="632,711,716,693,717,698,634,717"/>
<area shape="poly" title=" " alt="" coords="633,736,971,755,971,760,632,741"/>
<area shape="poly" title=" " alt="" coords="583,752,681,801,716,814,714,819,679,806,581,757"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="1001,700,1106,725"/>
<area shape="poly" title=" " alt="" coords="632,727,986,713,986,718,633,733"/>
<area shape="poly" title=" " alt="" coords="870,415,929,422,998,423,1069,414,1103,404,1136,390,1169,367,1197,337,1220,305,1236,275,1241,278,1224,308,1201,340,1172,371,1138,395,1105,409,1070,419,998,428,929,427,869,421"/>
<area shape="poly" title=" " alt="" coords="872,389,960,374,960,379,873,395"/>
<area shape="poly" title=" " alt="" coords="873,402,900,410,923,427,939,446,950,465,959,504,958,543,950,582,942,621,940,659,948,698,957,717,972,736,975,740,971,743,968,740,953,720,943,700,934,660,937,620,945,581,952,543,954,505,945,467,935,449,920,430,898,415,872,407"/>
<area shape="poly" title=" " alt="" coords="873,403,900,411,923,427,943,453,952,479,952,506,950,532,947,559,947,585,954,610,972,636,986,647,983,652,968,640,949,613,942,585,941,558,944,532,947,505,946,480,938,455,920,430,898,416,872,408"/>
<area shape="poly" title=" " alt="" coords="874,402,900,411,924,427,947,459,956,492,955,525,950,558,944,590,943,623,951,655,972,687,988,699,985,703,968,690,946,657,938,623,939,590,944,557,950,524,950,493,942,461,920,430,898,416,872,407"/>
<area shape="rect" href="classBucketGraph.html#abb791c45d27a9425607480e3101f7d28" title=" " alt="" coords="970,455,1137,495"/>
<area shape="poly" title=" " alt="" coords="873,414,922,426,986,447,984,452,921,431,872,419"/>
<area shape="poly" title=" " alt="" coords="872,394,897,387,920,377,936,366,946,355,968,327,1018,275,1022,279,972,330,950,358,939,370,923,381,899,392,873,399"/>
<area shape="rect" href="classBucketGraph.html#aac3c165dfb9837288ad63ac34ad91041" title="Checks if a node has been visited based on a bitmap." alt="" coords="979,520,1128,561"/>
<area shape="poly" title=" " alt="" coords="873,406,899,414,923,426,941,446,949,466,956,486,972,505,977,509,973,513,968,509,951,488,944,468,937,448,920,431,897,419,872,411"/>
<area shape="rect" href="classBucketGraph.html#af2436dd7416920cc8f4bed442dc84c86" title="Processes all resources by iterating through them and applying constraints." alt="" coords="979,585,1128,626"/>
<area shape="poly" title=" " alt="" coords="873,404,900,412,923,426,939,444,947,462,950,499,952,535,959,553,972,571,975,574,971,578,968,574,954,555,947,536,945,499,941,464,934,447,920,431,897,417,872,409"/>
<area shape="poly" title=" " alt="" coords="1110,452,1135,434,1170,397,1199,354,1239,275,1243,278,1203,357,1174,400,1139,439,1113,456"/>
<area shape="poly" title=" " alt="" coords="573,437,622,406,679,377,709,366,710,371,681,382,624,411,576,442"/>
<area shape="poly" title=" " alt="" coords="560,438,611,380,679,313,751,260,754,264,682,317,615,383,564,442"/>
<area shape="poly" title=" " alt="" coords="621,470,808,501,886,516,923,528,943,554,952,580,952,606,950,633,947,659,947,685,954,711,972,736,975,739,971,743,968,740,949,713,942,686,941,659,944,632,947,606,946,581,938,556,920,532,884,521,807,506,620,475"/>
<area shape="rect" href="classBucketGraph.html#a8abd2e954b1f55ea9d1da79f4df33244" title=" " alt="" coords="731,441,871,467"/>
<area shape="poly" title=" " alt="" coords="621,456,715,453,715,459,621,461"/>
<area shape="poly" title=" " alt="" coords="588,479,681,521,721,535,719,540,679,526,586,484"/>
<area shape="poly" title=" " alt="" coords="562,480,611,536,644,566,682,591,706,602,704,607,679,596,641,571,607,540,558,483"/>
<area shape="poly" title=" " alt="" coords="344,144,394,114,455,83,564,38,615,23,680,11,748,4,801,4,922,11,1000,15,1000,21,922,16,800,9,748,9,681,16,616,29,566,43,457,88,396,119,347,148"/>
</map>
</div>

</div>
</div>
<a id="aac9620cd3bd3f83c506efe893973b4f2" name="aac9620cd3bd3f83c506efe893973b4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac9620cd3bd3f83c506efe893973b4f2">&#9670;&#160;</a></span>solvePSTEP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt; BucketGraph::solvePSTEP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structPSTEPDuals.html">PSTEPDuals</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>inner_pstep_duals</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Solves the PSTEP problem and returns a vector of labels representing paths. </p>
<p>This function performs the following steps:</p><ol type="1">
<li>Resets the pool.</li>
<li>Initializes the mono algorithm.</li>
<li>Runs a labeling algorithm in the forward direction.</li>
<li>Iterates through the forward buckets and computes new labels.</li>
<li>Filters and collects labels that meet the criteria.</li>
</ol>
<dl class="section return"><dt>Returns</dt><dd>std::vector&lt;Label*&gt; A vector of pointers to <a class="el" href="structLabel.html" title="Represents a label used in a solver.">Label</a> objects representing the paths. </dd></dl>

<p class="definition">Definition at line <a class="el" href="BucketPSTEP_8cpp_source.html#l00024">24</a> of file <a class="el" href="BucketPSTEP_8cpp_source.html">BucketPSTEP.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>                                                                        {</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> CHUNK_SIZE = 10;</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>    std::vector&lt;Label *&gt; all_paths;</div>
<div class="line"><span class="lineno">   29</span>    std::vector&lt;double&gt;  all_costs;</div>
<div class="line"><span class="lineno">   30</span>    std::vector&lt;int&gt;     all_firsts, all_lasts;</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>    <span class="comment">// Mutex for shared resources</span></div>
<div class="line"><span class="lineno">   33</span>    std::mutex cuts_mutex;</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>    <span class="keyword">const</span> <span class="keywordtype">int</span>                JOBS = nodes.size();</div>
<div class="line"><span class="lineno">   36</span>    exec::static_thread_pool <a class="code hl_variable" href="BucketUtils_8h.html#aa20416f5844808465090dd41979ead8e">pool</a>(std::thread::hardware_concurrency());</div>
<div class="line"><span class="lineno">   37</span>    <span class="keyword">auto</span>                     sched = <a class="code hl_variable" href="BucketUtils_8h.html#aa20416f5844808465090dd41979ead8e">pool</a>.get_scheduler();</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    std::vector&lt;std::pair&lt;int, int&gt;&gt; tasks;</div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; JOBS - 1; ++i) {</div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; JOBS; ++j) {</div>
<div class="line"><span class="lineno">   42</span>            <span class="keywordflow">if</span> (i == j) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   43</span>            tasks.emplace_back(i, j);</div>
<div class="line"><span class="lineno">   44</span>        }</div>
<div class="line"><span class="lineno">   45</span>    }</div>
<div class="line"><span class="lineno">   46</span>    <span class="keyword">auto</span> bulk_sender =</div>
<div class="line"><span class="lineno">   47</span>        stdexec::bulk(stdexec::just(), (tasks.size() + CHUNK_SIZE - 1) / CHUNK_SIZE, <span class="comment">// Calculate total chunks</span></div>
<div class="line"><span class="lineno">   48</span>                      [&amp;](std::size_t chunk_idx) {</div>
<div class="line"><span class="lineno">   49</span>                          <span class="comment">// Calculate indices i, j from chunk_idx</span></div>
<div class="line"><span class="lineno">   50</span>                          size_t start_idx = chunk_idx * CHUNK_SIZE;</div>
<div class="line"><span class="lineno">   51</span>                          size_t end_idx   = std::min(start_idx + CHUNK_SIZE, tasks.size());</div>
<div class="line"><span class="lineno">   52</span>                          for (size_t task_idx = start_idx; task_idx &lt; end_idx; ++task_idx) {</div>
<div class="line"><span class="lineno">   53</span>                              auto [i, j] = tasks[task_idx];</div>
<div class="line"><span class="lineno">   54</span>                              BucketOptions sub_options;</div>
<div class="line"><span class="lineno">   55</span>                              auto          sub_bg = BucketGraph(nodes, R_max[0], 20);</div>
<div class="line"><span class="lineno">   56</span>                              sub_bg.set_distance_matrix(distance_matrix);</div>
<div class="line"><span class="lineno">   57</span>                              sub_options.depot     = i;</div>
<div class="line"><span class="lineno">   58</span>                              sub_options.end_depot = j;</div>
<div class="line"><span class="lineno">   59</span>                              <span class="comment">// print i and j</span></div>
<div class="line"><span class="lineno">   60</span>                              sub_options.pstep         = true; <span class="comment">// print depot and end_depot</span></div>
<div class="line"><span class="lineno">   61</span>                              sub_options.max_path_size = options.max_path_size;</div>
<div class="line"><span class="lineno">   62</span>                              sub_options.min_path_size = options.min_path_size;</div>
<div class="line"><span class="lineno">   63</span>                              sub_bg.setOptions(sub_options);</div>
<div class="line"><span class="lineno">   64</span>                              sub_bg.setPSTEPduals(inner_pstep_duals);</div>
<div class="line"><span class="lineno">   65</span>                              sub_bg.setup();</div>
<div class="line"><span class="lineno">   66</span>                              sub_bg.reset_pool();</div>
<div class="line"><span class="lineno">   67</span>                              sub_bg.mono_initialization();</div>
<div class="line"><span class="lineno">   68</span>                              <span class="comment">// Solve and get the paths</span></div>
<div class="line"><span class="lineno">   69</span>                              std::vector&lt;double&gt; forward_cbar(sub_bg.fw_buckets.size());</div>
<div class="line"><span class="lineno">   70</span>                              forward_cbar = sub_bg.labeling_algorithm&lt;Direction::Forward, Stage::Four, Full::PSTEP&gt;();</div>
<div class="line"><span class="lineno">   71</span>                              std::vector&lt;Label *&gt; paths;</div>
<div class="line"><span class="lineno">   72</span>                              <span class="comment">// print paths.size</span></div>
<div class="line"><span class="lineno">   73</span>                              for (auto bucket : std::ranges::iota_view(0, sub_bg.fw_buckets_size)) {</div>
<div class="line"><span class="lineno">   74</span>                                  auto bucket_labels = sub_bg.fw_buckets[bucket].get_labels();</div>
<div class="line"><span class="lineno">   75</span>                                  <span class="comment">// print bucket_labels size</span></div>
<div class="line"><span class="lineno">   76</span>                                  for (auto label : bucket_labels) {</div>
<div class="line"><span class="lineno">   77</span>                                      if (!label) continue;</div>
<div class="line"><span class="lineno">   78</span>                                      auto new_label = compute_mono_label(label);</div>
<div class="line"><span class="lineno">   79</span>                                      if ((new_label-&gt;nodes_covered.size() &gt; 1) &amp;&amp;</div>
<div class="line"><span class="lineno">   80</span>                                          (new_label-&gt;nodes_covered.back() == sub_options.end_depot) &amp;&amp;</div>
<div class="line"><span class="lineno">   81</span>                                          (new_label-&gt;nodes_covered.size() &gt;= options.min_path_size &amp;&amp;</div>
<div class="line"><span class="lineno">   82</span>                                           new_label-&gt;nodes_covered.size() &lt;= options.max_path_size)) {</div>
<div class="line"><span class="lineno">   83</span>                                          paths.push_back(new_label);</div>
<div class="line"><span class="lineno">   84</span>                                      }</div>
<div class="line"><span class="lineno">   85</span>                                  }</div>
<div class="line"><span class="lineno">   86</span>                              }</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>                              <span class="comment">// Check if no paths are found</span></div>
<div class="line"><span class="lineno">   89</span>                              if (paths.empty()) return;</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>                              <span class="comment">// Lock to protect shared resources</span></div>
<div class="line"><span class="lineno">   92</span>                              {</div>
<div class="line"><span class="lineno">   93</span>                                  std::lock_guard&lt;std::mutex&gt; lock(cuts_mutex);</div>
<div class="line"><span class="lineno">   94</span>                                  <span class="comment">// Process the found paths</span></div>
<div class="line"><span class="lineno">   95</span>                                  for (const auto &amp;path : paths) { all_paths.push_back(path); }</div>
<div class="line"><span class="lineno">   96</span>                              }</div>
<div class="line"><span class="lineno">   97</span>                              <span class="comment">//   }</span></div>
<div class="line"><span class="lineno">   98</span>                          }</div>
<div class="line"><span class="lineno">   99</span>                      });</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="comment">// Submit work to the thread pool and wait for completion</span></div>
<div class="line"><span class="lineno">  102</span>    <span class="keyword">auto</span> work = stdexec::starts_on(sched, bulk_sender);</div>
<div class="line"><span class="lineno">  103</span>    stdexec::sync_wait(std::move(work));</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">return</span> all_paths;</div>
<div class="line"><span class="lineno">  106</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aebc98fb458f5730b4e5a99d97344c4b1" name="aebc98fb458f5730b4e5a99d97344c4b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebc98fb458f5730b4e5a99d97344c4b1">&#9670;&#160;</a></span>solvePSTEP_by_MTZ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt; BucketGraph::solvePSTEP_by_MTZ </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketPSTEP_8cpp_source.html#l00356">356</a> of file <a class="el" href="BucketPSTEP_8cpp_source.html">BucketPSTEP.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  356</span>                                                  {</div>
<div class="line"><span class="lineno">  357</span>    <span class="keywordtype">int</span> JOBS = nodes.size();</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>    std::vector&lt;std::vector&lt;uint16_t&gt;&gt; all_paths;</div>
<div class="line"><span class="lineno">  360</span>    std::vector&lt;double&gt;                all_costs;</div>
<div class="line"><span class="lineno">  361</span>    std::vector&lt;int&gt;                   all_firsts;</div>
<div class="line"><span class="lineno">  362</span>    std::vector&lt;int&gt;                   all_lasts;</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>    <span class="keyword">auto</span> duals                = <a class="code hl_function" href="#a143c987497e70d470d770508f7e62bc1">solveTSP</a>(all_paths, all_costs, all_firsts, all_lasts, <a class="code hl_variable" href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">distance_matrix</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  365</span>    <span class="keyword">auto</span> max_pstep_iterations = 10;</div>
<div class="line"><span class="lineno">  366</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> z = 0; z &lt; max_pstep_iterations; ++z) {</div>
<div class="line"><span class="lineno">  367</span>        fmt::print(<span class="stringliteral">&quot;--------------------------------------\n&quot;</span>);</div>
<div class="line"><span class="lineno">  368</span>        fmt::print(<span class="stringliteral">&quot;Iteration {}\n&quot;</span>, z);</div>
<div class="line"><span class="lineno">  369</span>        <span class="keyword">auto</span>       three_two_duals   = std::get&lt;0&gt;(duals);</div>
<div class="line"><span class="lineno">  370</span>        <span class="keyword">auto</span>       three_three_duals = std::get&lt;1&gt;(duals);</div>
<div class="line"><span class="lineno">  371</span>        <span class="keyword">auto</span>       three_five_duals  = std::get&lt;2&gt;(duals);</div>
<div class="line"><span class="lineno">  372</span>        PSTEPDuals inner_pstep_duals;</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>        <span class="comment">// Convert three_two to vector of pairs</span></div>
<div class="line"><span class="lineno">  375</span>        std::vector&lt;std::pair&lt;int, double&gt;&gt; three_two_tuples;</div>
<div class="line"><span class="lineno">  376</span>        three_two_tuples.reserve(three_two_duals.size());</div>
<div class="line"><span class="lineno">  377</span>        std::transform(three_two_duals.begin(), three_two_duals.end(), std::back_inserter(three_two_tuples),</div>
<div class="line"><span class="lineno">  378</span>                       [index = 0](<span class="keywordtype">double</span> value) <span class="keyword">mutable</span> { return std::make_pair(index++, value); });</div>
<div class="line"><span class="lineno">  379</span>        inner_pstep_duals.<a class="code hl_function" href="structPSTEPDuals.html#a1cad53619ae3d8ed8b726e13d3572dd0">setThreeTwoDualValues</a>(std::move(three_two_tuples));</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>        <span class="comment">// Convert three_three to vector of pairs</span></div>
<div class="line"><span class="lineno">  382</span>        std::vector&lt;std::pair&lt;int, double&gt;&gt; three_three_tuples;</div>
<div class="line"><span class="lineno">  383</span>        three_three_tuples.reserve(three_three_duals.size());</div>
<div class="line"><span class="lineno">  384</span>        std::transform(three_three_duals.begin(), three_three_duals.end(), std::back_inserter(three_three_tuples),</div>
<div class="line"><span class="lineno">  385</span>                       [index = 0](<span class="keywordtype">double</span> value) <span class="keyword">mutable</span> { return std::make_pair(index++, value); });</div>
<div class="line"><span class="lineno">  386</span>        inner_pstep_duals.<a class="code hl_function" href="structPSTEPDuals.html#aea54f8d9e5d64bd12e189a80d2c2b5ba">setThreeThreeDualValues</a>(std::move(three_three_tuples));</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>        <span class="comment">// Convert three_five to vector of pairs of pairs</span></div>
<div class="line"><span class="lineno">  389</span>        std::vector&lt;std::pair&lt;std::pair&lt;int, int&gt;, <span class="keywordtype">double</span>&gt;&gt; arc_duals_tuples;</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordtype">size_t</span>                                              total_size = 0;</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;row : three_five_duals) total_size += row.size();</div>
<div class="line"><span class="lineno">  392</span>        arc_duals_tuples.reserve(total_size);</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; three_five_duals.size(); ++i) {</div>
<div class="line"><span class="lineno">  395</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; three_five_duals[i].size(); ++j) {</div>
<div class="line"><span class="lineno">  396</span>                <span class="keywordflow">if</span> (i != j) { <span class="comment">// Skip diagonal or add specific condition if needed</span></div>
<div class="line"><span class="lineno">  397</span>                    arc_duals_tuples.emplace_back(std::pair{i, j}, three_five_duals[i][j]);</div>
<div class="line"><span class="lineno">  398</span>                }</div>
<div class="line"><span class="lineno">  399</span>            }</div>
<div class="line"><span class="lineno">  400</span>        }</div>
<div class="line"><span class="lineno">  401</span>        inner_pstep_duals.<a class="code hl_function" href="structPSTEPDuals.html#a62ec870efb76a66d57b9849e8ddd6131">setArcDualValues</a>(std::move(arc_duals_tuples));</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>        <span class="keyword">auto</span> sub_paths = <a class="code hl_function" href="#aac9620cd3bd3f83c506efe893973b4f2">solvePSTEP</a>(inner_pstep_duals);</div>
<div class="line"><span class="lineno">  404</span>        <span class="comment">// print sub_paths.size</span></div>
<div class="line"><span class="lineno">  405</span>        <span class="keyword">auto</span> paths_added = 0;</div>
<div class="line"><span class="lineno">  406</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> path : sub_paths) {</div>
<div class="line"><span class="lineno">  407</span>            <span class="keywordflow">if</span> (path-&gt;cost &gt;= 0) { <span class="keywordflow">continue</span>; }</div>
<div class="line"><span class="lineno">  408</span>            paths_added++;</div>
<div class="line"><span class="lineno">  409</span>            all_paths.push_back(path-&gt;getRoute());</div>
<div class="line"><span class="lineno">  410</span>            all_costs.push_back(path-&gt;real_cost);</div>
<div class="line"><span class="lineno">  411</span>            all_firsts.push_back(path-&gt;nodes_covered.front());</div>
<div class="line"><span class="lineno">  412</span>            all_lasts.push_back(path-&gt;nodes_covered.back());</div>
<div class="line"><span class="lineno">  413</span>        }</div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">if</span> (paths_added == 0) { <span class="keywordflow">break</span>; }</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>        duals = <a class="code hl_function" href="#a143c987497e70d470d770508f7e62bc1">solveTSP</a>(all_paths, all_costs, all_firsts, all_lasts, <a class="code hl_variable" href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">distance_matrix</a>);</div>
<div class="line"><span class="lineno">  417</span>    }</div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  419</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a143c987497e70d470d770508f7e62bc1"><div class="ttname"><a href="#a143c987497e70d470d770508f7e62bc1">BucketGraph::solveTSP</a></div><div class="ttdeci">auto solveTSP(std::vector&lt; std::vector&lt; uint16_t &gt; &gt; &amp;paths, std::vector&lt; double &gt; &amp;path_costs, std::vector&lt; int &gt; &amp;firsts, std::vector&lt; int &gt; &amp;lasts, std::vector&lt; std::vector&lt; double &gt; &gt; &amp;cost_matrix, bool first_time=false)</div><div class="ttdef"><b>Definition</b> <a href="BucketPSTEP_8cpp_source.html#l00228">BucketPSTEP.cpp:228</a></div></div>
<div class="ttc" id="aclassBucketGraph_html_aac9620cd3bd3f83c506efe893973b4f2"><div class="ttname"><a href="#aac9620cd3bd3f83c506efe893973b4f2">BucketGraph::solvePSTEP</a></div><div class="ttdeci">std::vector&lt; Label * &gt; solvePSTEP(PSTEPDuals &amp;inner_pstep_duals)</div><div class="ttdoc">Solves the PSTEP problem and returns a vector of labels representing paths.</div><div class="ttdef"><b>Definition</b> <a href="BucketPSTEP_8cpp_source.html#l00024">BucketPSTEP.cpp:24</a></div></div>
<div class="ttc" id="astructPSTEPDuals_html_a1cad53619ae3d8ed8b726e13d3572dd0"><div class="ttname"><a href="structPSTEPDuals.html#a1cad53619ae3d8ed8b726e13d3572dd0">PSTEPDuals::setThreeTwoDualValues</a></div><div class="ttdeci">void setThreeTwoDualValues(const std::vector&lt; std::pair&lt; int, double &gt; &gt; &amp;values)</div><div class="ttdef"><b>Definition</b> <a href="PSTEP_8h_source.html#l00031">PSTEP.h:31</a></div></div>
<div class="ttc" id="astructPSTEPDuals_html_a62ec870efb76a66d57b9849e8ddd6131"><div class="ttname"><a href="structPSTEPDuals.html#a62ec870efb76a66d57b9849e8ddd6131">PSTEPDuals::setArcDualValues</a></div><div class="ttdeci">void setArcDualValues(const std::vector&lt; std::pair&lt; Arc, double &gt; &gt; &amp;values)</div><div class="ttdef"><b>Definition</b> <a href="PSTEP_8h_source.html#l00026">PSTEP.h:26</a></div></div>
<div class="ttc" id="astructPSTEPDuals_html_aea54f8d9e5d64bd12e189a80d2c2b5ba"><div class="ttname"><a href="structPSTEPDuals.html#aea54f8d9e5d64bd12e189a80d2c2b5ba">PSTEPDuals::setThreeThreeDualValues</a></div><div class="ttdeci">void setThreeThreeDualValues(const std::vector&lt; std::pair&lt; int, double &gt; &gt; &amp;values)</div><div class="ttdef"><b>Definition</b> <a href="PSTEP_8h_source.html#l00035">PSTEP.h:35</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_aebc98fb458f5730b4e5a99d97344c4b1_cgraph.png" border="0" usemap="#aclassBucketGraph_aebc98fb458f5730b4e5a99d97344c4b1_cgraph" alt=""/></div>
<map name="aclassBucketGraph_aebc98fb458f5730b4e5a99d97344c4b1_cgraph" id="aclassBucketGraph_aebc98fb458f5730b4e5a99d97344c4b1_cgraph">
<area shape="rect" title=" " alt="" coords="5,212,183,253"/>
<area shape="rect" href="structPSTEPDuals.html#a62ec870efb76a66d57b9849e8ddd6131" title=" " alt="" coords="231,97,438,122"/>
<area shape="poly" title=" " alt="" coords="117,209,167,170,229,133,248,125,250,130,232,137,170,175,120,213"/>
<area shape="rect" href="structPSTEPDuals.html#aea54f8d9e5d64bd12e189a80d2c2b5ba" title=" " alt="" coords="241,147,428,187"/>
<area shape="poly" title=" " alt="" coords="170,209,242,189,243,195,172,214"/>
<area shape="rect" href="structPSTEPDuals.html#a1cad53619ae3d8ed8b726e13d3572dd0" title=" " alt="" coords="232,212,437,253"/>
<area shape="poly" title=" " alt="" coords="183,230,216,230,216,235,183,235"/>
<area shape="rect" href="classBucketGraph.html#aac9620cd3bd3f83c506efe893973b4f2" title="Solves the PSTEP problem and returns a vector of labels representing paths." alt="" coords="246,277,423,302"/>
<area shape="poly" title=" " alt="" coords="183,251,263,270,262,275,182,256"/>
<area shape="rect" href="classBucketGraph.html#a143c987497e70d470d770508f7e62bc1" title=" " alt="" coords="254,326,414,352"/>
<area shape="poly" title=" " alt="" coords="125,251,174,283,232,313,249,319,248,324,230,317,171,287,122,255"/>
<area shape="rect" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c" title=" " alt="" coords="486,38,670,64"/>
<area shape="poly" title=" " alt="" coords="413,328,436,313,454,290,463,268,465,245,465,222,464,173,470,147,484,119,508,91,536,70,539,74,512,95,488,122,475,148,469,174,470,222,471,246,468,269,459,293,440,317,416,332"/>
<area shape="rect" href="classMIPProblem.html#a7d7c950859d42587ebd021023edde212" title=" " alt="" coords="492,133,664,158"/>
<area shape="poly" title=" " alt="" coords="413,327,436,313,450,296,457,279,460,243,462,206,470,187,484,169,489,165,492,169,488,173,474,190,467,207,465,244,462,280,455,299,440,317,416,332"/>
<area shape="rect" href="classMIPProblem.html#ae1444b927d088a4f9d35dfe604aeb7d9" title=" " alt="" coords="492,183,665,223"/>
<area shape="poly" title=" " alt="" coords="414,325,436,313,453,295,460,275,467,254,484,233,488,230,492,234,488,237,472,256,465,277,457,297,440,317,416,330"/>
<area shape="rect" href="BucketPSTEP_8cpp.html#ad85168fa0ec10457141c651750db82c8" title=" " alt="" coords="510,248,646,273"/>
<area shape="poly" title=" " alt="" coords="406,323,437,313,461,298,485,282,500,276,502,281,487,287,463,302,439,317,408,328"/>
<area shape="rect" href="classIPSolver.html#a61f035c65c660c2f0fcddc687388fb0d" title=" " alt="" coords="514,297,642,322"/>
<area shape="poly" title=" " alt="" coords="415,327,498,317,499,322,415,332"/>
<area shape="rect" href="classGurobiEnvSingleton.html#a49c3ce63088629c2246dec252a73df16" title=" " alt="" coords="510,347,646,387"/>
<area shape="poly" title=" " alt="" coords="415,346,495,355,495,360,415,351"/>
<area shape="rect" href="classIPSolver.html#aac6e8605bf4d41ddd7bf4f8f4384c0a1" title=" " alt="" coords="503,412,653,437"/>
<area shape="poly" title=" " alt="" coords="367,350,487,396,511,404,510,409,485,402,365,355"/>
<area shape="rect" href="classIPSolver.html#acc02635739446925971f247ee90227ad" title="Runs the optimization process on the given model data." alt="" coords="492,461,664,486"/>
<area shape="poly" title=" " alt="" coords="352,350,408,398,446,424,487,447,501,453,498,458,485,452,444,429,405,402,348,354"/>
<area shape="rect" href="classMIPProblem.html#a646a4f30d027285df6f5561c8134f619" title=" " alt="" coords="492,511,664,551"/>
<area shape="poly" title=" " alt="" coords="347,351,401,419,442,461,488,497,495,501,492,506,484,501,438,465,397,423,343,354"/>
<area shape="rect" href="classMIPProblem.html#af74c6183105ff9487dfd97d733b500e7" title=" " alt="" coords="509,576,647,601"/>
<area shape="poly" title=" " alt="" coords="343,351,361,392,391,449,434,509,459,537,488,561,496,566,493,571,484,565,456,541,430,513,387,452,356,394,338,353"/>
<area shape="rect" href="classLinearExpression.html#a941cd736bd9e19240abed98b3a000c44" title=" " alt="" coords="763,5,908,46"/>
<area shape="poly" title=" " alt="" coords="670,39,747,32,748,37,671,45"/>
<area shape="rect" href="classMIPProblem.html#ab90d73fab03bc3983fe3b263c447eb9b" title=" " alt="" coords="770,70,901,96"/>
<area shape="poly" title=" " alt="" coords="651,180,669,169,684,153,691,137,700,120,717,105,754,89,756,94,720,109,704,124,696,139,688,156,672,173,653,184"/>
<area shape="rect" href="classMIPProblem.html#a5f3fa530fb8a6061e1d294a1857dd250" title=" " alt="" coords="768,120,903,145"/>
<area shape="poly" title=" " alt="" coords="638,180,718,154,752,145,754,150,719,159,640,185"/>
<area shape="rect" href="classMIPProblem.html#a00841d8835fad12f1b35e83d7b5cf9a5" title=" " alt="" coords="752,169,919,194"/>
<area shape="poly" title=" " alt="" coords="665,193,736,187,737,193,666,198"/>
<area shape="rect" href="classMIPProblem.html#a94d7739fb700ed6194d73ddea3a870e8" title=" " alt="" coords="766,218,905,244"/>
<area shape="poly" title=" " alt="" coords="666,210,751,219,751,225,665,215"/>
<area shape="rect" href="classMIPProblem.html#a29674f674d7f14b118a031cdf734611e" title=" " alt="" coords="754,268,917,293"/>
<area shape="poly" title=" " alt="" coords="642,221,671,233,719,254,743,261,742,266,717,259,669,237,640,226"/>
<area shape="rect" href="classIPSolver.html#a2651221065511beedd53613296aaddcb" title="Converts the given linear programming problem to its standard form." alt="" coords="766,317,905,358"/>
<area shape="poly" title=" " alt="" coords="651,458,669,448,685,429,692,409,699,388,717,368,750,350,753,354,720,372,704,391,697,411,689,432,672,452,653,463"/>
<area shape="rect" href="classIPSolver.html#a2f6983d42c0a0af7344a9c7f9b79cdfe" title=" " alt="" coords="718,382,953,408"/>
<area shape="poly" title=" " alt="" coords="640,458,669,447,693,432,717,417,735,410,737,415,719,421,696,436,672,452,642,463"/>
<area shape="rect" href="classIPSolver.html#a16c38201e3fc179e9265a82e67510679" title="Computes the maximum step size (alpha) that can be taken along the direction of the search vectors." alt="" coords="766,432,905,457"/>
<area shape="poly" title=" " alt="" coords="664,461,750,451,751,457,665,467"/>
<area shape="rect" href="classIPSolver.html#a10d79c906c9f170d975b9404e793a14e" title=" " alt="" coords="1001,512,1157,537"/>
<area shape="poly" title=" " alt="" coords="664,480,986,512,985,518,664,485"/>
<area shape="rect" href="classIPSolver.html#ac225cc4dcfe81ae25d3d59bdcb0b029f" title="Solves the Newton system for the interior point method." alt="" coords="757,532,914,573"/>
<area shape="poly" title=" " alt="" coords="630,485,671,496,759,524,757,529,670,502,628,490"/>
<area shape="rect" href="classIPSolver.html#aac549fa9ef9fd8c98dc9262550a81f4d" title=" " alt="" coords="765,597,906,638"/>
<area shape="poly" title=" " alt="" coords="651,485,672,497,690,519,697,541,704,562,720,582,751,600,749,604,717,586,699,565,692,542,685,521,669,501,648,489"/>
<area shape="rect" href="classIPSolver.html#a22f7028c11d89b7986357f004f269924" title=" " alt="" coords="758,663,913,703"/>
<area shape="poly" title=" " alt="" coords="655,485,672,497,687,516,695,536,697,574,699,612,706,630,720,648,745,665,742,669,717,652,702,632,694,613,692,574,689,537,683,519,669,501,651,489"/>
<area shape="rect" href="classIPSolver.html#a1f22b1985e02e839ff3b2791a0389865" title="Updates the residuals for the interior point method solver." alt="" coords="748,728,923,753"/>
<area shape="poly" title=" " alt="" coords="656,485,672,497,691,525,699,553,700,581,696,608,693,635,694,662,701,688,720,713,735,724,732,729,716,717,697,690,688,662,688,635,691,607,694,580,694,553,687,527,668,501,653,489"/>
<area shape="poly" title=" " alt="" coords="914,541,985,532,985,538,915,546"/>
</map>
</div>

</div>
</div>
<a id="a143c987497e70d470d770508f7e62bc1" name="a143c987497e70d470d770508f7e62bc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a143c987497e70d470d770508f7e62bc1">&#9670;&#160;</a></span>solveTSP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto BucketGraph::solveTSP </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; uint16_t &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>paths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>path_costs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>firsts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>lasts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; double &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>cost_matrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>first_time</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketPSTEP_8cpp_source.html#l00228">228</a> of file <a class="el" href="BucketPSTEP_8cpp_source.html">BucketPSTEP.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  230</span>                                                                                       {</div>
<div class="line"><span class="lineno">  231</span>    <span class="keyword">auto</span>       n     = cost_matrix.size();</div>
<div class="line"><span class="lineno">  232</span>    MIPProblem model = MIPProblem(<span class="stringliteral">&quot;tsp&quot;</span>, 0, 0);</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">if</span> (first_time) { <a class="code hl_function" href="BucketPSTEP_8cpp.html#ad85168fa0ec10457141c651750db82c8">generateInitialPaths</a>(n - 1, paths, path_costs, firsts, lasts, cost_matrix); }</div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// Define variables</span></div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordtype">int</span>                       R = paths.size(); <span class="comment">// Number of p-steps</span></div>
<div class="line"><span class="lineno">  236</span>    std::vector&lt;baldesVarPtr&gt; x(R);             <span class="comment">// Binary variables for each p-step</span></div>
<div class="line"><span class="lineno">  237</span>    std::vector&lt;baldesVarPtr&gt; u(n);             <span class="comment">// Continuous variables for each node</span></div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>    <span class="comment">// Create binary variables x_r for each p-step r</span></div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; R; ++i) {</div>
<div class="line"><span class="lineno">  241</span>        <span class="comment">// fmt::print(&quot;path_costs[{}] = {}\n&quot;, i, path_costs[i]);</span></div>
<div class="line"><span class="lineno">  242</span>        std::string varname = <span class="stringliteral">&quot;x_&quot;</span> + std::to_string(i);</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordtype">double</span>      custo   = path_costs[i];</div>
<div class="line"><span class="lineno">  244</span>        x[i]                = model.<a class="code hl_function" href="classMIPProblem.html#a7d7c950859d42587ebd021023edde212">add_variable</a>(varname, <a class="code hl_enumvalue" href="Variable_8h.html#a20dc844625408b8f19865275d22d4fa0a535863a82f163709557e59e2eb8139a7">VarType::Continuous</a>, 0.0, 1.0, custo);</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="comment">// Create continuous variables u_i for each node i</span></div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><span class="lineno">  249</span>        <span class="keyword">auto</span> name = <span class="stringliteral">&quot;u_&quot;</span> + std::to_string(i);</div>
<div class="line"><span class="lineno">  250</span>        u[i]      = model.<a class="code hl_function" href="classMIPProblem.html#a7d7c950859d42587ebd021023edde212">add_variable</a>(name, <a class="code hl_enumvalue" href="Variable_8h.html#a20dc844625408b8f19865275d22d4fa0a535863a82f163709557e59e2eb8139a7">VarType::Continuous</a>, 0.0, n - 1, 0.0);</div>
<div class="line"><span class="lineno">  251</span>    }</div>
<div class="line"><span class="lineno">  252</span>    model.<a class="code hl_function" href="classMIPProblem.html#a646a4f30d027285df6f5561c8134f619">setObjectiveSense</a>(<a class="code hl_enumvalue" href="MIPHandler_8h.html#a45660f9909187129a953fa05e664576ead27532d90ecd513e97ab811c0f34dbfd">ObjectiveType::Minimize</a>);</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="comment">// Constraints (3.3) and (3.4):</span></div>
<div class="line"><span class="lineno">  255</span>    std::vector&lt;baldesCtrPtr&gt; three_two(n);</div>
<div class="line"><span class="lineno">  256</span>    std::vector&lt;baldesCtrPtr&gt; three_three(n);</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  258</span>        LinearExpression in_constraint;</div>
<div class="line"><span class="lineno">  259</span>        LinearExpression out_constraint;</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; R; ++r) {</div>
<div class="line"><span class="lineno">  261</span>            <span class="keywordflow">if</span> (firsts[r] == i) { in_constraint += x[r]; }</div>
<div class="line"><span class="lineno">  262</span>            <span class="keywordflow">if</span> (lasts[r] == i) { in_constraint -= x[r]; }</div>
<div class="line"><span class="lineno">  263</span>            <span class="keywordflow">if</span> (std::find(paths[r].begin(), paths[r].end(), i) != paths[r].end() &amp;&amp; i != lasts[r]) {</div>
<div class="line"><span class="lineno">  264</span>                out_constraint += x[r];</div>
<div class="line"><span class="lineno">  265</span>            }</div>
<div class="line"><span class="lineno">  266</span>        }</div>
<div class="line"><span class="lineno">  267</span>        three_two[i]   = model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(in_constraint == 0, <span class="stringliteral">&quot;33_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  268</span>        three_three[i] = model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(out_constraint == 1, <span class="stringliteral">&quot;34_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  269</span>    }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="comment">// Constraints (3.5): Avoid sub-tours using MTZ constraints</span></div>
<div class="line"><span class="lineno">  272</span>    std::vector&lt;baldesCtrPtr&gt;              three_five_constraints;</div>
<div class="line"><span class="lineno">  273</span>    std::vector&lt;std::vector&lt;baldesCtrPtr&gt;&gt; three_five_constraints_matrix(n, std::vector&lt;baldesCtrPtr&gt;(n));</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; n; ++j) {</div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">if</span> (i != j) {</div>
<div class="line"><span class="lineno">  277</span>                LinearExpression r_sum;</div>
<div class="line"><span class="lineno">  278</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; R; ++r) {</div>
<div class="line"><span class="lineno">  279</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; paths[r].size() - 1; ++k) {</div>
<div class="line"><span class="lineno">  280</span>                        <span class="keywordflow">if</span> (paths[r][k] == i &amp;&amp; paths[r][k + 1] == j) { r_sum += x[r]; }</div>
<div class="line"><span class="lineno">  281</span>                    }</div>
<div class="line"><span class="lineno">  282</span>                }</div>
<div class="line"><span class="lineno">  283</span>                <span class="keyword">auto</span> ctr = u[i] - u[j] + (n - 1) * r_sum &lt;= (n - 2);</div>
<div class="line"><span class="lineno">  284</span>                three_five_constraints_matrix[i][j] =</div>
<div class="line"><span class="lineno">  285</span>                    model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(ctr, <span class="stringliteral">&quot;mtz_&quot;</span> + std::to_string(i) + <span class="stringliteral">&quot;_&quot;</span> + std::to_string(j));</div>
<div class="line"><span class="lineno">  286</span>            }</div>
<div class="line"><span class="lineno">  287</span>        }</div>
<div class="line"><span class="lineno">  288</span>    }</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; n; i++) {</div>
<div class="line"><span class="lineno">  291</span>        model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(u[i] &gt;= 0, <span class="stringliteral">&quot;u_lb_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  292</span>        model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(u[i] &lt;= n - 1, <span class="stringliteral">&quot;u_ub_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  293</span>    }</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span><span class="preprocessor">#ifdef IPM</span></div>
<div class="line"><span class="lineno">  296</span>    IPSolver *ipSolver = <span class="keyword">new</span> IPSolver();</div>
<div class="line"><span class="lineno">  297</span>    <span class="keyword">auto</span>      matrix   = model.<a class="code hl_function" href="classMIPProblem.html#ae1444b927d088a4f9d35dfe604aeb7d9">extractModelDataSparse</a>();</div>
<div class="line"><span class="lineno">  298</span>    ipSolver-&gt;<a class="code hl_function" href="classIPSolver.html#acc02635739446925971f247ee90227ad">run_optimization</a>(matrix, 1e-2);</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    <span class="keyword">auto</span> duals = ipSolver-&gt;<a class="code hl_function" href="classIPSolver.html#a61f035c65c660c2f0fcddc687388fb0d">getDuals</a>();</div>
<div class="line"><span class="lineno">  301</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="keyword">auto</span> duals = std::vector&lt;double&gt;(N_SIZE, 0.0);</div>
<div class="line"><span class="lineno">  303</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  304</span>    std::vector&lt;double&gt;              three_two_duals(n, 0.0);</div>
<div class="line"><span class="lineno">  305</span>    std::vector&lt;double&gt;              three_three_duals(n, 0.0);</div>
<div class="line"><span class="lineno">  306</span>    std::vector&lt;std::vector&lt;double&gt;&gt; three_five_duals(n, std::vector&lt;double&gt;(n + 1, 0.0));</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  308</span>        three_two_duals[i]   = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.three_two_sign * duals[three_two[i]-&gt;index()];</div>
<div class="line"><span class="lineno">  309</span>        three_three_duals[i] = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.three_three_sign * duals[three_three[i]-&gt;index()];</div>
<div class="line"><span class="lineno">  310</span>    }</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    <span class="comment">// Extract duals for three_five constraints</span></div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  314</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; n; ++j) {</div>
<div class="line"><span class="lineno">  315</span>            <span class="keywordflow">if</span> (i != j) {</div>
<div class="line"><span class="lineno">  316</span>                three_five_duals[i][j] =</div>
<div class="line"><span class="lineno">  317</span>                    <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.three_five_sign * (n - 1) * duals[three_five_constraints_matrix[i][j]-&gt;index()];</div>
<div class="line"><span class="lineno">  318</span>            }</div>
<div class="line"><span class="lineno">  319</span>        }</div>
<div class="line"><span class="lineno">  320</span>    }</div>
<div class="line"><span class="lineno">  321</span><span class="preprocessor">#ifdef IPM</span></div>
<div class="line"><span class="lineno">  322</span>    <span class="keyword">auto</span> lp_obj = ipSolver-&gt;<a class="code hl_function" href="classIPSolver.html#aac6e8605bf4d41ddd7bf4f8f4384c0a1">getObjective</a>();</div>
<div class="line"><span class="lineno">  323</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  324</span>    <span class="keyword">auto</span> lp_obj = 0.0;</div>
<div class="line"><span class="lineno">  325</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  326</span>    fmt::print(<span class="stringliteral">&quot;LP Objective: {}\n&quot;</span>, lp_obj);</div>
<div class="line"><span class="lineno">  327</span>    GRBEnv   &amp;env      = <a class="code hl_function" href="classGurobiEnvSingleton.html#a49c3ce63088629c2246dec252a73df16">GurobiEnvSingleton::getInstance</a>();</div>
<div class="line"><span class="lineno">  328</span>    GRBModel *modelGRB = model.toGurobiModel(env).release(); <span class="comment">// Release ownership from unique_ptr</span></div>
<div class="line"><span class="lineno">  329</span>    <span class="comment">// set model verbose</span></div>
<div class="line"><span class="lineno">  330</span>    modelGRB-&gt;set(GRB_IntParam_OutputFlag, 0);</div>
<div class="line"><span class="lineno">  331</span>    <span class="comment">// set model type as 2</span></div>
<div class="line"><span class="lineno">  332</span>    modelGRB-&gt;set(GRB_IntParam_Method, 2);</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>    <span class="comment">// convert x vars to int and solve again</span></div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; R; ++i) {</div>
<div class="line"><span class="lineno">  336</span>        modelGRB-&gt;getVarByName(<span class="stringliteral">&quot;x_&quot;</span> + std::to_string(i)).set(GRB_CharAttr_VType, GRB_BINARY);</div>
<div class="line"><span class="lineno">  337</span>    }</div>
<div class="line"><span class="lineno">  338</span>    modelGRB-&gt;<a class="code hl_function" href="classMIPProblem.html#af74c6183105ff9487dfd97d733b500e7">update</a>();</div>
<div class="line"><span class="lineno">  339</span>    modelGRB-&gt;optimize();</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">if</span> (modelGRB-&gt;get(GRB_IntAttr_Status) == GRB_OPTIMAL) {</div>
<div class="line"><span class="lineno">  342</span>        fmt::print(<span class="stringliteral">&quot;Integer solution found with value: {}\n&quot;</span>, modelGRB-&gt;get(GRB_DoubleAttr_ObjVal));</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; R; ++i) {</div>
<div class="line"><span class="lineno">  344</span>            <span class="keywordflow">if</span> (modelGRB-&gt;getVarByName(<span class="stringliteral">&quot;x_&quot;</span> + std::to_string(i)).get(GRB_DoubleAttr_X) &gt; 0.5) {</div>
<div class="line"><span class="lineno">  345</span>                fmt::print(<span class="stringliteral">&quot;x_{} = {}\n&quot;</span>, i, modelGRB-&gt;getVarByName(<span class="stringliteral">&quot;x_&quot;</span> + std::to_string(i)).get(GRB_DoubleAttr_X));</div>
<div class="line"><span class="lineno">  346</span>                <span class="comment">// print path nodes</span></div>
<div class="line"><span class="lineno">  347</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> node : paths[i]) { fmt::print(<span class="stringliteral">&quot;{} &quot;</span>, node); }</div>
<div class="line"><span class="lineno">  348</span>                fmt::print(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  349</span>            }</div>
<div class="line"><span class="lineno">  350</span>        }</div>
<div class="line"><span class="lineno">  351</span>    }</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">return</span> std::make_tuple(three_two_duals, three_three_duals, three_five_duals);</div>
<div class="line"><span class="lineno">  354</span>}</div>
<div class="ttc" id="aBucketPSTEP_8cpp_html_ad85168fa0ec10457141c651750db82c8"><div class="ttname"><a href="BucketPSTEP_8cpp.html#ad85168fa0ec10457141c651750db82c8">generateInitialPaths</a></div><div class="ttdeci">void generateInitialPaths(int n, std::vector&lt; std::vector&lt; uint16_t &gt; &gt; &amp;paths, std::vector&lt; double &gt; &amp;path_costs, std::vector&lt; int &gt; &amp;firsts, std::vector&lt; int &gt; &amp;lasts, const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;cost_matrix)</div><div class="ttdef"><b>Definition</b> <a href="BucketPSTEP_8cpp_source.html#l00187">BucketPSTEP.cpp:187</a></div></div>
<div class="ttc" id="aMIPHandler_8h_html_a45660f9909187129a953fa05e664576ead27532d90ecd513e97ab811c0f34dbfd"><div class="ttname"><a href="MIPHandler_8h.html#a45660f9909187129a953fa05e664576ead27532d90ecd513e97ab811c0f34dbfd">ObjectiveType::Minimize</a></div><div class="ttdeci">@ Minimize</div><div class="ttdef"><b>Definition</b> <a href="MIPHandler_8h_source.html#l00192">MIPHandler.h:192</a></div></div>
<div class="ttc" id="aVariable_8h_html_a20dc844625408b8f19865275d22d4fa0a535863a82f163709557e59e2eb8139a7"><div class="ttname"><a href="Variable_8h.html#a20dc844625408b8f19865275d22d4fa0a535863a82f163709557e59e2eb8139a7">VarType::Continuous</a></div><div class="ttdeci">@ Continuous</div><div class="ttdef"><b>Definition</b> <a href="Variable_8h_source.html#l00014">Variable.h:14</a></div></div>
<div class="ttc" id="aclassGurobiEnvSingleton_html_a49c3ce63088629c2246dec252a73df16"><div class="ttname"><a href="classGurobiEnvSingleton.html#a49c3ce63088629c2246dec252a73df16">GurobiEnvSingleton::getInstance</a></div><div class="ttdeci">static GRBEnv &amp; getInstance()</div><div class="ttdef"><b>Definition</b> <a href="Gurobi_8h_source.html#l00063">Gurobi.h:63</a></div></div>
<div class="ttc" id="aclassIPSolver_html_a61f035c65c660c2f0fcddc687388fb0d"><div class="ttname"><a href="classIPSolver.html#a61f035c65c660c2f0fcddc687388fb0d">IPSolver::getDuals</a></div><div class="ttdeci">std::vector&lt; double &gt; getDuals() const</div><div class="ttdef"><b>Definition</b> <a href="IPSolver_8h_source.html#l00198">IPSolver.h:198</a></div></div>
<div class="ttc" id="aclassIPSolver_html_aac6e8605bf4d41ddd7bf4f8f4384c0a1"><div class="ttname"><a href="classIPSolver.html#aac6e8605bf4d41ddd7bf4f8f4384c0a1">IPSolver::getObjective</a></div><div class="ttdeci">double getObjective() const</div><div class="ttdef"><b>Definition</b> <a href="IPSolver_8h_source.html#l00200">IPSolver.h:200</a></div></div>
<div class="ttc" id="aclassIPSolver_html_acc02635739446925971f247ee90227ad"><div class="ttname"><a href="classIPSolver.html#acc02635739446925971f247ee90227ad">IPSolver::run_optimization</a></div><div class="ttdeci">void run_optimization(ModelData &amp;model, const double tol)</div><div class="ttdoc">Runs the optimization process on the given model data.</div><div class="ttdef"><b>Definition</b> <a href="IPSolver_8cpp_source.html#l00440">IPSolver.cpp:440</a></div></div>
<div class="ttc" id="aclassMIPProblem_html_a38c9f38202c52c5aad1e0a65ac494b7c"><div class="ttname"><a href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">MIPProblem::add_constraint</a></div><div class="ttdeci">baldesCtrPtr add_constraint(const LinearExpression &amp;expression, double rhs, char relation)</div><div class="ttdef"><b>Definition</b> <a href="MIPHandler_8h_source.html#l00437">MIPHandler.h:437</a></div></div>
<div class="ttc" id="aclassMIPProblem_html_a646a4f30d027285df6f5561c8134f619"><div class="ttname"><a href="classMIPProblem.html#a646a4f30d027285df6f5561c8134f619">MIPProblem::setObjectiveSense</a></div><div class="ttdeci">void setObjectiveSense(ObjectiveType obj_type)</div><div class="ttdef"><b>Definition</b> <a href="MIPHandler_8h_source.html#l00379">MIPHandler.h:379</a></div></div>
<div class="ttc" id="aclassMIPProblem_html_a7d7c950859d42587ebd021023edde212"><div class="ttname"><a href="classMIPProblem.html#a7d7c950859d42587ebd021023edde212">MIPProblem::add_variable</a></div><div class="ttdeci">baldesVarPtr add_variable(const std::string &amp;var_name, VarType type, double lb=0.0, double ub=1.0, double obj_coeff=0.0)</div><div class="ttdef"><b>Definition</b> <a href="MIPHandler_8h_source.html#l00358">MIPHandler.h:358</a></div></div>
<div class="ttc" id="aclassMIPProblem_html_ae1444b927d088a4f9d35dfe604aeb7d9"><div class="ttname"><a href="classMIPProblem.html#ae1444b927d088a4f9d35dfe604aeb7d9">MIPProblem::extractModelDataSparse</a></div><div class="ttdeci">ModelData extractModelDataSparse()</div><div class="ttdef"><b>Definition</b> <a href="MIPHandler_8h_source.html#l01163">MIPHandler.h:1163</a></div></div>
<div class="ttc" id="aclassMIPProblem_html_af74c6183105ff9487dfd97d733b500e7"><div class="ttname"><a href="classMIPProblem.html#af74c6183105ff9487dfd97d733b500e7">MIPProblem::update</a></div><div class="ttdeci">void update()</div><div class="ttdef"><b>Definition</b> <a href="MIPHandler_8h_source.html#l00993">MIPHandler.h:993</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a143c987497e70d470d770508f7e62bc1_cgraph.png" border="0" usemap="#aclassBucketGraph_a143c987497e70d470d770508f7e62bc1_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a143c987497e70d470d770508f7e62bc1_cgraph" id="aclassBucketGraph_a143c987497e70d470d770508f7e62bc1_cgraph">
<area shape="rect" title=" " alt="" coords="5,326,166,352"/>
<area shape="rect" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c" title=" " alt="" coords="214,38,398,64"/>
<area shape="poly" title=" " alt="" coords="90,324,134,234,169,175,212,119,239,92,268,70,271,75,243,96,216,122,174,178,139,236,95,327"/>
<area shape="rect" href="classMIPProblem.html#a7d7c950859d42587ebd021023edde212" title=" " alt="" coords="220,133,392,158"/>
<area shape="poly" title=" " alt="" coords="91,325,107,293,134,251,169,206,212,169,222,163,224,168,215,173,173,210,138,254,112,295,95,327"/>
<area shape="rect" href="classMIPProblem.html#ae1444b927d088a4f9d35dfe604aeb7d9" title=" " alt="" coords="219,183,392,223"/>
<area shape="poly" title=" " alt="" coords="98,324,146,280,178,255,212,233,222,228,224,232,215,237,181,259,149,284,102,328"/>
<area shape="rect" href="BucketPSTEP_8cpp.html#ad85168fa0ec10457141c651750db82c8" title=" " alt="" coords="238,248,374,273"/>
<area shape="poly" title=" " alt="" coords="114,323,213,282,233,275,235,280,215,287,116,328"/>
<area shape="rect" href="classIPSolver.html#a61f035c65c660c2f0fcddc687388fb0d" title=" " alt="" coords="242,297,370,322"/>
<area shape="poly" title=" " alt="" coords="166,326,226,318,227,323,166,331"/>
<area shape="rect" href="classGurobiEnvSingleton.html#a49c3ce63088629c2246dec252a73df16" title=" " alt="" coords="238,347,374,387"/>
<area shape="poly" title=" " alt="" coords="166,347,223,354,222,359,166,352"/>
<area shape="rect" href="classIPSolver.html#aac6e8605bf4d41ddd7bf4f8f4384c0a1" title=" " alt="" coords="231,412,381,437"/>
<area shape="poly" title=" " alt="" coords="113,350,160,373,215,397,237,404,235,409,213,401,158,378,111,355"/>
<area shape="rect" href="classIPSolver.html#acc02635739446925971f247ee90227ad" title="Runs the optimization process on the given model data." alt="" coords="220,461,392,486"/>
<area shape="poly" title=" " alt="" coords="100,351,147,398,180,425,215,447,226,453,224,457,212,452,176,429,144,402,96,354"/>
<area shape="rect" href="classMIPProblem.html#a646a4f30d027285df6f5561c8134f619" title=" " alt="" coords="220,511,392,551"/>
<area shape="poly" title=" " alt="" coords="96,351,140,420,175,461,215,497,221,501,218,505,212,501,171,465,136,423,92,354"/>
<area shape="rect" href="classMIPProblem.html#af74c6183105ff9487dfd97d733b500e7" title=" " alt="" coords="237,576,375,601"/>
<area shape="poly" title=" " alt="" coords="93,352,107,393,131,449,167,510,190,537,215,561,224,567,221,571,212,565,186,541,163,513,126,452,102,395,88,353"/>
<area shape="rect" href="classLinearExpression.html#a941cd736bd9e19240abed98b3a000c44" title=" " alt="" coords="491,5,635,46"/>
<area shape="poly" title=" " alt="" coords="398,39,475,32,476,37,399,45"/>
<area shape="rect" href="classMIPProblem.html#ab90d73fab03bc3983fe3b263c447eb9b" title=" " alt="" coords="498,70,629,96"/>
<area shape="poly" title=" " alt="" coords="378,180,396,169,411,153,419,137,428,120,445,105,482,89,484,94,447,109,432,124,424,139,416,156,400,173,381,184"/>
<area shape="rect" href="classMIPProblem.html#a5f3fa530fb8a6061e1d294a1857dd250" title=" " alt="" coords="496,120,630,145"/>
<area shape="poly" title=" " alt="" coords="366,180,445,154,480,145,481,150,447,159,368,185"/>
<area shape="rect" href="classMIPProblem.html#a00841d8835fad12f1b35e83d7b5cf9a5" title=" " alt="" coords="480,169,646,194"/>
<area shape="poly" title=" " alt="" coords="393,193,464,187,464,193,393,198"/>
<area shape="rect" href="classMIPProblem.html#a94d7739fb700ed6194d73ddea3a870e8" title=" " alt="" coords="494,218,632,244"/>
<area shape="poly" title=" " alt="" coords="393,210,479,219,478,225,393,215"/>
<area shape="rect" href="classMIPProblem.html#a29674f674d7f14b118a031cdf734611e" title=" " alt="" coords="482,268,644,293"/>
<area shape="poly" title=" " alt="" coords="369,221,399,233,447,254,471,261,470,266,445,259,397,237,368,226"/>
<area shape="rect" href="classIPSolver.html#a2651221065511beedd53613296aaddcb" title="Converts the given linear programming problem to its standard form." alt="" coords="494,317,632,358"/>
<area shape="poly" title=" " alt="" coords="378,458,396,448,413,429,420,409,427,388,444,368,478,350,480,354,448,372,432,391,425,411,417,432,400,452,381,463"/>
<area shape="rect" href="classIPSolver.html#a2f6983d42c0a0af7344a9c7f9b79cdfe" title=" " alt="" coords="446,382,680,408"/>
<area shape="poly" title=" " alt="" coords="368,458,397,447,420,432,445,417,463,410,465,415,447,421,423,436,399,452,370,463"/>
<area shape="rect" href="classIPSolver.html#a16c38201e3fc179e9265a82e67510679" title="Computes the maximum step size (alpha) that can be taken along the direction of the search vectors." alt="" coords="494,432,633,457"/>
<area shape="poly" title=" " alt="" coords="392,461,478,451,478,457,392,467"/>
<area shape="rect" href="classIPSolver.html#a10d79c906c9f170d975b9404e793a14e" title=" " alt="" coords="738,514,895,540"/>
<area shape="poly" title=" " alt="" coords="392,480,724,515,723,520,391,485"/>
<area shape="rect" href="classIPSolver.html#ac225cc4dcfe81ae25d3d59bdcb0b029f" title="Solves the Newton system for the interior point method." alt="" coords="484,532,642,573"/>
<area shape="poly" title=" " alt="" coords="358,485,399,496,486,524,485,529,397,502,356,490"/>
<area shape="rect" href="classIPSolver.html#aac549fa9ef9fd8c98dc9262550a81f4d" title=" " alt="" coords="492,597,634,638"/>
<area shape="poly" title=" " alt="" coords="379,485,400,497,417,519,425,541,431,562,448,582,479,600,476,604,444,586,427,565,419,542,413,521,396,501,376,489"/>
<area shape="rect" href="classIPSolver.html#a22f7028c11d89b7986357f004f269924" title=" " alt="" coords="486,663,640,703"/>
<area shape="poly" title=" " alt="" coords="382,485,400,497,415,516,422,536,425,574,427,612,434,630,448,648,473,665,470,669,444,652,429,632,422,613,419,574,417,537,410,519,396,501,379,489"/>
<area shape="rect" href="classIPSolver.html#a1f22b1985e02e839ff3b2791a0389865" title="Updates the residuals for the interior point method solver." alt="" coords="476,728,651,753"/>
<area shape="poly" title=" " alt="" coords="384,485,400,497,419,525,427,553,427,581,424,608,421,635,421,662,429,688,448,713,463,724,460,729,444,717,424,690,416,662,415,635,419,607,422,580,422,553,414,527,396,501,380,489"/>
<area shape="rect" href="classIPSolver.html#add3037642e4e2090f62e90d9df5eee9f" title="Computes the maximum step size (alpha) for a single direction vector." alt="" coords="747,424,886,465"/>
<area shape="poly" title=" " alt="" coords="633,442,731,442,731,447,633,447"/>
<area shape="rect" href="classIPSolver.html#a55c0e0acdfb28b73b2387a610bf8fbd6" title="Solves the augmented system for the given right&#45;hand side vectors." alt="" coords="953,507,1132,547"/>
<area shape="poly" title=" " alt="" coords="895,524,937,524,937,530,895,530"/>
<area shape="poly" title=" " alt="" coords="642,542,722,534,723,539,643,547"/>
<area shape="rect" href="classIPSolver.html#ad6ab576c321bd6a0506d9c5bf8362f1a" title="Converts a dense vector to a sparse diagonal matrix." alt="" coords="728,597,905,638"/>
<area shape="poly" title=" " alt="" coords="634,615,713,615,713,620,634,620"/>
</map>
</div>

</div>
</div>
<a id="a63d8d1d4235adcb64d7cd6e1b6ddb826" name="a63d8d1d4235adcb64d7cd6e1b6ddb826"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d8d1d4235adcb64d7cd6e1b6ddb826">&#9670;&#160;</a></span>solveTSPTW()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto BucketGraph::solveTSPTW </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::vector&lt; uint16_t &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>paths</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>path_costs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>firsts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>lasts</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; double &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>cost_matrix</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>service_times</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>time_windows_start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>time_windows_end</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>first_time</em></span><span class="paramdefsep"> = </span><span class="paramdefval">false</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketPSTEP_8cpp_source.html#l00421">421</a> of file <a class="el" href="BucketPSTEP_8cpp_source.html">BucketPSTEP.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  425</span>                                              {</div>
<div class="line"><span class="lineno">  426</span>    <span class="keyword">auto</span>       n     = cost_matrix.size();</div>
<div class="line"><span class="lineno">  427</span>    MIPProblem model = MIPProblem(<span class="stringliteral">&quot;tsptw&quot;</span>, 0, 0);</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    <span class="keywordflow">if</span> (first_time) {</div>
<div class="line"><span class="lineno">  430</span>        <a class="code hl_function" href="BucketPSTEP_8cpp.html#aa82adb54ce9631bde3bc9794b0783714">generateInitialPathsTSPTW</a>(n - 1, paths, path_costs, firsts, lasts, cost_matrix, time_windows_start,</div>
<div class="line"><span class="lineno">  431</span>                                  time_windows_end, service_times);</div>
<div class="line"><span class="lineno">  432</span>    }</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>    <span class="comment">// Variables</span></div>
<div class="line"><span class="lineno">  435</span>    <span class="keywordtype">int</span>                       R = paths.size();</div>
<div class="line"><span class="lineno">  436</span>    std::vector&lt;baldesVarPtr&gt; x(R);     <span class="comment">// Binary variables for p-steps</span></div>
<div class="line"><span class="lineno">  437</span>    std::vector&lt;baldesVarPtr&gt; omega(n); <span class="comment">// Continuous variables for accumulated time</span></div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>    <span class="comment">// Create binary variables x_r for each p-step r</span></div>
<div class="line"><span class="lineno">  440</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; R; ++i) {</div>
<div class="line"><span class="lineno">  441</span>        x[i] = model.<a class="code hl_function" href="classMIPProblem.html#a7d7c950859d42587ebd021023edde212">add_variable</a>(<span class="stringliteral">&quot;x_&quot;</span> + std::to_string(i), <a class="code hl_enumvalue" href="Variable_8h.html#a20dc844625408b8f19865275d22d4fa0a6ce976e8f061b2b5cfe4d0c50c3405dd">VarType::Binary</a>, 0.0, 1.0, path_costs[i]);</div>
<div class="line"><span class="lineno">  442</span>    }</div>
<div class="line"><span class="lineno">  443</span> </div>
<div class="line"><span class="lineno">  444</span>    <span class="comment">// Create continuous variables ω_i for time accumulation</span></div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><span class="lineno">  446</span>        omega[i] = model.<a class="code hl_function" href="classMIPProblem.html#a7d7c950859d42587ebd021023edde212">add_variable</a>(<span class="stringliteral">&quot;omega_&quot;</span> + std::to_string(i), <a class="code hl_enumvalue" href="Variable_8h.html#a20dc844625408b8f19865275d22d4fa0a535863a82f163709557e59e2eb8139a7">VarType::Continuous</a>, 0.0, 1e8, 0.0);</div>
<div class="line"><span class="lineno">  447</span>    }</div>
<div class="line"><span class="lineno">  448</span>    model.<a class="code hl_function" href="classMIPProblem.html#a646a4f30d027285df6f5561c8134f619">setObjectiveSense</a>(<a class="code hl_enumvalue" href="MIPHandler_8h.html#a45660f9909187129a953fa05e664576ead27532d90ecd513e97ab811c0f34dbfd">ObjectiveType::Minimize</a>);</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>    std::vector&lt;baldesCtrPtr&gt; three_two(n);</div>
<div class="line"><span class="lineno">  451</span>    std::vector&lt;baldesCtrPtr&gt; three_three(n);</div>
<div class="line"><span class="lineno">  452</span>    <span class="comment">// Constraints (4.11): Flow balance for p-steps</span></div>
<div class="line"><span class="lineno">  453</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  454</span>        LinearExpression flow_balance;</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; R; ++r) {</div>
<div class="line"><span class="lineno">  456</span>            <span class="keywordflow">if</span> (firsts[r] == i) flow_balance += x[r];</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordflow">if</span> (lasts[r] == i) flow_balance -= x[r];</div>
<div class="line"><span class="lineno">  458</span>        }</div>
<div class="line"><span class="lineno">  459</span>        three_two[i] = model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(flow_balance == 0, <span class="stringliteral">&quot;flow_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  460</span>    }</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>    <span class="comment">// Constraints (4.12): Visit each node at most once</span></div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  464</span>        LinearExpression visit_once;</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; R; ++r) {</div>
<div class="line"><span class="lineno">  466</span>            <span class="keywordflow">if</span> (std::find(paths[r].begin(), paths[r].end(), i) != paths[r].end()) { visit_once += x[r]; }</div>
<div class="line"><span class="lineno">  467</span>        }</div>
<div class="line"><span class="lineno">  468</span>        three_three[i] = model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(visit_once &lt;= 1, <span class="stringliteral">&quot;visit_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  469</span>    }</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    <span class="comment">// Constraint (4.13): Visit source exactly once</span></div>
<div class="line"><span class="lineno">  472</span>    LinearExpression source_visit;</div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; R; ++r) {</div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordflow">if</span> (firsts[r] == 0) { source_visit += x[r]; }</div>
<div class="line"><span class="lineno">  475</span>    }</div>
<div class="line"><span class="lineno">  476</span>    model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(source_visit == 1, <span class="stringliteral">&quot;source&quot;</span>);</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <span class="comment">// Constraints (4.14): Time accumulation with big-M</span></div>
<div class="line"><span class="lineno">  479</span>    std::vector&lt;baldesCtrPtr&gt;              three_five_constraints;</div>
<div class="line"><span class="lineno">  480</span>    std::vector&lt;std::vector&lt;baldesCtrPtr&gt;&gt; three_five_constraints_matrix(n, std::vector&lt;baldesCtrPtr&gt;(n));</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  482</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; n; ++j) {</div>
<div class="line"><span class="lineno">  483</span>            <span class="keywordflow">if</span> (i != j) {</div>
<div class="line"><span class="lineno">  484</span>                <span class="keywordtype">double</span>           M_ij = 1e8;</div>
<div class="line"><span class="lineno">  485</span>                LinearExpression time_acc;</div>
<div class="line"><span class="lineno">  486</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; R; ++r) {</div>
<div class="line"><span class="lineno">  487</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> k = 0; k &lt; paths[r].size() - 1; ++k) {</div>
<div class="line"><span class="lineno">  488</span>                        <span class="keywordflow">if</span> (paths[r][k] == i &amp;&amp; paths[r][k + 1] == j) { time_acc += x[r]; }</div>
<div class="line"><span class="lineno">  489</span>                    }</div>
<div class="line"><span class="lineno">  490</span>                }</div>
<div class="line"><span class="lineno">  491</span>                three_five_constraints_matrix[i][j] = model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(</div>
<div class="line"><span class="lineno">  492</span>                    omega[j] - omega[i] - (cost_matrix[i][j] + service_times[i]) * time_acc - M_ij * time_acc &gt;= -M_ij,</div>
<div class="line"><span class="lineno">  493</span>                    <span class="stringliteral">&quot;time_&quot;</span> + std::to_string(i) + <span class="stringliteral">&quot;_&quot;</span> + std::to_string(j));</div>
<div class="line"><span class="lineno">  494</span>            }</div>
<div class="line"><span class="lineno">  495</span>        }</div>
<div class="line"><span class="lineno">  496</span>    }</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>    <span class="comment">// define omega[0] = 0</span></div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    <span class="comment">// Constraints (4.15): Time window constraints</span></div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  502</span>        LinearExpression node_used;</div>
<div class="line"><span class="lineno">  503</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; R; ++r) {</div>
<div class="line"><span class="lineno">  504</span>            <span class="keywordflow">if</span> (std::find(paths[r].begin(), paths[r].end(), i) != paths[r].end()) { node_used += x[r]; }</div>
<div class="line"><span class="lineno">  505</span>        }</div>
<div class="line"><span class="lineno">  506</span>        model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(omega[i] - time_windows_start[i] * node_used &gt;= 0, <span class="stringliteral">&quot;tw_lb_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  507</span>        model.<a class="code hl_function" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c">add_constraint</a>(omega[i] - time_windows_end[i] * node_used &lt;= 0, <span class="stringliteral">&quot;tw_ub_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  508</span>    }</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span><span class="comment">// Solve the model</span></div>
<div class="line"><span class="lineno">  511</span><span class="preprocessor">#ifdef IPM</span></div>
<div class="line"><span class="lineno">  512</span>    IPSolver *ipSolver = <span class="keyword">new</span> IPSolver();</div>
<div class="line"><span class="lineno">  513</span>    <span class="keyword">auto</span>      matrix   = model.<a class="code hl_function" href="classMIPProblem.html#ae1444b927d088a4f9d35dfe604aeb7d9">extractModelDataSparse</a>();</div>
<div class="line"><span class="lineno">  514</span>    ipSolver-&gt;<a class="code hl_function" href="classIPSolver.html#acc02635739446925971f247ee90227ad">run_optimization</a>(matrix, 1e-2);</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>    <span class="comment">// Extract solution and duals</span></div>
<div class="line"><span class="lineno">  517</span>    <span class="keyword">auto</span> duals = ipSolver-&gt;<a class="code hl_function" href="classIPSolver.html#a61f035c65c660c2f0fcddc687388fb0d">getDuals</a>();</div>
<div class="line"><span class="lineno">  518</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  519</span>    <span class="keyword">auto</span> duals = std::vector&lt;double&gt;(N_SIZE, 0.0);</div>
<div class="line"><span class="lineno">  520</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  521</span>    std::vector&lt;double&gt;              three_two_duals(n, 0.0);</div>
<div class="line"><span class="lineno">  522</span>    std::vector&lt;double&gt;              three_three_duals(n, 0.0);</div>
<div class="line"><span class="lineno">  523</span>    std::vector&lt;std::vector&lt;double&gt;&gt; three_five_duals(n, std::vector&lt;double&gt;(n + 1, 0.0));</div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  525</span>        three_two_duals[i]   = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.three_two_sign * duals[three_two[i]-&gt;index()];</div>
<div class="line"><span class="lineno">  526</span>        three_three_duals[i] = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.three_three_sign * duals[three_three[i]-&gt;index()];</div>
<div class="line"><span class="lineno">  527</span>        fmt::print(<span class="stringliteral">&quot;Duals for node {}: 3.2 = {}, 3.3 = {}\n&quot;</span>, i, three_two_duals[i], three_three_duals[i]);</div>
<div class="line"><span class="lineno">  528</span>    }</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <span class="comment">// Extract duals for three_five constraints</span></div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n - 1; ++i) {</div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 1; j &lt; n; ++j) {</div>
<div class="line"><span class="lineno">  533</span>            <span class="keywordflow">if</span> (i != j) {</div>
<div class="line"><span class="lineno">  534</span>                three_five_duals[i][j] =</div>
<div class="line"><span class="lineno">  535</span>                    <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.three_five_sign * (n - 1) * duals[three_five_constraints_matrix[i][j]-&gt;index()];</div>
<div class="line"><span class="lineno">  536</span>            }</div>
<div class="line"><span class="lineno">  537</span>        }</div>
<div class="line"><span class="lineno">  538</span>    }</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    <span class="comment">// Solution output and return</span></div>
<div class="line"><span class="lineno">  541</span>    <span class="comment">// fmt::print(&quot;LP Objective: {}\n&quot;, ipSolver-&gt;getObjective());</span></div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>    GRBEnv &amp;env = <a class="code hl_function" href="classGurobiEnvSingleton.html#a49c3ce63088629c2246dec252a73df16">GurobiEnvSingleton::getInstance</a>();</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>    GRBModel *modelGRB = model.toGurobiModel(env).release();</div>
<div class="line"><span class="lineno">  546</span>    <span class="comment">// set model verbose</span></div>
<div class="line"><span class="lineno">  547</span>    modelGRB-&gt;set(GRB_IntParam_OutputFlag, 1);</div>
<div class="line"><span class="lineno">  548</span>    <span class="comment">// set model type as 2</span></div>
<div class="line"><span class="lineno">  549</span>    modelGRB-&gt;set(GRB_IntParam_Method, 0);</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>    modelGRB-&gt;<a class="code hl_function" href="classMIPProblem.html#af74c6183105ff9487dfd97d733b500e7">update</a>();</div>
<div class="line"><span class="lineno">  552</span>    modelGRB-&gt;optimize();</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordflow">return</span> std::make_tuple(three_two_duals, three_three_duals, three_five_duals);</div>
<div class="line"><span class="lineno">  555</span>}</div>
<div class="ttc" id="aBucketPSTEP_8cpp_html_aa82adb54ce9631bde3bc9794b0783714"><div class="ttname"><a href="BucketPSTEP_8cpp.html#aa82adb54ce9631bde3bc9794b0783714">generateInitialPathsTSPTW</a></div><div class="ttdeci">void generateInitialPathsTSPTW(int n, std::vector&lt; std::vector&lt; uint16_t &gt; &gt; &amp;paths, std::vector&lt; double &gt; &amp;path_costs, std::vector&lt; int &gt; &amp;firsts, std::vector&lt; int &gt; &amp;lasts, const std::vector&lt; std::vector&lt; double &gt; &gt; &amp;cost_matrix, const std::vector&lt; double &gt; &amp;start_times, const std::vector&lt; double &gt; &amp;end_times, const std::vector&lt; double &gt; &amp;service_times)</div><div class="ttdef"><b>Definition</b> <a href="BucketPSTEP_8cpp_source.html#l00107">BucketPSTEP.cpp:107</a></div></div>
<div class="ttc" id="aVariable_8h_html_a20dc844625408b8f19865275d22d4fa0a6ce976e8f061b2b5cfe4d0c50c3405dd"><div class="ttname"><a href="Variable_8h.html#a20dc844625408b8f19865275d22d4fa0a6ce976e8f061b2b5cfe4d0c50c3405dd">VarType::Binary</a></div><div class="ttdeci">@ Binary</div><div class="ttdef"><b>Definition</b> <a href="Variable_8h_source.html#l00014">Variable.h:14</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a63d8d1d4235adcb64d7cd6e1b6ddb826_cgraph.png" border="0" usemap="#aclassBucketGraph_a63d8d1d4235adcb64d7cd6e1b6ddb826_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a63d8d1d4235adcb64d7cd6e1b6ddb826_cgraph" id="aclassBucketGraph_a63d8d1d4235adcb64d7cd6e1b6ddb826_cgraph">
<area shape="rect" title=" " alt="" coords="5,321,186,346"/>
<area shape="rect" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c" title=" " alt="" coords="234,58,418,84"/>
<area shape="poly" title=" " alt="" coords="102,319,153,241,190,191,232,142,291,91,295,95,236,146,194,194,157,244,107,322"/>
<area shape="rect" href="classMIPProblem.html#a7d7c950859d42587ebd021023edde212" title=" " alt="" coords="240,157,412,182"/>
<area shape="poly" title=" " alt="" coords="104,319,154,258,191,223,232,193,245,186,247,191,235,197,194,227,158,262,108,322"/>
<area shape="rect" href="classMIPProblem.html#ae1444b927d088a4f9d35dfe604aeb7d9" title=" " alt="" coords="239,207,412,247"/>
<area shape="poly" title=" " alt="" coords="117,318,169,288,233,257,246,251,248,256,235,261,172,293,120,323"/>
<area shape="rect" href="BucketPSTEP_8cpp.html#aa82adb54ce9631bde3bc9794b0783714" title=" " alt="" coords="235,272,417,297"/>
<area shape="poly" title=" " alt="" coords="158,318,247,298,248,304,160,323"/>
<area shape="rect" href="classIPSolver.html#a61f035c65c660c2f0fcddc687388fb0d" title=" " alt="" coords="262,321,390,346"/>
<area shape="poly" title=" " alt="" coords="186,331,246,331,246,336,186,336"/>
<area shape="rect" href="classGurobiEnvSingleton.html#a49c3ce63088629c2246dec252a73df16" title=" " alt="" coords="258,371,394,411"/>
<area shape="poly" title=" " alt="" coords="151,345,243,368,242,373,150,350"/>
<area shape="rect" href="classIPSolver.html#acc02635739446925971f247ee90227ad" title="Runs the optimization process on the given model data." alt="" coords="240,436,412,461"/>
<area shape="poly" title=" " alt="" coords="115,345,167,382,235,421,253,428,251,433,233,425,164,387,112,349"/>
<area shape="rect" href="classMIPProblem.html#a646a4f30d027285df6f5561c8134f619" title=" " alt="" coords="240,485,412,526"/>
<area shape="poly" title=" " alt="" coords="108,345,158,405,195,440,235,471,243,476,240,480,232,476,191,445,154,409,104,349"/>
<area shape="rect" href="classMIPProblem.html#af74c6183105ff9487dfd97d733b500e7" title=" " alt="" coords="257,550,395,576"/>
<area shape="poly" title=" " alt="" coords="104,346,121,384,149,435,187,489,210,514,235,536,244,541,241,545,232,540,206,518,183,493,144,438,116,386,99,348"/>
<area shape="rect" href="classLinearExpression.html#a941cd736bd9e19240abed98b3a000c44" title=" " alt="" coords="511,5,655,46"/>
<area shape="poly" title=" " alt="" coords="402,55,495,38,496,44,403,60"/>
<area shape="rect" href="classMIPProblem.html#ab90d73fab03bc3983fe3b263c447eb9b" title=" " alt="" coords="518,70,649,96"/>
<area shape="poly" title=" " alt="" coords="400,204,416,193,432,172,439,149,446,127,464,105,501,88,503,92,468,109,451,129,444,151,437,174,420,197,403,208"/>
<area shape="rect" href="classMIPProblem.html#a5f3fa530fb8a6061e1d294a1857dd250" title=" " alt="" coords="516,120,650,145"/>
<area shape="poly" title=" " alt="" coords="394,204,417,193,440,173,450,163,465,154,500,141,502,146,467,159,453,168,443,177,419,197,396,208"/>
<area shape="rect" href="classMIPProblem.html#a00841d8835fad12f1b35e83d7b5cf9a5" title=" " alt="" coords="500,169,666,194"/>
<area shape="poly" title=" " alt="" coords="413,209,491,195,492,200,413,214"/>
<area shape="rect" href="classMIPProblem.html#a94d7739fb700ed6194d73ddea3a870e8" title=" " alt="" coords="514,218,652,244"/>
<area shape="poly" title=" " alt="" coords="413,226,498,227,498,232,413,231"/>
<area shape="rect" href="classMIPProblem.html#a29674f674d7f14b118a031cdf734611e" title=" " alt="" coords="502,268,664,293"/>
<area shape="poly" title=" " alt="" coords="414,243,467,254,503,261,502,266,465,259,413,248"/>
<area shape="rect" href="classIPSolver.html#a2651221065511beedd53613296aaddcb" title="Converts the given linear programming problem to its standard form." alt="" coords="514,317,652,358"/>
<area shape="poly" title=" " alt="" coords="391,433,417,421,431,408,440,395,449,381,465,367,498,352,500,357,467,372,453,384,444,398,435,412,419,425,394,437"/>
<area shape="rect" href="classIPSolver.html#a2f6983d42c0a0af7344a9c7f9b79cdfe" title=" " alt="" coords="466,382,700,408"/>
<area shape="poly" title=" " alt="" coords="390,432,465,416,502,409,503,414,467,422,391,437"/>
<area shape="rect" href="classIPSolver.html#a16c38201e3fc179e9265a82e67510679" title="Computes the maximum step size (alpha) that can be taken along the direction of the search vectors." alt="" coords="514,432,653,457"/>
<area shape="poly" title=" " alt="" coords="412,444,498,443,498,448,412,450"/>
<area shape="rect" href="classIPSolver.html#a10d79c906c9f170d975b9404e793a14e" title=" " alt="" coords="758,514,915,540"/>
<area shape="poly" title=" " alt="" coords="412,459,744,510,743,515,411,464"/>
<area shape="rect" href="classIPSolver.html#ac225cc4dcfe81ae25d3d59bdcb0b029f" title="Solves the Newton system for the interior point method." alt="" coords="504,532,662,573"/>
<area shape="poly" title=" " alt="" coords="390,459,419,471,434,481,444,492,453,502,467,511,493,524,491,528,465,516,450,506,440,495,431,486,417,476,388,464"/>
<area shape="rect" href="classIPSolver.html#aac549fa9ef9fd8c98dc9262550a81f4d" title=" " alt="" coords="512,597,654,638"/>
<area shape="poly" title=" " alt="" coords="401,459,420,472,432,486,439,500,445,528,450,556,456,569,468,582,499,601,496,605,464,586,452,572,445,558,439,529,434,502,428,489,416,476,398,464"/>
<area shape="rect" href="classIPSolver.html#a22f7028c11d89b7986357f004f269924" title=" " alt="" coords="506,663,660,703"/>
<area shape="poly" title=" " alt="" coords="403,459,420,472,437,494,444,517,445,562,445,605,452,627,468,648,494,665,491,670,464,652,448,629,440,606,439,562,439,518,432,497,416,476,400,464"/>
<area shape="rect" href="classIPSolver.html#a1f22b1985e02e839ff3b2791a0389865" title="Updates the residuals for the interior point method solver." alt="" coords="496,728,671,753"/>
<area shape="poly" title=" " alt="" coords="404,460,420,472,441,503,449,534,448,565,444,596,439,626,439,655,447,684,468,713,483,725,480,729,464,717,443,687,434,656,434,625,439,595,443,564,443,535,436,505,416,475,401,464"/>
<area shape="rect" href="classIPSolver.html#add3037642e4e2090f62e90d9df5eee9f" title="Computes the maximum step size (alpha) for a single direction vector." alt="" coords="767,424,906,465"/>
<area shape="poly" title=" " alt="" coords="653,442,751,442,751,447,653,447"/>
<area shape="rect" href="classIPSolver.html#a55c0e0acdfb28b73b2387a610bf8fbd6" title="Solves the augmented system for the given right&#45;hand side vectors." alt="" coords="973,507,1152,547"/>
<area shape="poly" title=" " alt="" coords="915,524,957,524,957,530,915,530"/>
<area shape="poly" title=" " alt="" coords="662,542,742,534,743,539,663,547"/>
<area shape="rect" href="classIPSolver.html#ad6ab576c321bd6a0506d9c5bf8362f1a" title="Converts a dense vector to a sparse diagonal matrix." alt="" coords="748,597,925,638"/>
<area shape="poly" title=" " alt="" coords="654,615,733,615,733,620,654,620"/>
</map>
</div>

</div>
</div>
<a id="a32cbe9be5575f60c44e11442d75eafd0" name="a32cbe9be5575f60c44e11442d75eafd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32cbe9be5575f60c44e11442d75eafd0">&#9670;&#160;</a></span>solveTSPTW_by_MTZ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structLabel.html">Label</a> * &gt; BucketGraph::solveTSPTW_by_MTZ </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketPSTEP_8cpp_source.html#l00557">557</a> of file <a class="el" href="BucketPSTEP_8cpp_source.html">BucketPSTEP.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  557</span>                                                  {</div>
<div class="line"><span class="lineno">  558</span>    <span class="keywordtype">int</span> JOBS = nodes.size();</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    <span class="comment">// Initialize containers for storing paths, costs, firsts, and lasts</span></div>
<div class="line"><span class="lineno">  561</span>    std::vector&lt;std::vector&lt;uint16_t&gt;&gt; all_paths;</div>
<div class="line"><span class="lineno">  562</span>    std::vector&lt;double&gt;                all_costs;</div>
<div class="line"><span class="lineno">  563</span>    std::vector&lt;int&gt;                   all_firsts;</div>
<div class="line"><span class="lineno">  564</span>    std::vector&lt;int&gt;                   all_lasts;</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>    <span class="comment">// extract service time from nodes</span></div>
<div class="line"><span class="lineno">  567</span>    std::vector&lt;double&gt; service_times;</div>
<div class="line"><span class="lineno">  568</span>    std::vector&lt;double&gt; time_windows_start(JOBS, 0.0);</div>
<div class="line"><span class="lineno">  569</span>    std::vector&lt;double&gt; time_windows_end(JOBS, 10000.0);</div>
<div class="line"><span class="lineno">  570</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; JOBS; ++i) {</div>
<div class="line"><span class="lineno">  571</span>        time_windows_start[i] = nodes[i].lb[0];</div>
<div class="line"><span class="lineno">  572</span>        time_windows_end[i]   = nodes[i].ub[0];</div>
<div class="line"><span class="lineno">  573</span>        service_times.push_back(nodes[i].duration);</div>
<div class="line"><span class="lineno">  574</span>    }</div>
<div class="line"><span class="lineno">  575</span>    <span class="comment">// Step 1: Solve the initial TSPTW using the previously defined method</span></div>
<div class="line"><span class="lineno">  576</span>    <span class="keyword">auto</span> duals = <a class="code hl_function" href="#a63d8d1d4235adcb64d7cd6e1b6ddb826">solveTSPTW</a>(all_paths, all_costs, all_firsts, all_lasts, <a class="code hl_variable" href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">distance_matrix</a>, service_times,</div>
<div class="line"><span class="lineno">  577</span>                            time_windows_start, time_windows_end, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>    <span class="comment">// Step 2: Set up iteration for generating new paths using dual values</span></div>
<div class="line"><span class="lineno">  580</span>    <span class="keywordtype">int</span> max_pstep_iterations = 10;</div>
<div class="line"><span class="lineno">  581</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> z = 0; z &lt; max_pstep_iterations; ++z) {</div>
<div class="line"><span class="lineno">  582</span>        fmt::print(<span class="stringliteral">&quot;--------------------------------------\n&quot;</span>);</div>
<div class="line"><span class="lineno">  583</span>        fmt::print(<span class="stringliteral">&quot;Iteration {}\n&quot;</span>, z);</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>        <span class="comment">// Extract dual values for constraints</span></div>
<div class="line"><span class="lineno">  586</span>        <span class="keyword">auto</span> three_two_duals   = std::get&lt;0&gt;(duals);</div>
<div class="line"><span class="lineno">  587</span>        <span class="keyword">auto</span> three_three_duals = std::get&lt;1&gt;(duals);</div>
<div class="line"><span class="lineno">  588</span>        <span class="keyword">auto</span> three_five_duals  = std::get&lt;2&gt;(duals);</div>
<div class="line"><span class="lineno">  589</span>        <span class="comment">// auto arrival_time_duals = std::get&lt;3&gt;(duals);</span></div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>        PSTEPDuals inner_pstep_duals;</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>        <span class="comment">// Convert dual values for constraint (3.32)</span></div>
<div class="line"><span class="lineno">  594</span>        std::vector&lt;std::pair&lt;int, double&gt;&gt; three_two_tuples;</div>
<div class="line"><span class="lineno">  595</span>        three_two_tuples.reserve(three_two_duals.size());</div>
<div class="line"><span class="lineno">  596</span>        std::transform(three_two_duals.begin(), three_two_duals.end(), std::back_inserter(three_two_tuples),</div>
<div class="line"><span class="lineno">  597</span>                       [index = 0](<span class="keywordtype">double</span> value) <span class="keyword">mutable</span> { return std::make_pair(index++, value); });</div>
<div class="line"><span class="lineno">  598</span>        inner_pstep_duals.<a class="code hl_function" href="structPSTEPDuals.html#a1cad53619ae3d8ed8b726e13d3572dd0">setThreeTwoDualValues</a>(std::move(three_two_tuples));</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>        <span class="comment">// Convert dual values for constraint (3.33)</span></div>
<div class="line"><span class="lineno">  601</span>        std::vector&lt;std::pair&lt;int, double&gt;&gt; three_three_tuples;</div>
<div class="line"><span class="lineno">  602</span>        three_three_tuples.reserve(three_three_duals.size());</div>
<div class="line"><span class="lineno">  603</span>        std::transform(three_three_duals.begin(), three_three_duals.end(), std::back_inserter(three_three_tuples),</div>
<div class="line"><span class="lineno">  604</span>                       [index = 0](<span class="keywordtype">double</span> value) <span class="keyword">mutable</span> { return std::make_pair(index++, value); });</div>
<div class="line"><span class="lineno">  605</span>        inner_pstep_duals.<a class="code hl_function" href="structPSTEPDuals.html#aea54f8d9e5d64bd12e189a80d2c2b5ba">setThreeThreeDualValues</a>(std::move(three_three_tuples));</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>        <span class="comment">// Convert dual values for MTZ constraints (3.34) and time windows (3.35)</span></div>
<div class="line"><span class="lineno">  608</span>        std::vector&lt;std::pair&lt;std::pair&lt;int, int&gt;, <span class="keywordtype">double</span>&gt;&gt; arc_duals_tuples;</div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; three_five_duals.size(); ++i) {</div>
<div class="line"><span class="lineno">  610</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; three_five_duals[i].size(); ++j) {</div>
<div class="line"><span class="lineno">  611</span>                <span class="keywordflow">if</span> (i != j) { arc_duals_tuples.emplace_back(std::pair{i, j}, three_five_duals[i][j]); }</div>
<div class="line"><span class="lineno">  612</span>            }</div>
<div class="line"><span class="lineno">  613</span>        }</div>
<div class="line"><span class="lineno">  614</span>        inner_pstep_duals.<a class="code hl_function" href="structPSTEPDuals.html#a62ec870efb76a66d57b9849e8ddd6131">setArcDualValues</a>(std::move(arc_duals_tuples));</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; three_five_duals.size(); ++i) {</div>
<div class="line"><span class="lineno">  617</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; three_five_duals[i].size(); ++j) {</div>
<div class="line"><span class="lineno">  618</span>                <span class="keywordflow">if</span> (i != j) { <span class="comment">// Skip diagonal or add specific condition if needed</span></div>
<div class="line"><span class="lineno">  619</span>                    arc_duals_tuples.emplace_back(std::pair{i, j}, three_five_duals[i][j]);</div>
<div class="line"><span class="lineno">  620</span>                }</div>
<div class="line"><span class="lineno">  621</span>            }</div>
<div class="line"><span class="lineno">  622</span>        }</div>
<div class="line"><span class="lineno">  623</span>        inner_pstep_duals.<a class="code hl_function" href="structPSTEPDuals.html#a62ec870efb76a66d57b9849e8ddd6131">setArcDualValues</a>(std::move(arc_duals_tuples));</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>        <span class="comment">// Step 3: Solve the subproblem to generate new p-steps</span></div>
<div class="line"><span class="lineno">  626</span>        fmt::print(<span class="stringliteral">&quot;Solving PSTEP subproblem\n&quot;</span>);</div>
<div class="line"><span class="lineno">  627</span>        <span class="keyword">auto</span> sub_paths = <a class="code hl_function" href="#aac9620cd3bd3f83c506efe893973b4f2">solvePSTEP</a>(inner_pstep_duals);</div>
<div class="line"><span class="lineno">  628</span>        fmt::print(<span class="stringliteral">&quot;Subproblem solved\n&quot;</span>);</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>        <span class="comment">// Add the new paths to the existing list if valid</span></div>
<div class="line"><span class="lineno">  631</span>        <span class="keywordtype">int</span> paths_added = 0;</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> path : sub_paths) {</div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">if</span> (path-&gt;cost &gt;= 0) { <span class="keywordflow">continue</span>; }</div>
<div class="line"><span class="lineno">  634</span>            paths_added++;</div>
<div class="line"><span class="lineno">  635</span>            all_paths.push_back(path-&gt;getRoute());</div>
<div class="line"><span class="lineno">  636</span>            all_costs.push_back(path-&gt;real_cost);</div>
<div class="line"><span class="lineno">  637</span>            all_firsts.push_back(path-&gt;nodes_covered.front());</div>
<div class="line"><span class="lineno">  638</span>            all_lasts.push_back(path-&gt;nodes_covered.back());</div>
<div class="line"><span class="lineno">  639</span>        }</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>        <span class="comment">// If no new paths were added, stop the iteration</span></div>
<div class="line"><span class="lineno">  642</span>        <span class="keywordflow">if</span> (paths_added == 0) { <span class="keywordflow">break</span>; }</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>        <span class="comment">// Step 4: Re-solve the TSPTW with the updated set of p-steps</span></div>
<div class="line"><span class="lineno">  645</span>        duals = <a class="code hl_function" href="#a63d8d1d4235adcb64d7cd6e1b6ddb826">solveTSPTW</a>(all_paths, all_costs, all_firsts, all_lasts, <a class="code hl_variable" href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">distance_matrix</a>, service_times,</div>
<div class="line"><span class="lineno">  646</span>                           time_windows_start, time_windows_end);</div>
<div class="line"><span class="lineno">  647</span>    }</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span>    <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  650</span>}</div>
<div class="ttc" id="aclassBucketGraph_html_a63d8d1d4235adcb64d7cd6e1b6ddb826"><div class="ttname"><a href="#a63d8d1d4235adcb64d7cd6e1b6ddb826">BucketGraph::solveTSPTW</a></div><div class="ttdeci">auto solveTSPTW(std::vector&lt; std::vector&lt; uint16_t &gt; &gt; &amp;paths, std::vector&lt; double &gt; &amp;path_costs, std::vector&lt; int &gt; &amp;firsts, std::vector&lt; int &gt; &amp;lasts, std::vector&lt; std::vector&lt; double &gt; &gt; &amp;cost_matrix, std::vector&lt; double &gt; &amp;service_times, std::vector&lt; double &gt; &amp;time_windows_start, std::vector&lt; double &gt; &amp;time_windows_end, bool first_time=false)</div><div class="ttdef"><b>Definition</b> <a href="BucketPSTEP_8cpp_source.html#l00421">BucketPSTEP.cpp:421</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a32cbe9be5575f60c44e11442d75eafd0_cgraph.png" border="0" usemap="#aclassBucketGraph_a32cbe9be5575f60c44e11442d75eafd0_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a32cbe9be5575f60c44e11442d75eafd0_cgraph" id="aclassBucketGraph_a32cbe9be5575f60c44e11442d75eafd0_cgraph">
<area shape="rect" title=" " alt="" coords="5,207,186,247"/>
<area shape="rect" href="structPSTEPDuals.html#a62ec870efb76a66d57b9849e8ddd6131" title=" " alt="" coords="234,92,441,117"/>
<area shape="poly" title=" " alt="" coords="119,204,169,165,232,127,251,120,253,125,235,132,172,169,122,208"/>
<area shape="rect" href="structPSTEPDuals.html#aea54f8d9e5d64bd12e189a80d2c2b5ba" title=" " alt="" coords="244,141,431,182"/>
<area shape="poly" title=" " alt="" coords="172,204,244,184,245,189,174,209"/>
<area shape="rect" href="structPSTEPDuals.html#a1cad53619ae3d8ed8b726e13d3572dd0" title=" " alt="" coords="235,207,440,247"/>
<area shape="poly" title=" " alt="" coords="186,224,219,224,219,230,186,230"/>
<area shape="rect" href="classBucketGraph.html#aac9620cd3bd3f83c506efe893973b4f2" title="Solves the PSTEP problem and returns a vector of labels representing paths." alt="" coords="249,272,426,297"/>
<area shape="poly" title=" " alt="" coords="185,245,266,265,264,270,184,251"/>
<area shape="rect" href="classBucketGraph.html#a63d8d1d4235adcb64d7cd6e1b6ddb826" title=" " alt="" coords="247,321,428,346"/>
<area shape="poly" title=" " alt="" coords="127,246,176,277,235,307,252,314,251,319,233,312,173,282,124,250"/>
<area shape="rect" href="classMIPProblem.html#a38c9f38202c52c5aad1e0a65ac494b7c" title=" " alt="" coords="489,58,673,84"/>
<area shape="poly" title=" " alt="" coords="425,318,439,308,455,289,463,270,467,231,469,189,475,167,487,143,513,113,542,90,546,94,516,117,491,146,480,169,474,190,473,231,469,271,460,291,443,312,428,322"/>
<area shape="rect" href="classMIPProblem.html#a7d7c950859d42587ebd021023edde212" title=" " alt="" coords="495,157,667,182"/>
<area shape="poly" title=" " alt="" coords="423,318,439,308,451,294,458,281,463,252,467,223,475,207,487,193,493,189,496,193,491,197,479,210,473,224,468,253,463,283,456,297,443,312,426,323"/>
<area shape="rect" href="classMIPProblem.html#ae1444b927d088a4f9d35dfe604aeb7d9" title=" " alt="" coords="494,207,668,247"/>
<area shape="poly" title=" " alt="" coords="416,318,440,307,454,296,463,283,472,270,487,257,495,252,498,257,491,261,476,274,468,286,458,299,442,312,418,323"/>
<area shape="rect" href="BucketPSTEP_8cpp.html#aa82adb54ce9631bde3bc9794b0783714" title=" " alt="" coords="490,272,672,297"/>
<area shape="poly" title=" " alt="" coords="404,318,499,298,500,303,405,323"/>
<area shape="rect" href="classIPSolver.html#a61f035c65c660c2f0fcddc687388fb0d" title=" " alt="" coords="517,321,645,346"/>
<area shape="poly" title=" " alt="" coords="428,331,501,331,501,336,428,336"/>
<area shape="rect" href="classGurobiEnvSingleton.html#a49c3ce63088629c2246dec252a73df16" title=" " alt="" coords="514,371,649,411"/>
<area shape="poly" title=" " alt="" coords="396,345,499,369,498,374,395,350"/>
<area shape="rect" href="classIPSolver.html#acc02635739446925971f247ee90227ad" title="Runs the optimization process on the given model data." alt="" coords="496,436,667,461"/>
<area shape="poly" title=" " alt="" coords="359,345,416,382,490,421,509,428,507,433,488,425,413,386,356,349"/>
<area shape="rect" href="classMIPProblem.html#a646a4f30d027285df6f5561c8134f619" title=" " alt="" coords="495,485,667,526"/>
<area shape="poly" title=" " alt="" coords="351,345,407,405,447,440,490,471,499,476,496,481,488,476,443,444,403,409,347,349"/>
<area shape="rect" href="classMIPProblem.html#af74c6183105ff9487dfd97d733b500e7" title=" " alt="" coords="512,550,650,576"/>
<area shape="poly" title=" " alt="" coords="347,346,366,384,397,435,439,489,464,514,491,535,500,541,497,546,487,540,460,518,435,493,393,438,361,386,342,348"/>
<area shape="rect" href="classLinearExpression.html#a941cd736bd9e19240abed98b3a000c44" title=" " alt="" coords="766,5,911,46"/>
<area shape="poly" title=" " alt="" coords="658,55,750,38,751,44,659,60"/>
<area shape="rect" href="classMIPProblem.html#ab90d73fab03bc3983fe3b263c447eb9b" title=" " alt="" coords="773,70,904,96"/>
<area shape="poly" title=" " alt="" coords="655,204,671,193,688,172,694,149,701,127,720,105,757,88,759,92,723,109,706,129,699,151,692,174,675,197,658,208"/>
<area shape="rect" href="classMIPProblem.html#a5f3fa530fb8a6061e1d294a1857dd250" title=" " alt="" coords="771,120,906,145"/>
<area shape="poly" title=" " alt="" coords="649,204,672,193,695,173,705,163,720,154,756,141,757,146,722,159,708,168,699,177,675,197,651,208"/>
<area shape="rect" href="classMIPProblem.html#a00841d8835fad12f1b35e83d7b5cf9a5" title=" " alt="" coords="755,169,922,194"/>
<area shape="poly" title=" " alt="" coords="668,209,746,195,747,200,669,214"/>
<area shape="rect" href="classMIPProblem.html#a94d7739fb700ed6194d73ddea3a870e8" title=" " alt="" coords="769,218,908,244"/>
<area shape="poly" title=" " alt="" coords="668,226,754,227,754,232,668,231"/>
<area shape="rect" href="classMIPProblem.html#a29674f674d7f14b118a031cdf734611e" title=" " alt="" coords="757,268,920,293"/>
<area shape="poly" title=" " alt="" coords="669,243,722,254,758,261,757,266,721,259,668,248"/>
<area shape="rect" href="classIPSolver.html#a2651221065511beedd53613296aaddcb" title="Converts the given linear programming problem to its standard form." alt="" coords="769,317,908,358"/>
<area shape="poly" title=" " alt="" coords="647,433,672,421,686,408,695,395,704,381,720,367,753,352,755,357,723,372,708,384,700,398,690,412,675,425,649,437"/>
<area shape="rect" href="classIPSolver.html#a2f6983d42c0a0af7344a9c7f9b79cdfe" title=" " alt="" coords="721,382,956,408"/>
<area shape="poly" title=" " alt="" coords="646,432,721,416,757,409,758,414,722,422,647,437"/>
<area shape="rect" href="classIPSolver.html#a16c38201e3fc179e9265a82e67510679" title="Computes the maximum step size (alpha) that can be taken along the direction of the search vectors." alt="" coords="769,432,908,457"/>
<area shape="poly" title=" " alt="" coords="667,444,753,443,753,448,667,450"/>
<area shape="rect" href="classIPSolver.html#a10d79c906c9f170d975b9404e793a14e" title=" " alt="" coords="1004,512,1160,537"/>
<area shape="poly" title=" " alt="" coords="668,459,722,467,988,508,988,513,721,472,667,464"/>
<area shape="rect" href="classIPSolver.html#ac225cc4dcfe81ae25d3d59bdcb0b029f" title="Solves the Newton system for the interior point method." alt="" coords="760,532,917,573"/>
<area shape="poly" title=" " alt="" coords="645,459,675,471,690,481,699,492,709,502,723,511,748,524,746,528,720,516,705,506,696,495,686,486,672,476,643,464"/>
<area shape="rect" href="classIPSolver.html#aac549fa9ef9fd8c98dc9262550a81f4d" title=" " alt="" coords="768,597,909,638"/>
<area shape="poly" title=" " alt="" coords="656,459,675,472,688,486,695,500,700,528,705,556,712,569,723,582,754,601,752,605,720,586,707,572,700,558,695,529,690,502,683,489,672,476,653,464"/>
<area shape="rect" href="classIPSolver.html#a22f7028c11d89b7986357f004f269924" title=" " alt="" coords="761,663,916,703"/>
<area shape="poly" title=" " alt="" coords="658,459,675,472,692,494,700,517,700,562,700,605,708,627,723,648,749,665,746,670,719,652,703,629,695,606,695,562,694,518,687,497,671,476,655,464"/>
<area shape="rect" href="classIPSolver.html#a1f22b1985e02e839ff3b2791a0389865" title="Updates the residuals for the interior point method solver." alt="" coords="751,728,926,753"/>
<area shape="poly" title=" " alt="" coords="659,460,675,472,696,503,704,534,704,565,699,596,695,626,695,655,703,684,723,713,738,725,735,729,719,717,698,687,689,656,689,625,694,595,698,564,699,535,691,505,671,475,656,464"/>
<area shape="poly" title=" " alt="" coords="917,541,988,532,988,538,918,546"/>
</map>
</div>

</div>
</div>
<a id="a0c624bb43ab269d05e8cf6d97386bbe6" name="a0c624bb43ab269d05e8cf6d97386bbe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c624bb43ab269d05e8cf6d97386bbe6">&#9670;&#160;</a></span>split_buckets()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::split_buckets </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00683">683</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  683</span>                         {</div>
<div class="line"><span class="lineno">  684</span>        <span class="keyword">auto</span> &amp;buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>, <a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>);</div>
<div class="line"><span class="lineno">  685</span>        <span class="keyword">auto</span> &amp;buckets_size =</div>
<div class="line"><span class="lineno">  686</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#abe1a9250ac9527f6c4d7fc199c356a83">fw_buckets_size</a>, <a class="code hl_variable" href="#a24e94d447afd791b52fed701e928d1c2">bw_buckets_size</a>);</div>
<div class="line"><span class="lineno">  687</span>        <span class="keyword">auto</span> &amp;num_buckets = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a782519bd84892e3cb57bb237395dcfad">num_buckets_fw</a>, <a class="code hl_variable" href="#aaeaf126e28cef7e5d242c91e6ffcc379">num_buckets_bw</a>);</div>
<div class="line"><span class="lineno">  688</span>        <span class="keyword">auto</span> &amp;num_buckets_index =</div>
<div class="line"><span class="lineno">  689</span>            <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a1fbd815595b4216d50870f2c9ecb1fc3">num_buckets_index_fw</a>, <a class="code hl_variable" href="#acb40cb64a6aeb38d1ec3044ce28fe240">num_buckets_index_bw</a>);</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>        <span class="keywordtype">int</span> num_intervals = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources.size();</div>
<div class="line"><span class="lineno">  692</span>        std::vector&lt;double&gt; total_ranges(num_intervals);</div>
<div class="line"><span class="lineno">  693</span>        std::vector&lt;double&gt; base_intervals(num_intervals);</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>        <span class="comment">// Determine the base interval and other relevant values for</span></div>
<div class="line"><span class="lineno">  696</span>        <span class="comment">// each resource</span></div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; num_intervals; ++r) {</div>
<div class="line"><span class="lineno">  698</span>            total_ranges[r] = <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[r] - <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[r];</div>
<div class="line"><span class="lineno">  699</span>            base_intervals[r] = total_ranges[r] / intervals[r].interval;</div>
<div class="line"><span class="lineno">  700</span>        }</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordtype">int</span> original_num_buckets = buckets_size;</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>        <span class="comment">// To track splits per node_id</span></div>
<div class="line"><span class="lineno">  705</span>        ankerl::unordered_dense::map&lt;int, int&gt; splits_per_node;</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>        <span class="comment">// Loop until the second-to-last bucket to avoid</span></div>
<div class="line"><span class="lineno">  708</span>        <span class="comment">// out-of-bounds access</span></div>
<div class="line"><span class="lineno">  709</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; original_num_buckets - 1; ++i) {</div>
<div class="line"><span class="lineno">  710</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket = buckets[i];</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>            <span class="comment">// Calculate mid-point for each dimension</span></div>
<div class="line"><span class="lineno">  713</span>            std::vector&lt;double&gt; mid_point(bucket.lb.size());</div>
<div class="line"><span class="lineno">  714</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  715</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; bucket.lb.size(); ++r) {</div>
<div class="line"><span class="lineno">  716</span>                    mid_point[r] = (bucket.lb[r] + base_intervals[r]) / 2.0;</div>
<div class="line"><span class="lineno">  717</span>                }</div>
<div class="line"><span class="lineno">  718</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  719</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> r = 0; r &lt; bucket.lb.size(); ++r) {</div>
<div class="line"><span class="lineno">  720</span>                    mid_point[r] = (bucket.ub[r] - base_intervals[r]) / 2.0;</div>
<div class="line"><span class="lineno">  721</span>                }</div>
<div class="line"><span class="lineno">  722</span>            }</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>            <span class="comment">// Create two new buckets by splitting at the mid-point</span></div>
<div class="line"><span class="lineno">  725</span>            <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">Bucket</a> bucket1, bucket2;</div>
<div class="line"><span class="lineno">  726</span>            <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  727</span>                bucket1 = <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">Bucket</a>(bucket.node_id, bucket.lb, bucket.ub);</div>
<div class="line"><span class="lineno">  728</span>                bucket2 = <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">Bucket</a>(bucket.node_id, mid_point, bucket.ub);</div>
<div class="line"><span class="lineno">  729</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  730</span>                bucket1 = <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">Bucket</a>(bucket.node_id, bucket.lb, bucket.ub);</div>
<div class="line"><span class="lineno">  731</span>                bucket2 = <a class="code hl_enumvalue" href="Definitions_8h.html#a491fba2810f85cff5c316e40d8645a9da30edf70db68aa84f05d3e72326807b0c">Bucket</a>(bucket.node_id, bucket.lb, mid_point);</div>
<div class="line"><span class="lineno">  732</span>            }</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>            <span class="comment">// Manually shift elements to the right to make space</span></div>
<div class="line"><span class="lineno">  735</span>            <span class="comment">// for the new bucket</span></div>
<div class="line"><span class="lineno">  736</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = original_num_buckets; j &gt; i + 1; --j) {</div>
<div class="line"><span class="lineno">  737</span>                buckets[j] = buckets[j - 1];</div>
<div class="line"><span class="lineno">  738</span>            }</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>            <span class="comment">// Insert the new bucket at position i+1</span></div>
<div class="line"><span class="lineno">  741</span>            buckets[i + 1] = bucket2;</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>            <span class="comment">// Replace the current bucket with the first half</span></div>
<div class="line"><span class="lineno">  744</span>            <span class="comment">// (bucket1)</span></div>
<div class="line"><span class="lineno">  745</span>            buckets[i] = bucket1;</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>            <span class="comment">// Track the number of splits for this node_id</span></div>
<div class="line"><span class="lineno">  748</span>            splits_per_node[bucket.node_id]++;</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>            <span class="comment">// Since we added a new bucket at i+1, increment i to</span></div>
<div class="line"><span class="lineno">  751</span>            <span class="comment">// skip over the new bucket</span></div>
<div class="line"><span class="lineno">  752</span>            ++i;</div>
<div class="line"><span class="lineno">  753</span>            ++original_num_buckets;  <span class="comment">// Adjust the count to account</span></div>
<div class="line"><span class="lineno">  754</span>                                     <span class="comment">// for the new bucket</span></div>
<div class="line"><span class="lineno">  755</span>        }</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>        <span class="comment">// Update the global bucket size</span></div>
<div class="line"><span class="lineno">  758</span>        buckets_size = original_num_buckets;</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>        <span class="comment">// Now update the num_buckets_index for each node_id based</span></div>
<div class="line"><span class="lineno">  761</span>        <span class="comment">// on the final positions</span></div>
<div class="line"><span class="lineno">  762</span>        <span class="keywordtype">int</span> <a class="code hl_variable" href="BucketUtils_8h.html#a9cf8f354ff33623ee73743f3da2c7bb7">current_index</a> = 0;</div>
<div class="line"><span class="lineno">  763</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; original_num_buckets; ++i) {</div>
<div class="line"><span class="lineno">  764</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;bucket = buckets[i];</div>
<div class="line"><span class="lineno">  765</span>            <span class="keywordflow">if</span> (num_buckets_index[bucket.node_id] == -1) {</div>
<div class="line"><span class="lineno">  766</span>                num_buckets_index[bucket.node_id] = <a class="code hl_variable" href="BucketUtils_8h.html#a9cf8f354ff33623ee73743f3da2c7bb7">current_index</a>;</div>
<div class="line"><span class="lineno">  767</span>            }</div>
<div class="line"><span class="lineno">  768</span>            <a class="code hl_variable" href="BucketUtils_8h.html#a9cf8f354ff33623ee73743f3da2c7bb7">current_index</a>++;</div>
<div class="line"><span class="lineno">  769</span>        }</div>
<div class="line"><span class="lineno">  770</span>    }</div>
<div class="ttc" id="aBucketUtils_8h_html_a9cf8f354ff33623ee73743f3da2c7bb7"><div class="ttname"><a href="BucketUtils_8h.html#a9cf8f354ff33623ee73743f3da2c7bb7">current_index</a></div><div class="ttdeci">thread_local size_t ThreadLocalPool&lt; T &gt;::current_index</div><div class="ttdef"><b>Definition</b> <a href="BucketUtils_8h_source.html#l00063">BucketUtils.h:63</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a0c624bb43ab269d05e8cf6d97386bbe6_cgraph.png" border="0" usemap="#aclassBucketGraph_a0c624bb43ab269d05e8cf6d97386bbe6_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a0c624bb43ab269d05e8cf6d97386bbe6_cgraph" id="aclassBucketGraph_a0c624bb43ab269d05e8cf6d97386bbe6_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,133,46"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="181,5,322,46"/>
<area shape="poly" title=" " alt="" coords="133,23,165,23,165,28,133,28"/>
</map>
</div>

</div>
</div>
<a id="a56e6edbfed53fe1c67d25c1392806ef6" name="a56e6edbfed53fe1c67d25c1392806ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56e6edbfed53fe1c67d25c1392806ef6">&#9670;&#160;</a></span>update_neighborhoods()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::update_neighborhoods </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::pair&lt; size_t, size_t &gt; &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>conflicts</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01104">1104</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1105</span>                                                             {</div>
<div class="line"><span class="lineno"> 1106</span>        <span class="keywordtype">size_t</span> num_nodes = nodes.size();</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span>        <span class="comment">// For each conflict (u,v), add u to v&#39;s neighborhood and</span></div>
<div class="line"><span class="lineno"> 1109</span>        <span class="comment">// vice versa</span></div>
<div class="line"><span class="lineno"> 1110</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;conflict : conflicts) {</div>
<div class="line"><span class="lineno"> 1111</span>            <span class="keywordtype">size_t</span> u = conflict.first;</div>
<div class="line"><span class="lineno"> 1112</span>            <span class="keywordtype">size_t</span> v = conflict.second;</div>
<div class="line"><span class="lineno"> 1113</span> </div>
<div class="line"><span class="lineno"> 1114</span>            <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;Adding conflict between {} and {}\n&quot;</span>, u, v);</div>
<div class="line"><span class="lineno"> 1115</span>            <span class="comment">// Add v to u&#39;s neighborhood</span></div>
<div class="line"><span class="lineno"> 1116</span>            <span class="keywordtype">size_t</span> segment_v = v &gt;&gt; 6;</div>
<div class="line"><span class="lineno"> 1117</span>            <span class="keywordtype">size_t</span> bit_position_v = v &amp; 63;</div>
<div class="line"><span class="lineno"> 1118</span>            <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[u][segment_v] |= (1ULL &lt;&lt; bit_position_v);</div>
<div class="line"><span class="lineno"> 1119</span> </div>
<div class="line"><span class="lineno"> 1120</span>            <span class="comment">// Add u to v&#39;s neighborhood</span></div>
<div class="line"><span class="lineno"> 1121</span>            <span class="keywordtype">size_t</span> segment_u = u &gt;&gt; 6;</div>
<div class="line"><span class="lineno"> 1122</span>            <span class="keywordtype">size_t</span> bit_position_u = u &amp; 63;</div>
<div class="line"><span class="lineno"> 1123</span>            <a class="code hl_variable" href="#a1966749de29291018899e0857f9ab164">neighborhoods_bitmap</a>[v][segment_u] |= (1ULL &lt;&lt; bit_position_u);</div>
<div class="line"><span class="lineno"> 1124</span>        }</div>
<div class="line"><span class="lineno"> 1125</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a56e6edbfed53fe1c67d25c1392806ef6_cgraph.png" border="0" usemap="#aclassBucketGraph_a56e6edbfed53fe1c67d25c1392806ef6_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a56e6edbfed53fe1c67d25c1392806ef6_cgraph" id="aclassBucketGraph_a56e6edbfed53fe1c67d25c1392806ef6_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,148,70"/>
<area shape="poly" title=" " alt="" coords="46,29,45,19,50,11,60,5,77,3,94,5,104,11,101,16,92,10,76,8,62,10,53,14,50,20,51,28"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="196,37,270,62"/>
<area shape="poly" title=" " alt="" coords="148,47,180,47,180,52,148,52"/>
</map>
</div>

</div>
</div>
<a id="a394e55293111f386caf44ed9e67c5653" name="a394e55293111f386caf44ed9e67c5653"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a394e55293111f386caf44ed9e67c5653">&#9670;&#160;</a></span>UpdateBucketsSet()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> D&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::UpdateBucketsSet </td>
          <td>(</td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>theta</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structLabel.html">Label</a> *</td>          <td class="paramname"><span class="paramname"><em>label</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ankerl::unordered_dense::set&lt; int &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>Bbidi</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;</td>          <td class="paramname"><span class="paramname"><em>current_bucket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint64_t &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>Bvisited</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the set of buckets based on the given parameters.</p>
<p>This function inserts the current bucket into the visited set and then performs various checks and updates based on the provided theta, label, Bbidi, current_bucket, and Bvisited parameters. </p>

<p class="definition">Definition at line <a class="el" href="BucketJump_8h_source.html#l00041">41</a> of file <a class="el" href="BucketJump_8h_source.html">BucketJump.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>                                                                  {</div>
<div class="line"><span class="lineno">   45</span>    <span class="comment">// Select direction-specific data.</span></div>
<div class="line"><span class="lineno">   46</span>    <span class="keyword">auto</span> &amp;Phi_opposite = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a72a56b4c54f68ce0c2dd988f6f9eba41">Phi_bw</a>, <a class="code hl_variable" href="#ac521196275222e2de1486bff051f1c9d">Phi_fw</a>);</div>
<div class="line"><span class="lineno">   47</span>    <span class="keyword">auto</span> &amp;buckets_opposite = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a8496229500db7bd5714010d3c68f6e5d">bw_buckets</a>, <a class="code hl_variable" href="#aaa10fde8c08eaf20c617537c2192ecd0">fw_buckets</a>);</div>
<div class="line"><span class="lineno">   48</span>    <span class="keyword">auto</span> &amp;c_bar_opposite = <a class="code hl_function" href="#af129eff306551dc7cc7fe00b919bbbd0">assign_buckets&lt;D&gt;</a>(<a class="code hl_variable" href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">bw_c_bar</a>, <a class="code hl_variable" href="#a2ad2f263fc468798163873408972df73">fw_c_bar</a>);</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    <span class="comment">// Cache label values to avoid repeated member lookups.</span></div>
<div class="line"><span class="lineno">   51</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> bucketLnode = label-&gt;<a class="code hl_variable" href="structLabel.html#a51392867ea22ca35fa6eed73d0978f57">node_id</a>;</div>
<div class="line"><span class="lineno">   52</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> label_cost = label-&gt;<a class="code hl_variable" href="structLabel.html#a1da1930412e730692277e75a94da77c2">cost</a>;</div>
<div class="line"><span class="lineno">   53</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;label_bitmap = label-&gt;<a class="code hl_variable" href="structLabel.html#ac020ce84080430f28f2b2651be338693">visited_bitmap</a>;</div>
<div class="line"><span class="lineno">   54</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> n_bitmap = label_bitmap.size();</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    <span class="comment">// Precompute a flag for direction (avoid repeated ternary operators).</span></div>
<div class="line"><span class="lineno">   57</span>    <span class="keyword">constexpr</span> <span class="keywordtype">bool</span> forward = (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>);</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="comment">// Lambda to check if the visited bitmaps of L and L_bw overlap.</span></div>
<div class="line"><span class="lineno">   60</span>    <span class="keyword">auto</span> overlapsVisited = [n_bitmap, <span class="keyword">this</span>](<span class="keyword">const</span> Label *L,</div>
<div class="line"><span class="lineno">   61</span>                                            <span class="keyword">const</span> Label *L_bw) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><span class="lineno">   62</span>        <span class="comment">// Make a local copy of the visited bitmap.</span></div>
<div class="line"><span class="lineno">   63</span>        <span class="keyword">auto</span> visited_bitmap = L-&gt;visited_bitmap;</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>        <span class="comment">// check if visited_bitmap overlaps at all</span></div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n_bitmap; ++i) {</div>
<div class="line"><span class="lineno">   67</span>            <span class="keywordflow">if</span> ((visited_bitmap[i] &amp; L_bw-&gt;visited_bitmap[i]) != 0) {</div>
<div class="line"><span class="lineno">   68</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   69</span>            }</div>
<div class="line"><span class="lineno">   70</span>        }</div>
<div class="line"><span class="lineno">   71</span>        <span class="comment">// Iterate in reverse over nodes_covered without allocating a new</span></div>
<div class="line"><span class="lineno">   72</span>        <span class="comment">// vector.</span></div>
<div class="line"><span class="lineno">   73</span>        <span class="comment">// for (auto it = L_bw-&gt;nodes_covered.rbegin();</span></div>
<div class="line"><span class="lineno">   74</span>        <span class="comment">//      it != L_bw-&gt;nodes_covered.rend(); ++it) {</span></div>
<div class="line"><span class="lineno">   75</span>        <span class="comment">//     uint16_t node_id = *it;</span></div>
<div class="line"><span class="lineno">   76</span>        <span class="comment">//     if (node_id == L-&gt;node_id ||</span></div>
<div class="line"><span class="lineno">   77</span>        <span class="comment">//         is_node_visited(visited_bitmap, node_id))</span></div>
<div class="line"><span class="lineno">   78</span>        <span class="comment">//         return true;</span></div>
<div class="line"><span class="lineno">   79</span>        <span class="comment">//     // Update the bitmap for each 64-bit word.</span></div>
<div class="line"><span class="lineno">   80</span>        <span class="comment">//     for (size_t i = 0; i &lt; visited_bitmap.size(); ++i) {</span></div>
<div class="line"><span class="lineno">   81</span>        <span class="comment">//         uint64_t &amp;current_visited = visited_bitmap[i];</span></div>
<div class="line"><span class="lineno">   82</span>        <span class="comment">//         if (current_visited != 0)</span></div>
<div class="line"><span class="lineno">   83</span>        <span class="comment">//             current_visited &amp;= neighborhoods_bitmap[node_id][i];</span></div>
<div class="line"><span class="lineno">   84</span>        <span class="comment">//     }</span></div>
<div class="line"><span class="lineno">   85</span>        <span class="comment">//     set_node_visited(visited_bitmap, node_id);</span></div>
<div class="line"><span class="lineno">   86</span>        <span class="comment">// }</span></div>
<div class="line"><span class="lineno">   87</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   88</span>    };</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>    <span class="comment">// Inline helper function for bitmap conflict check.</span></div>
<div class="line"><span class="lineno">   91</span>    <span class="keyword">auto</span> bitmapsConflict = [n_bitmap](<span class="keyword">const</span> Label *L1,</div>
<div class="line"><span class="lineno">   92</span>                                      <span class="keyword">const</span> Label *L2) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line"><span class="lineno">   93</span>        <span class="comment">// Assume both L1 and L2 have the same sized visited_bitmap.</span></div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n_bitmap; ++i) {</div>
<div class="line"><span class="lineno">   95</span>            <span class="keywordflow">if</span> ((L1-&gt;<a class="code hl_variable" href="structLabel.html#ac020ce84080430f28f2b2651be338693">visited_bitmap</a>[i] &amp; L2-&gt;visited_bitmap[i]) != 0) {</div>
<div class="line"><span class="lineno">   96</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   97</span>            }</div>
<div class="line"><span class="lineno">   98</span>        }</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  100</span>    };</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <span class="comment">// Use a local DFS stack to traverse buckets.</span></div>
<div class="line"><span class="lineno">  103</span>    std::vector&lt;int&gt; bucket_stack;</div>
<div class="line"><span class="lineno">  104</span>    bucket_stack.reserve(10);</div>
<div class="line"><span class="lineno">  105</span>    bucket_stack.push_back(current_bucket);</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    <span class="comment">// Process buckets until the stack is empty.</span></div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">while</span> (!bucket_stack.empty()) {</div>
<div class="line"><span class="lineno">  109</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> curr_bucket = bucket_stack.back();</div>
<div class="line"><span class="lineno">  110</span>        bucket_stack.pop_back();</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>        <span class="comment">// Mark the current bucket as visited.</span></div>
<div class="line"><span class="lineno">  113</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> segment = curr_bucket &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  114</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> bit_pos = curr_bucket &amp; 63;</div>
<div class="line"><span class="lineno">  115</span>        Bvisited[segment] |= (1ULL &lt;&lt; bit_pos);</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>        <span class="comment">// Get the opposite bucket’s label and node id.</span></div>
<div class="line"><span class="lineno">  118</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> bucketLprimenode = buckets_opposite[curr_bucket].node_id;</div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordtype">double</span> cost = <a class="code hl_function" href="#ad15267e0cffaa8dc5222028409c9e082">getcij</a>(bucketLnode, bucketLprimenode);</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>        <span class="comment">// Optionally adjust cost with arc duals if RCC mode is enabled.</span></div>
<div class="line"><span class="lineno">  122</span>        <a class="code hl_define" href="Definitions_8h.html#a193d914edeb3709d3a2058d974612af5">RCC_MODE_BLOCK</a>(<span class="keyword">auto</span> arc_dual =</div>
<div class="line"><span class="lineno">  123</span>                           arc_duals.getDual(bucketLnode, bucketLprimenode);</div>
<div class="line"><span class="lineno">  124</span>                       cost -= arc_dual;)</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>        <span class="comment">// Skip if the accumulated cost plus lower bound exceeds theta.</span></div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(label_cost + cost + c_bar_opposite[curr_bucket],</div>
<div class="line"><span class="lineno">  128</span>                             theta))</div>
<div class="line"><span class="lineno">  129</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        <span class="comment">// Process this bucket only if it hasn&#39;t been processed already.</span></div>
<div class="line"><span class="lineno">  132</span>        <span class="keywordflow">if</span> (Bbidi.insert(curr_bucket).second) {</div>
<div class="line"><span class="lineno">  133</span>            <span class="keyword">const</span> <span class="keyword">auto</span> &amp;opposite_labels =</div>
<div class="line"><span class="lineno">  134</span>                buckets_opposite[curr_bucket].get_labels();</div>
<div class="line"><span class="lineno">  135</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;L_opposite : opposite_labels) {</div>
<div class="line"><span class="lineno">  136</span>                <span class="comment">// Skip labels from the same node or with conflicting visited</span></div>
<div class="line"><span class="lineno">  137</span>                <span class="comment">// bitmaps.</span></div>
<div class="line"><span class="lineno">  138</span>                <span class="comment">// if (bucketLnode == L_opposite-&gt;node_id ||</span></div>
<div class="line"><span class="lineno">  139</span>                <span class="comment">// bitmapsConflict(label, L_opposite))</span></div>
<div class="line"><span class="lineno">  140</span>                <span class="comment">// continue;</span></div>
<div class="line"><span class="lineno">  141</span>                <span class="keywordflow">if</span> (bucketLnode == L_opposite-&gt;node_id) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>                <span class="keywordflow">if</span> <span class="keyword">constexpr</span> (D == <a class="code hl_enumvalue" href="Definitions_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa67d2f6740a8eaebf4d5c6f79be8da481">Direction::Forward</a>) {</div>
<div class="line"><span class="lineno">  144</span>                    <span class="comment">// Skip if the visited bitmaps overlap.</span></div>
<div class="line"><span class="lineno">  145</span>                    <span class="keywordflow">if</span> (overlapsVisited(label, L_opposite)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  146</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  147</span>                    <span class="comment">// Skip if the visited bitmaps overlap.</span></div>
<div class="line"><span class="lineno">  148</span>                    <span class="keywordflow">if</span> (overlapsVisited(L_opposite, label)) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  149</span>                }</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>                <span class="comment">// Determine the reference node for resource checks.</span></div>
<div class="line"><span class="lineno">  152</span>                <span class="keyword">const</span> VRPNode &amp;ref_node =</div>
<div class="line"><span class="lineno">  153</span>                    forward ? nodes[bucketLnode] : nodes[L_opposite-&gt;node_id];</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>                <span class="keywordtype">bool</span> violated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  156</span>                <span class="comment">// Use a local copy of resources if needed.</span></div>
<div class="line"><span class="lineno">  157</span>                <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_resources = <a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources.size();</div>
<div class="line"><span class="lineno">  158</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> r = 0; r &lt; num_resources; ++r) {</div>
<div class="line"><span class="lineno">  159</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.resources[r] == <span class="stringliteral">&quot;time&quot;</span>) {</div>
<div class="line"><span class="lineno">  160</span>                        <span class="comment">// For time, add cost and the node&#39;s duration.</span></div>
<div class="line"><span class="lineno">  161</span>                        <span class="keyword">const</span> <span class="keywordtype">double</span> time_constraint =</div>
<div class="line"><span class="lineno">  162</span>                            forward ? label-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>[TIME_INDEX] + cost +</div>
<div class="line"><span class="lineno">  163</span>                                          ref_node.<a class="code hl_variable" href="structVRPNode.html#a95ef921434910a24ff716e32251a2613">duration</a></div>
<div class="line"><span class="lineno">  164</span>                                    : L_opposite-&gt;resources[TIME_INDEX] + cost +</div>
<div class="line"><span class="lineno">  165</span>                                          ref_node.<a class="code hl_variable" href="structVRPNode.html#a95ef921434910a24ff716e32251a2613">duration</a>;</div>
<div class="line"><span class="lineno">  166</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(</div>
<div class="line"><span class="lineno">  167</span>                                time_constraint,</div>
<div class="line"><span class="lineno">  168</span>                                forward ? L_opposite-&gt;resources[TIME_INDEX]</div>
<div class="line"><span class="lineno">  169</span>                                        : label-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>[TIME_INDEX])) {</div>
<div class="line"><span class="lineno">  170</span>                            violated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  171</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  172</span>                        }</div>
<div class="line"><span class="lineno">  173</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  174</span>                        <span class="keyword">const</span> <span class="keywordtype">double</span> resource_constraint =</div>
<div class="line"><span class="lineno">  175</span>                            forward</div>
<div class="line"><span class="lineno">  176</span>                                ? label-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>[r] + ref_node.<a class="code hl_variable" href="structVRPNode.html#a9c7840a24952797c86482424e207666c">consumption</a>[r]</div>
<div class="line"><span class="lineno">  177</span>                                : L_opposite-&gt;resources[r] +</div>
<div class="line"><span class="lineno">  178</span>                                      ref_node.<a class="code hl_variable" href="structVRPNode.html#a9c7840a24952797c86482424e207666c">consumption</a>[r];</div>
<div class="line"><span class="lineno">  179</span>                        <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378">numericutils::gt</a>(resource_constraint,</div>
<div class="line"><span class="lineno">  180</span>                                             forward ? L_opposite-&gt;resources[r]</div>
<div class="line"><span class="lineno">  181</span>                                                     : label-&gt;<a class="code hl_variable" href="structLabel.html#a5f792e9fa27a10dd13bd4622b1a3044b">resources</a>[r])) {</div>
<div class="line"><span class="lineno">  182</span>                            violated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  183</span>                            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  184</span>                        }</div>
<div class="line"><span class="lineno">  185</span>                    }</div>
<div class="line"><span class="lineno">  186</span>                }</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>                <span class="keywordflow">if</span> (violated) <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>                <span class="comment">// If the merged cost is below theta, record this bucket.</span></div>
<div class="line"><span class="lineno">  191</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e">numericutils::lt</a>(label_cost + cost + L_opposite-&gt;cost,</div>
<div class="line"><span class="lineno">  192</span>                                     theta)) {</div>
<div class="line"><span class="lineno">  193</span>                    Bbidi.emplace(curr_bucket);</div>
<div class="line"><span class="lineno">  194</span>                }</div>
<div class="line"><span class="lineno">  195</span>            }</div>
<div class="line"><span class="lineno">  196</span>        }</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>        <span class="comment">// Add unvisited neighbor buckets.</span></div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> b_prime : Phi_opposite[curr_bucket]) {</div>
<div class="line"><span class="lineno">  200</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> seg_prime = b_prime &gt;&gt; 6;</div>
<div class="line"><span class="lineno">  201</span>            <span class="keyword">const</span> <span class="keywordtype">size_t</span> bit_prime = b_prime &amp; 63;</div>
<div class="line"><span class="lineno">  202</span>            <span class="keywordflow">if</span> ((Bvisited[seg_prime] &amp; (1ULL &lt;&lt; bit_prime)) == 0)</div>
<div class="line"><span class="lineno">  203</span>                bucket_stack.push_back(b_prime);</div>
<div class="line"><span class="lineno">  204</span>        }</div>
<div class="line"><span class="lineno">  205</span>    }</div>
<div class="line"><span class="lineno">  206</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a394e55293111f386caf44ed9e67c5653_cgraph.png" border="0" usemap="#aclassBucketGraph_a394e55293111f386caf44ed9e67c5653_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a394e55293111f386caf44ed9e67c5653_cgraph" id="aclassBucketGraph_a394e55293111f386caf44ed9e67c5653_cgraph">
<area shape="rect" title=" " alt="" coords="5,96,219,121"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="267,5,408,46"/>
<area shape="poly" title=" " alt="" coords="149,92,264,49,266,54,151,97"/>
<area shape="rect" href="classBucketGraph.html#ad15267e0cffaa8dc5222028409c9e082" title=" " alt="" coords="270,70,404,96"/>
<area shape="poly" title=" " alt="" coords="218,94,254,90,255,95,219,99"/>
<area shape="rect" href="namespacenumericutils.html#a30fadd8aa82c3a907ce52a6c1735a378" title=" " alt="" coords="283,120,392,145"/>
<area shape="poly" title=" " alt="" coords="219,117,268,122,268,128,219,122"/>
<area shape="rect" href="namespacenumericutils.html#a2124ad1e887fe39c413948ee927c879e" title=" " alt="" coords="285,169,390,194"/>
<area shape="poly" title=" " alt="" coords="155,119,282,161,280,166,153,124"/>
</map>
</div>

</div>
</div>
<a id="a4af3d0a5cb4eefd400b213d93e86fe82" name="a4af3d0a5cb4eefd400b213d93e86fe82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4af3d0a5cb4eefd400b213d93e86fe82">&#9670;&#160;</a></span>updateSplit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void BucketGraph::updateSplit </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00891">891</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  891</span>                       {</div>
<div class="line"><span class="lineno">  892</span>        <span class="comment">// Base thresholds and parameters for adjustments.</span></div>
<div class="line"><span class="lineno">  893</span>        <span class="keyword">constexpr</span> <span class="keywordtype">double</span> BASE_IMBALANCE_THRESHOLD =</div>
<div class="line"><span class="lineno">  894</span>            0.15;  <span class="comment">// Slightly lower base threshold.</span></div>
<div class="line"><span class="lineno">  895</span>        <span class="keyword">constexpr</span> <span class="keywordtype">double</span> MIN_ADJUSTMENT_FACTOR = 0.02;</div>
<div class="line"><span class="lineno">  896</span>        <span class="keyword">constexpr</span> <span class="keywordtype">double</span> MAX_ADJUSTMENT_FACTOR = 0.10;</div>
<div class="line"><span class="lineno">  897</span>        <span class="keyword">constexpr</span> <span class="keywordtype">double</span> LEARNING_RATE_DECAY =</div>
<div class="line"><span class="lineno">  898</span>            0.99;                          <span class="comment">// Decay factor for learning rate.</span></div>
<div class="line"><span class="lineno">  899</span>        <span class="keyword">constexpr</span> <span class="keywordtype">double</span> EMA_ALPHA = 0.1;  <span class="comment">// Smoothing factor for EMA.</span></div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>        <span class="comment">// Static variables to persist state across calls.</span></div>
<div class="line"><span class="lineno">  902</span>        <span class="keyword">static</span> <span class="keywordtype">double</span> learning_rate = MAX_ADJUSTMENT_FACTOR;</div>
<div class="line"><span class="lineno">  903</span>        <span class="keyword">static</span> <span class="keywordtype">double</span> ema_imbalance_ratio = 0.0;</div>
<div class="line"><span class="lineno">  904</span> </div>
<div class="line"><span class="lineno">  905</span>        <span class="comment">// Convert label counts to double for ratio computations.</span></div>
<div class="line"><span class="lineno">  906</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> fw_labels = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="#a627a0f568abe2300fc890ade399580ab">n_fw_labels</a>);</div>
<div class="line"><span class="lineno">  907</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> bw_labels = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="#a3ce737d29889971dd9163faa6052524d">n_bw_labels</a>);</div>
<div class="line"><span class="lineno">  908</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> total_labels = fw_labels + bw_labels;</div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span>        <span class="comment">// Skip adjustment if too few labels exist.</span></div>
<div class="line"><span class="lineno">  911</span>        <span class="keywordflow">if</span> (total_labels &lt; 10) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>        <span class="comment">// Compute imbalance ratios for forward and backward labels.</span></div>
<div class="line"><span class="lineno">  914</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> fw_ratio = fw_labels / total_labels;</div>
<div class="line"><span class="lineno">  915</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> bw_ratio = bw_labels / total_labels;</div>
<div class="line"><span class="lineno">  916</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> imbalance_ratio = std::abs(fw_ratio - bw_ratio);</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>        <span class="comment">// Update exponential moving average (EMA) of the imbalance ratio.</span></div>
<div class="line"><span class="lineno">  919</span>        ema_imbalance_ratio = EMA_ALPHA * imbalance_ratio +</div>
<div class="line"><span class="lineno">  920</span>                              (1.0 - EMA_ALPHA) * ema_imbalance_ratio;</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>        <span class="comment">// Dynamic threshold decreases as total_labels increase.</span></div>
<div class="line"><span class="lineno">  923</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> dynamic_threshold =</div>
<div class="line"><span class="lineno">  924</span>            BASE_IMBALANCE_THRESHOLD * std::exp(-total_labels / 1000.0);</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>        <span class="comment">// Only adjust split if the imbalance exceeds the dynamic threshold.</span></div>
<div class="line"><span class="lineno">  927</span>        <span class="keywordflow">if</span> (ema_imbalance_ratio &gt; dynamic_threshold) {</div>
<div class="line"><span class="lineno">  928</span>            <span class="comment">// Severity scales between 0 and 1.</span></div>
<div class="line"><span class="lineno">  929</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> severity = (ema_imbalance_ratio - dynamic_threshold) /</div>
<div class="line"><span class="lineno">  930</span>                                    (1.0 - dynamic_threshold);</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>            <span class="comment">// Adaptive adjustment factor increases with severity.</span></div>
<div class="line"><span class="lineno">  933</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> adjustment_factor =</div>
<div class="line"><span class="lineno">  934</span>                MIN_ADJUSTMENT_FACTOR +</div>
<div class="line"><span class="lineno">  935</span>                (MAX_ADJUSTMENT_FACTOR - MIN_ADJUSTMENT_FACTOR) * severity;</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>            <span class="comment">// Decay the learning rate.</span></div>
<div class="line"><span class="lineno">  938</span>            learning_rate *= LEARNING_RATE_DECAY;</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>            <span class="comment">// Compute resource range based on the main resource.</span></div>
<div class="line"><span class="lineno">  941</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> resource_range = <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0]] -</div>
<div class="line"><span class="lineno">  942</span>                                          <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0]];</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>            <span class="comment">// Base adjustment scales with the resource range and learning rate.</span></div>
<div class="line"><span class="lineno">  945</span>            <span class="keyword">const</span> <span class="keywordtype">double</span> base_adjustment =</div>
<div class="line"><span class="lineno">  946</span>                adjustment_factor * resource_range * learning_rate;</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>            <span class="comment">// Adjust each split position in q_star.</span></div>
<div class="line"><span class="lineno">  949</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  950</span>                <span class="comment">// Compute relative position (0: min, 1: max) within the</span></div>
<div class="line"><span class="lineno">  951</span>                <span class="comment">// resource range.</span></div>
<div class="line"><span class="lineno">  952</span>                <span class="keyword">const</span> <span class="keywordtype">double</span> relative_pos =</div>
<div class="line"><span class="lineno">  953</span>                    (<a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>[i] - <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0]]) /</div>
<div class="line"><span class="lineno">  954</span>                    resource_range;</div>
<div class="line"><span class="lineno">  955</span> </div>
<div class="line"><span class="lineno">  956</span>                <span class="comment">// Position factor gives smaller adjustments near boundaries.</span></div>
<div class="line"><span class="lineno">  957</span>                <span class="keyword">const</span> <span class="keywordtype">double</span> position_factor =</div>
<div class="line"><span class="lineno">  958</span>                    4.0 * relative_pos * (1.0 - relative_pos);</div>
<div class="line"><span class="lineno">  959</span> </div>
<div class="line"><span class="lineno">  960</span>                <span class="comment">// Determine direction: shift toward balancing label counts.</span></div>
<div class="line"><span class="lineno">  961</span>                <span class="keyword">const</span> <span class="keywordtype">double</span> direction = (bw_labels &gt; fw_labels) ? 1.0 : -1.0;</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span>                <span class="comment">// Final adjustment for this split.</span></div>
<div class="line"><span class="lineno">  964</span>                <span class="keyword">const</span> <span class="keywordtype">double</span> final_adjustment =</div>
<div class="line"><span class="lineno">  965</span>                    base_adjustment * position_factor * direction;</div>
<div class="line"><span class="lineno">  966</span> </div>
<div class="line"><span class="lineno">  967</span>                <span class="comment">// Apply the adjustment with boundary protection.</span></div>
<div class="line"><span class="lineno">  968</span>                <a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>[i] =</div>
<div class="line"><span class="lineno">  969</span>                    std::clamp(<a class="code hl_variable" href="#a78ac6a82cd695de4548fa6af05ee4d0c">q_star</a>[i] + final_adjustment,</div>
<div class="line"><span class="lineno">  970</span>                               <a class="code hl_variable" href="#a48546d29c98eb6ade3bcdb9a1a26e690">R_min</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0]] +</div>
<div class="line"><span class="lineno">  971</span>                                   resource_range * 0.1,  <span class="comment">// Lower bound.</span></div>
<div class="line"><span class="lineno">  972</span>                               <a class="code hl_variable" href="#ac13f00269897a7cf12fbd3d163b36cff">R_max</a>[<a class="code hl_variable" href="#a596938fef84ae5ab9d07c64bd98515f1">options</a>.main_resources[0]] -</div>
<div class="line"><span class="lineno">  973</span>                                   resource_range * 0.1  <span class="comment">// Upper bound.</span></div>
<div class="line"><span class="lineno">  974</span>                    );</div>
<div class="line"><span class="lineno">  975</span>            }</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>            <span class="comment">// Log adjustments if the base adjustment is significant.</span></div>
<div class="line"><span class="lineno">  978</span>            <span class="keywordflow">if</span> (std::abs(base_adjustment) &gt; resource_range * 0.05) {</div>
<div class="line"><span class="lineno">  979</span>                <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(</div>
<div class="line"><span class="lineno">  980</span>                    <span class="stringliteral">&quot;Split adjustment: imbalance={:.3f}, adjustment={:.3f}, &quot;</span></div>
<div class="line"><span class="lineno">  981</span>                    <span class="stringliteral">&quot;learning_rate={:.3f}\n&quot;</span>,</div>
<div class="line"><span class="lineno">  982</span>                    ema_imbalance_ratio, base_adjustment, learning_rate);</div>
<div class="line"><span class="lineno">  983</span>            }</div>
<div class="line"><span class="lineno">  984</span>        }</div>
<div class="line"><span class="lineno">  985</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_a4af3d0a5cb4eefd400b213d93e86fe82_cgraph.png" border="0" usemap="#aclassBucketGraph_a4af3d0a5cb4eefd400b213d93e86fe82_cgraph" alt=""/></div>
<map name="aclassBucketGraph_a4af3d0a5cb4eefd400b213d93e86fe82_cgraph" id="aclassBucketGraph_a4af3d0a5cb4eefd400b213d93e86fe82_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,174,31"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="222,5,296,31"/>
<area shape="poly" title=" " alt="" coords="174,16,206,16,206,21,174,21"/>
</map>
</div>

</div>
</div>
<a id="ae8cd0fdce60f818ea1f0455d0048a981" name="ae8cd0fdce60f818ea1f0455d0048a981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8cd0fdce60f818ea1f0455d0048a981">&#9670;&#160;</a></span>updateStepSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::updateStepSize </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00989">989</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  989</span>                          {</div>
<div class="line"><span class="lineno">  990</span>        <span class="keywordtype">bool</span> updated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  991</span>        <span class="keywordflow">if</span> (bucket_interval &gt;= 100) {</div>
<div class="line"><span class="lineno">  992</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  993</span>        }</div>
<div class="line"><span class="lineno">  994</span>        <span class="comment">// compute the mean of dominance_checks_per_bucket</span></div>
<div class="line"><span class="lineno">  995</span>        <span class="keywordtype">double</span> mean_dominance_checks = 0.0;</div>
<div class="line"><span class="lineno">  996</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="#a0337f4eec91163935cea2b512e508586">dominance_checks_per_bucket</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  997</span>            mean_dominance_checks += <a class="code hl_variable" href="#a0337f4eec91163935cea2b512e508586">dominance_checks_per_bucket</a>[i];</div>
<div class="line"><span class="lineno">  998</span>        }</div>
<div class="line"><span class="lineno">  999</span>        <span class="keyword">auto</span> step_calc =</div>
<div class="line"><span class="lineno"> 1000</span>            mean_dominance_checks / <a class="code hl_variable" href="#a7b856c299c32015534f112d5c4d8ffbc">non_dominated_labels_per_bucket</a>;</div>
<div class="line"><span class="lineno"> 1001</span>        <span class="keywordflow">if</span> (step_calc &gt; 100) {</div>
<div class="line"><span class="lineno"> 1002</span>            <span class="comment">// redefine_counter = 0;</span></div>
<div class="line"><span class="lineno"> 1003</span>            <a class="code hl_function" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496">print_info</a>(<span class="stringliteral">&quot;Increasing bucket interval to {}\n&quot;</span>,</div>
<div class="line"><span class="lineno"> 1004</span>                       bucket_interval + 25);</div>
<div class="line"><span class="lineno"> 1005</span>            bucket_interval = bucket_interval + 25;</div>
<div class="line"><span class="lineno"> 1006</span>            <a class="code hl_function" href="#a70676504af16413f5587e87c4f1f3427">redefine</a>(bucket_interval);</div>
<div class="line"><span class="lineno"> 1007</span>            updated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1008</span>            <a class="code hl_variable" href="#a0febdc3971ad6124d3c7cf689048bc4e">fixed</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1009</span>        }</div>
<div class="line"><span class="lineno"> 1010</span>        <span class="keywordflow">return</span> updated;</div>
<div class="line"><span class="lineno"> 1011</span>    }</div>
<div class="ttc" id="aclassBucketGraph_html_a70676504af16413f5587e87c4f1f3427"><div class="ttname"><a href="#a70676504af16413f5587e87c4f1f3427">BucketGraph::redefine</a></div><div class="ttdeci">void redefine(int bucketInterval)</div><div class="ttdoc">Redefines the bucket intervals and reinitializes various data structures.</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00625">BucketGraph.h:625</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classBucketGraph_ae8cd0fdce60f818ea1f0455d0048a981_cgraph.png" border="0" usemap="#aclassBucketGraph_ae8cd0fdce60f818ea1f0455d0048a981_cgraph" alt=""/></div>
<map name="aclassBucketGraph_ae8cd0fdce60f818ea1f0455d0048a981_cgraph" id="aclassBucketGraph_ae8cd0fdce60f818ea1f0455d0048a981_cgraph">
<area shape="rect" title=" " alt="" coords="5,100,200,125"/>
<area shape="rect" href="Definitions_8h.html#a086546d06aa565cdd48f436973ebc496" title="Prints an informational message with a specific format." alt="" coords="285,74,359,100"/>
<area shape="poly" title=" " alt="" coords="200,98,269,90,269,96,200,104"/>
<area shape="rect" href="classBucketGraph.html#a70676504af16413f5587e87c4f1f3427" title="Redefines the bucket intervals and reinitializes various data structures." alt="" coords="248,124,396,149"/>
<area shape="poly" title=" " alt="" coords="200,120,232,124,232,129,200,126"/>
<area shape="rect" href="classBucketGraph.html#a5d04c8a2da52796e87c1b443aa221a76" title="Defines the buckets for the BucketGraph." alt="" coords="468,5,605,46"/>
<area shape="poly" title=" " alt="" coords="374,121,394,110,409,97,418,84,427,70,442,56,453,49,455,54,446,60,431,73,422,87,413,101,398,115,377,125"/>
<area shape="rect" href="classBucketGraph.html#a78afa4d3e7c6078f874480c68f43caff" title="Generates arcs in both forward and backward directions in parallel." alt="" coords="444,94,629,120"/>
<area shape="poly" title=" " alt="" coords="396,124,428,119,429,124,397,129"/>
<area shape="rect" href="classBucketGraph.html#a2379392ccc37be9a4a27800b116465d2" title="Resets all fixed arcs in the graph." alt="" coords="470,144,603,185"/>
<area shape="poly" title=" " alt="" coords="397,143,455,151,455,156,396,149"/>
<area shape="rect" href="classBucketGraph.html#a2b278d6d639910a628446a2be038d41e" title=" " alt="" coords="470,209,603,250"/>
<area shape="poly" title=" " alt="" coords="349,147,445,194,462,201,460,206,443,199,347,152"/>
<area shape="rect" href="classBucketGraph.html#af129eff306551dc7cc7fe00b919bbbd0" title="Assigns the buckets based on the specified direction." alt="" coords="906,45,1047,86"/>
<area shape="poly" title=" " alt="" coords="605,12,724,3,791,5,858,14,892,23,923,36,921,41,890,28,857,19,791,10,724,9,606,18"/>
<area shape="rect" href="Definitions_8h.html#a59e29a115ea52c2f99d3ff52f83cb3cf" title=" " alt="" coords="677,29,858,54"/>
<area shape="poly" title=" " alt="" coords="606,28,662,32,662,37,606,33"/>
<area shape="poly" title=" " alt="" coords="501,95,494,86,498,76,513,70,537,68,563,70,576,77,574,82,561,75,537,73,514,75,502,80,499,85,505,92"/>
<area shape="rect" href="classBucketGraph.html#aa9eea9800ea6652e736b960a729f2c14" title=" " alt="" coords="681,78,854,104"/>
<area shape="poly" title=" " alt="" coords="629,98,666,95,666,101,630,103"/>
<area shape="rect" href="classBucketGraph.html#a2925857b35aa31c3c5af4a2795840b98" title="Handles the computation of Strongly Connected Components (SCCs) for the BucketGraph." alt="" coords="678,128,857,153"/>
<area shape="poly" title=" " alt="" coords="630,118,663,123,662,128,629,123"/>
<area shape="poly" title=" " alt="" coords="823,124,857,114,916,90,918,95,859,119,824,129"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a99844125e9fa656e291a8f71ecc659f6" name="a99844125e9fa656e291a8f71ecc659f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99844125e9fa656e291a8f71ecc659f6">&#9670;&#160;</a></span>A_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::A_MAX = N_SIZE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00252">252</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aa9c43a78f94648c954974cf849ab29e0" name="aa9c43a78f94648c954974cf849ab29e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9c43a78f94648c954974cf849ab29e0">&#9670;&#160;</a></span>bi_pool</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">exec::static_thread_pool BucketGraph::bi_pool = exec::static_thread_pool(2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00284">284</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aaa5092fde50d859a999132f8ec1c2cb8" name="aaa5092fde50d859a999132f8ec1c2cb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa5092fde50d859a999132f8ec1c2cb8">&#9670;&#160;</a></span>bi_sched</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">exec::static_thread_pool::scheduler BucketGraph::bi_sched = bi_pool.get_scheduler()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00285">285</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="ac8ef42169458fa3ce65c86652e4f1dd8" name="ac8ef42169458fa3ce65c86652e4f1dd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ef42169458fa3ce65c86652e4f1dd8">&#9670;&#160;</a></span>bit_mask_lookup</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;uint64_t, 64&gt; BucketGraph::bit_mask_lookup</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= []() {</div>
<div class="line">                std::array&lt;uint64_t, 64&gt; masks{};</div>
<div class="line">                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 64; ++i) {</div>
<div class="line">                    masks[i] = 1ULL &lt;&lt; i;</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">return</span> masks;</div>
<div class="line">            }()</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00091">91</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span>                                   {</div>
<div class="line"><span class="lineno">   92</span>                std::array&lt;uint64_t, 64&gt; masks{};</div>
<div class="line"><span class="lineno">   93</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 64; ++i) {</div>
<div class="line"><span class="lineno">   94</span>                    masks[i] = 1ULL &lt;&lt; i;</div>
<div class="line"><span class="lineno">   95</span>                }</div>
<div class="line"><span class="lineno">   96</span>                <span class="keywordflow">return</span> masks;</div>
<div class="line"><span class="lineno">   97</span>            }();</div>
</div><!-- fragment -->
</div>
</div>
<a id="a38bf6e63a45004dba3e06846ea151983" name="a38bf6e63a45004dba3e06846ea151983"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38bf6e63a45004dba3e06846ea151983">&#9670;&#160;</a></span>branching_duals</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#afe491ade830c057e9508df46cc5bf33a">BranchingDualsPtr</a> BucketGraph::branching_duals = std::make_shared&lt;<a class="el" href="classBranchingDuals.html">BranchingDuals</a>&gt;()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00113">113</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="abeb88d24b16f8a7b9a4a6d2ec300f6d2" name="abeb88d24b16f8a7b9a4a6d2ec300f6d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abeb88d24b16f8a7b9a4a6d2ec300f6d2">&#9670;&#160;</a></span>bw_arc_scores</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;ankerl::unordered_dense::map&lt;<a class="el" href="structArc.html">Arc</a>, int, <a class="el" href="structarc__hash.html">arc_hash</a>&gt; &gt; BucketGraph::bw_arc_scores</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00106">106</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a4bbaac17b81ce02f093f4dff61978d3e" name="a4bbaac17b81ce02f093f4dff61978d3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bbaac17b81ce02f093f4dff61978d3e">&#9670;&#160;</a></span>bw_arcs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structBucketArc.html">BucketArc</a>&gt; BucketGraph::bw_arcs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00366">366</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a6cdcc94e239da03ed454e94f819465e3" name="a6cdcc94e239da03ed454e94f819465e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cdcc94e239da03ed454e94f819465e3">&#9670;&#160;</a></span>bw_base_intervals</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; BucketGraph::bw_base_intervals</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00278">278</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aab29c670775c3ff9fa3a9ca48444385e" name="aab29c670775c3ff9fa3a9ca48444385e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab29c670775c3ff9fa3a9ca48444385e">&#9670;&#160;</a></span>bw_bucket_graph</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ankerl::unordered_dense::map&lt;int, std::vector&lt;int&gt; &gt; BucketGraph::bw_bucket_graph</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00375">375</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a750c64166af5c5c0c351793fbad6cfb8" name="a750c64166af5c5c0c351793fbad6cfb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750c64166af5c5c0c351793fbad6cfb8">&#9670;&#160;</a></span>bw_bucket_splits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ankerl::unordered_dense::map&lt;int, std::vector&lt;int&gt; &gt; BucketGraph::bw_bucket_splits</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00504">504</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a8496229500db7bd5714010d3c68f6e5d" name="a8496229500db7bd5714010d3c68f6e5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8496229500db7bd5714010d3c68f6e5d">&#9670;&#160;</a></span>bw_buckets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structBucket.html">Bucket</a>&gt; BucketGraph::bw_buckets</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00359">359</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a24e94d447afd791b52fed701e928d1c2" name="a24e94d447afd791b52fed701e928d1c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24e94d447afd791b52fed701e928d1c2">&#9670;&#160;</a></span>bw_buckets_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::bw_buckets_size = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00299">299</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a7a95ce9361bc4ee30c1e5a5b420f4fe0" name="a7a95ce9361bc4ee30c1e5a5b420f4fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a95ce9361bc4ee30c1e5a5b420f4fe0">&#9670;&#160;</a></span>bw_c_bar</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; BucketGraph::bw_c_bar</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00378">378</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="adf35ff56b8e466beb5b9699379d84e67" name="adf35ff56b8e466beb5b9699379d84e67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf35ff56b8e466beb5b9699379d84e67">&#9670;&#160;</a></span>bw_fixed_buckets_bitmap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;uint64_t&gt; BucketGraph::bw_fixed_buckets_bitmap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00305">305</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a9cac4e84e8eb32f15e9f5516ded673b1" name="a9cac4e84e8eb32f15e9f5516ded673b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cac4e84e8eb32f15e9f5516ded673b1">&#9670;&#160;</a></span>bw_node_interval_trees</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classSplayTree.html">SplayTree</a>&gt; BucketGraph::bw_node_interval_trees</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00449">449</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="acc984d67eb18784f890ad2965cceecf0" name="acc984d67eb18784f890ad2965cceecf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc984d67eb18784f890ad2965cceecf0">&#9670;&#160;</a></span>bw_ordered_sccs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::bw_ordered_sccs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00267">267</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a6a345b497512a5c4643fdff296ee7cc3" name="a6a345b497512a5c4643fdff296ee7cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a345b497512a5c4643fdff296ee7cc3">&#9670;&#160;</a></span>bw_sccs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::bw_sccs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00271">271</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a59c94817c07ee10346ec61799e55372b" name="a59c94817c07ee10346ec61799e55372b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c94817c07ee10346ec61799e55372b">&#9670;&#160;</a></span>bw_sccs_sorted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::bw_sccs_sorted</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00273">273</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a4c4f4665f8ab274f246fe01d24f51def" name="a4c4f4665f8ab274f246fe01d24f51def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c4f4665f8ab274f246fe01d24f51def">&#9670;&#160;</a></span>bw_topological_order</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; BucketGraph::bw_topological_order</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00269">269</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aa291b2863abe14e56b7645adb19c6894" name="aa291b2863abe14e56b7645adb19c6894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa291b2863abe14e56b7645adb19c6894">&#9670;&#160;</a></span>bw_union_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ankerl::unordered_dense::map&lt;std::pair&lt;int, int&gt;, bool&gt; BucketGraph::bw_union_cache</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00100">100</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a0e73efd3e095762e2a7ab26357fe30ea" name="a0e73efd3e095762e2a7ab26357fe30ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e73efd3e095762e2a7ab26357fe30ea">&#9670;&#160;</a></span>bw_union_find</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classUnionFind.html">UnionFind</a> BucketGraph::bw_union_find</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01026">1026</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a16cbe058b108b0501f946b8e96799fa3" name="a16cbe058b108b0501f946b8e96799fa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16cbe058b108b0501f946b8e96799fa3">&#9670;&#160;</a></span>bw_warm_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structLabel.html">Label</a> *&gt; BucketGraph::bw_warm_labels</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00497">497</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a91ceea45f7a15a8541dd999e806ffe6d" name="a91ceea45f7a15a8541dd999e806ffe6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91ceea45f7a15a8541dd999e806ffe6d">&#9670;&#160;</a></span>cost_calculator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCostFunction.html">CostFunction</a> BucketGraph::cost_calculator</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00102">102</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a9142869eb3212337ffb092a14e0e0079" name="a9142869eb3212337ffb092a14e0e0079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9142869eb3212337ffb092a14e0e0079">&#9670;&#160;</a></span>cut_storage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCutStorage.html">CutStorage</a>* BucketGraph::cut_storage = new <a class="el" href="classCutStorage.html">CutStorage</a>()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00354">354</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a2fdba8d38fd26043068b252223e8d73c" name="a2fdba8d38fd26043068b252223e8d73c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fdba8d38fd26043068b252223e8d73c">&#9670;&#160;</a></span>depth</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::depth = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00260">260</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a2f8ba4399d8ff94a6e29b27e84dfa58e" name="a2f8ba4399d8ff94a6e29b27e84dfa58e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f8ba4399d8ff94a6e29b27e84dfa58e">&#9670;&#160;</a></span>distance_matrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;double&gt; &gt; BucketGraph::distance_matrix</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00370">370</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a0337f4eec91163935cea2b512e508586" name="a0337f4eec91163935cea2b512e508586"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0337f4eec91163935cea2b512e508586">&#9670;&#160;</a></span>dominance_checks_per_bucket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; BucketGraph::dominance_checks_per_bucket</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00444">444</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a47e48b3401a5611676526b47489c9afc" name="a47e48b3401a5611676526b47489c9afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47e48b3401a5611676526b47489c9afc">&#9670;&#160;</a></span>elementarity_bitmap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;uint64_t&gt; &gt; BucketGraph::elementarity_bitmap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00400">400</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a16672757fb2f94970bbf068becb72181" name="a16672757fb2f94970bbf068becb72181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16672757fb2f94970bbf068becb72181">&#9670;&#160;</a></span>first_reset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::first_reset = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00442">442</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a0febdc3971ad6124d3c7cf689048bc4e" name="a0febdc3971ad6124d3c7cf689048bc4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0febdc3971ad6124d3c7cf689048bc4e">&#9670;&#160;</a></span>fixed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::fixed = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00282">282</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a619c4493e5de7a18f6f947b550025f78" name="a619c4493e5de7a18f6f947b550025f78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a619c4493e5de7a18f6f947b550025f78">&#9670;&#160;</a></span>fixed_arcs_bitmap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;uint64_t&gt; BucketGraph::fixed_arcs_bitmap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00301">301</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a96867ed156fc94da9d29ec576a42a071" name="a96867ed156fc94da9d29ec576a42a071"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96867ed156fc94da9d29ec576a42a071">&#9670;&#160;</a></span>fw_arc_scores</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;ankerl::unordered_dense::map&lt;<a class="el" href="structArc.html">Arc</a>, int, <a class="el" href="structarc__hash.html">arc_hash</a>&gt; &gt; BucketGraph::fw_arc_scores</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00104">104</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a44e84d49c5e953b5b38461dc74b8b277" name="a44e84d49c5e953b5b38461dc74b8b277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44e84d49c5e953b5b38461dc74b8b277">&#9670;&#160;</a></span>fw_arcs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structBucketArc.html">BucketArc</a>&gt; BucketGraph::fw_arcs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00365">365</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a09a3ca20a9a373fbcc502f4511c18804" name="a09a3ca20a9a373fbcc502f4511c18804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a3ca20a9a373fbcc502f4511c18804">&#9670;&#160;</a></span>fw_base_intervals</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; BucketGraph::fw_base_intervals</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00276">276</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a9da46b294b52721c7272165c2bc468f7" name="a9da46b294b52721c7272165c2bc468f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9da46b294b52721c7272165c2bc468f7">&#9670;&#160;</a></span>fw_bucket_graph</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ankerl::unordered_dense::map&lt;int, std::vector&lt;int&gt; &gt; BucketGraph::fw_bucket_graph</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00374">374</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a0fe7b8d8e40343998f39f03425c76009" name="a0fe7b8d8e40343998f39f03425c76009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe7b8d8e40343998f39f03425c76009">&#9670;&#160;</a></span>fw_bucket_splits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ankerl::unordered_dense::map&lt;int, std::vector&lt;int&gt; &gt; BucketGraph::fw_bucket_splits</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00503">503</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aaa10fde8c08eaf20c617537c2192ecd0" name="aaa10fde8c08eaf20c617537c2192ecd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa10fde8c08eaf20c617537c2192ecd0">&#9670;&#160;</a></span>fw_buckets</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structBucket.html">Bucket</a>&gt; BucketGraph::fw_buckets</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00358">358</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="abe1a9250ac9527f6c4d7fc199c356a83" name="abe1a9250ac9527f6c4d7fc199c356a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe1a9250ac9527f6c4d7fc199c356a83">&#9670;&#160;</a></span>fw_buckets_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::fw_buckets_size = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00298">298</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a2ad2f263fc468798163873408972df73" name="a2ad2f263fc468798163873408972df73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ad2f263fc468798163873408972df73">&#9670;&#160;</a></span>fw_c_bar</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; BucketGraph::fw_c_bar</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00377">377</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a8e279c08b248c529a0efec509e8a5a47" name="a8e279c08b248c529a0efec509e8a5a47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e279c08b248c529a0efec509e8a5a47">&#9670;&#160;</a></span>fw_fixed_buckets_bitmap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;uint64_t&gt; BucketGraph::fw_fixed_buckets_bitmap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00303">303</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a1dda85f087bb1fc1ec387c1010c6b8e0" name="a1dda85f087bb1fc1ec387c1010c6b8e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dda85f087bb1fc1ec387c1010c6b8e0">&#9670;&#160;</a></span>fw_node_interval_trees</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classSplayTree.html">SplayTree</a>&gt; BucketGraph::fw_node_interval_trees</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00448">448</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="accf4e37b839073ff25d96f21d597241c" name="accf4e37b839073ff25d96f21d597241c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf4e37b839073ff25d96f21d597241c">&#9670;&#160;</a></span>fw_ordered_sccs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::fw_ordered_sccs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00266">266</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a3b02edcfecd793303cd6a248e4f88b8f" name="a3b02edcfecd793303cd6a248e4f88b8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b02edcfecd793303cd6a248e4f88b8f">&#9670;&#160;</a></span>fw_sccs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::fw_sccs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00270">270</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="ac287ad78f9bc8de787196b4abbc88a57" name="ac287ad78f9bc8de787196b4abbc88a57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac287ad78f9bc8de787196b4abbc88a57">&#9670;&#160;</a></span>fw_sccs_sorted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::fw_sccs_sorted</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00272">272</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a54765fb92f241628a510eb63571c22a2" name="a54765fb92f241628a510eb63571c22a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54765fb92f241628a510eb63571c22a2">&#9670;&#160;</a></span>fw_topological_order</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; BucketGraph::fw_topological_order</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00268">268</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="af6eb5a88d38f5316f4fc75853dbd2aa7" name="af6eb5a88d38f5316f4fc75853dbd2aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6eb5a88d38f5316f4fc75853dbd2aa7">&#9670;&#160;</a></span>fw_union_cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ankerl::unordered_dense::map&lt;std::pair&lt;int, int&gt;, bool&gt; BucketGraph::fw_union_cache</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00099">99</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a077e9ffa43523f437f55703fcae4a5b5" name="a077e9ffa43523f437f55703fcae4a5b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077e9ffa43523f437f55703fcae4a5b5">&#9670;&#160;</a></span>fw_union_find</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classUnionFind.html">UnionFind</a> BucketGraph::fw_union_find</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01025">1025</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a29453db5192f93745dc7f71e05610e22" name="a29453db5192f93745dc7f71e05610e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29453db5192f93745dc7f71e05610e22">&#9670;&#160;</a></span>fw_warm_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structLabel.html">Label</a> *&gt; BucketGraph::fw_warm_labels</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00496">496</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aab58eac3d548656acb6b33da0d54b799" name="aab58eac3d548656acb6b33da0d54b799"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab58eac3d548656acb6b33da0d54b799">&#9670;&#160;</a></span>gap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double BucketGraph::gap = std::numeric_limits&lt;double&gt;::infinity()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00352">352</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aa8dc0767eff3e486b381aa65e0fd9a14" name="aa8dc0767eff3e486b381aa65e0fd9a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8dc0767eff3e486b381aa65e0fd9a14">&#9670;&#160;</a></span>ils</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classIteratedLocalSearch.html">IteratedLocalSearch</a>* BucketGraph::ils = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00262">262</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="acde574f4709bc762b0548829aa37a766" name="acde574f4709bc762b0548829aa37a766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acde574f4709bc762b0548829aa37a766">&#9670;&#160;</a></span>incumbent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double BucketGraph::incumbent = std::numeric_limits&lt;double&gt;::infinity()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00280">280</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a23934021718bd2ee544b29228fde708c" name="a23934021718bd2ee544b29228fde708c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23934021718bd2ee544b29228fde708c">&#9670;&#160;</a></span>inner_obj</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double BucketGraph::inner_obj = -std::numeric_limits&lt;double&gt;::infinity()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00264">264</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a511741ab0c14b1b03ae517f954a3260b" name="a511741ab0c14b1b03ae517f954a3260b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a511741ab0c14b1b03ae517f954a3260b">&#9670;&#160;</a></span>iter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::iter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00248">248</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a13e35d250720ad2ec3210ea0cbedf7e8" name="a13e35d250720ad2ec3210ea0cbedf7e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13e35d250720ad2ec3210ea0cbedf7e8">&#9670;&#160;</a></span>just_fixed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::just_fixed = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00111">111</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a4607757f8a773ef38967f88448cec5fd" name="a4607757f8a773ef38967f88448cec5fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4607757f8a773ef38967f88448cec5fd">&#9670;&#160;</a></span>label_pool_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a8f3e754f9357ca106ac7f610d12039e3">LabelPoolPtr</a> BucketGraph::label_pool_bw = std::make_shared&lt;<a class="el" href="classLabelPool.html">LabelPool</a>&gt;(100)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00364">364</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a122e64987e05917c0fa982a63228d2e6" name="a122e64987e05917c0fa982a63228d2e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122e64987e05917c0fa982a63228d2e6">&#9670;&#160;</a></span>label_pool_fw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#a8f3e754f9357ca106ac7f610d12039e3">LabelPoolPtr</a> BucketGraph::label_pool_fw = std::make_shared&lt;<a class="el" href="classLabelPool.html">LabelPool</a>&gt;(100)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00363">363</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a94f440cfa11c57bba08c108e7caa048e" name="a94f440cfa11c57bba08c108e7caa048e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f440cfa11c57bba08c108e7caa048e">&#9670;&#160;</a></span>manual_arcs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classArcList.html">ArcList</a> BucketGraph::manual_arcs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00166">166</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a7f782296f0e3aeac272b3260f752d768" name="a7f782296f0e3aeac272b3260f752d768"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f782296f0e3aeac272b3260f752d768">&#9670;&#160;</a></span>max_buckets</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::max_buckets</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel constexpr">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">        10000</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00355">355</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aecdf486636f66e32e261b0ff146da36d" name="aecdf486636f66e32e261b0ff146da36d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecdf486636f66e32e261b0ff146da36d">&#9670;&#160;</a></span>merge_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex BucketGraph::merge_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00087">87</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="abdce9b0c713df647b19f33e572ae6ba8" name="abdce9b0c713df647b19f33e572ae6ba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdce9b0c713df647b19f33e572ae6ba8">&#9670;&#160;</a></span>merge_pool</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">exec::static_thread_pool BucketGraph::merge_pool</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">        exec::static_thread_pool(<a class="code hl_variable" href="#afceedc00c849910d5eaf40a2a317d3c3">MERGE_SCHED_CONCURRENCY</a>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00288">288</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a7c0da5a04679a6417e07ba50469c8c0c" name="a7c0da5a04679a6417e07ba50469c8c0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c0da5a04679a6417e07ba50469c8c0c">&#9670;&#160;</a></span>merge_sched</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">exec::static_thread_pool::scheduler BucketGraph::merge_sched</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">        <a class="code hl_variable" href="#abdce9b0c713df647b19f33e572ae6ba8">merge_pool</a>.get_scheduler()</div>
<div class="ttc" id="aclassBucketGraph_html_abdce9b0c713df647b19f33e572ae6ba8"><div class="ttname"><a href="#abdce9b0c713df647b19f33e572ae6ba8">BucketGraph::merge_pool</a></div><div class="ttdeci">exec::static_thread_pool merge_pool</div><div class="ttdef"><b>Definition</b> <a href="BucketGraph_8h_source.html#l00288">BucketGraph.h:288</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00290">290</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="afceedc00c849910d5eaf40a2a317d3c3" name="afceedc00c849910d5eaf40a2a317d3c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afceedc00c849910d5eaf40a2a317d3c3">&#9670;&#160;</a></span>MERGE_SCHED_CONCURRENCY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int BucketGraph::MERGE_SCHED_CONCURRENCY = std::thread::hardware_concurrency()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00287">287</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aa72258eba03facf9417104e9377c8aa1" name="aa72258eba03facf9417104e9377c8aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa72258eba03facf9417104e9377c8aa1">&#9670;&#160;</a></span>merged_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structLabel.html">Label</a> *&gt; BucketGraph::merged_labels</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00367">367</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a8bcf04cf7b8f393823e99dd7dbd1d5b2" name="a8bcf04cf7b8f393823e99dd7dbd1d5b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bcf04cf7b8f393823e99dd7dbd1d5b2">&#9670;&#160;</a></span>merged_labels_rih</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structLabel.html">Label</a> *&gt; BucketGraph::merged_labels_rih</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00251">251</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a0aff433ba355139b060e4f97ed90510e" name="a0aff433ba355139b060e4f97ed90510e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aff433ba355139b060e4f97ed90510e">&#9670;&#160;</a></span>min_red_cost</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double BucketGraph::min_red_cost = std::numeric_limits&lt;double&gt;::infinity()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00441">441</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a1819bbff013d7997c46507619adb3d37" name="a1819bbff013d7997c46507619adb3d37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1819bbff013d7997c46507619adb3d37">&#9670;&#160;</a></span>mtx</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex BucketGraph::mtx</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00257">257</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a3ce737d29889971dd9163faa6052524d" name="a3ce737d29889971dd9163faa6052524d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ce737d29889971dd9163faa6052524d">&#9670;&#160;</a></span>n_bw_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::n_bw_labels = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00381">381</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a627a0f568abe2300fc890ade399580ab" name="a627a0f568abe2300fc890ade399580ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627a0f568abe2300fc890ade399580ab">&#9670;&#160;</a></span>n_fw_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::n_fw_labels = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00380">380</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aabb8cdfcc1c2c900494c2a18aa5feb75" name="aabb8cdfcc1c2c900494c2a18aa5feb75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabb8cdfcc1c2c900494c2a18aa5feb75">&#9670;&#160;</a></span>n_segments</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::n_segments = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00086">86</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aa3c69f37f61a50f63572d8c52f8e6e49" name="aa3c69f37f61a50f63572d8c52f8e6e49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3c69f37f61a50f63572d8c52f8e6e49">&#9670;&#160;</a></span>neighborhoods</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::neighborhoods</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00368">368</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a1966749de29291018899e0857f9ab164" name="a1966749de29291018899e0857f9ab164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1966749de29291018899e0857f9ab164">&#9670;&#160;</a></span>neighborhoods_bitmap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;uint64_t&gt; &gt; BucketGraph::neighborhoods_bitmap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00397">397</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a89b7ecb3192a354e410f442029a3f2db" name="a89b7ecb3192a354e410f442029a3f2db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89b7ecb3192a354e410f442029a3f2db">&#9670;&#160;</a></span>ng_cycles</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structCycleData.html">CycleData</a>&gt; BucketGraph::ng_cycles</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01586">1586</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a59219f1642f3b5b9c9cd574fb6992d3a" name="a59219f1642f3b5b9c9cd574fb6992d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59219f1642f3b5b9c9cd574fb6992d3a">&#9670;&#160;</a></span>ng_iteration_counter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::ng_iteration_counter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l01587">1587</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a7b856c299c32015534f112d5c4d8ffbc" name="a7b856c299c32015534f112d5c4d8ffbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b856c299c32015534f112d5c4d8ffbc">&#9670;&#160;</a></span>non_dominated_labels_per_bucket</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::non_dominated_labels_per_bucket</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00445">445</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aaeaf126e28cef7e5d242c91e6ffcc379" name="aaeaf126e28cef7e5d242c91e6ffcc379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeaf126e28cef7e5d242c91e6ffcc379">&#9670;&#160;</a></span>num_buckets_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; BucketGraph::num_buckets_bw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00384">384</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a782519bd84892e3cb57bb237395dcfad" name="a782519bd84892e3cb57bb237395dcfad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a782519bd84892e3cb57bb237395dcfad">&#9670;&#160;</a></span>num_buckets_fw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; BucketGraph::num_buckets_fw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00383">383</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="acb40cb64a6aeb38d1ec3044ce28fe240" name="acb40cb64a6aeb38d1ec3044ce28fe240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb40cb64a6aeb38d1ec3044ce28fe240">&#9670;&#160;</a></span>num_buckets_index_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; BucketGraph::num_buckets_index_bw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00386">386</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a1fbd815595b4216d50870f2c9ecb1fc3" name="a1fbd815595b4216d50870f2c9ecb1fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fbd815595b4216d50870f2c9ecb1fc3">&#9670;&#160;</a></span>num_buckets_index_fw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; BucketGraph::num_buckets_index_fw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00385">385</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a596938fef84ae5ab9d07c64bd98515f1" name="a596938fef84ae5ab9d07c64bd98515f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a596938fef84ae5ab9d07c64bd98515f1">&#9670;&#160;</a></span>options</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBucketOptions.html">BucketOptions</a> BucketGraph::options</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00108">108</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a77972ca77209a8fad937cc84bf616eb8" name="a77972ca77209a8fad937cc84bf616eb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77972ca77209a8fad937cc84bf616eb8">&#9670;&#160;</a></span>packing_bitmap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;uint64_t&gt; &gt; BucketGraph::packing_bitmap</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00402">402</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a72a56b4c54f68ce0c2dd988f6f9eba41" name="a72a56b4c54f68ce0c2dd988f6f9eba41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72a56b4c54f68ce0c2dd988f6f9eba41">&#9670;&#160;</a></span>Phi_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::Phi_bw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00372">372</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="ac521196275222e2de1486bff051f1c9d" name="ac521196275222e2de1486bff051f1c9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac521196275222e2de1486bff051f1c9d">&#9670;&#160;</a></span>Phi_fw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::Phi_fw</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00371">371</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a77cc1fc155ee1234301d754b1e32d1f1" name="a77cc1fc155ee1234301d754b1e32d1f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77cc1fc155ee1234301d754b1e32d1f1">&#9670;&#160;</a></span>pstep_duals</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPSTEPDuals.html">PSTEPDuals</a> BucketGraph::pstep_duals</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00119">119</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a78ac6a82cd695de4548fa6af05ee4d0c" name="a78ac6a82cd695de4548fa6af05ee4d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78ac6a82cd695de4548fa6af05ee4d0c">&#9670;&#160;</a></span>q_star</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; BucketGraph::q_star</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00247">247</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="ac13f00269897a7cf12fbd3d163b36cff" name="ac13f00269897a7cf12fbd3d163b36cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac13f00269897a7cf12fbd3d163b36cff">&#9670;&#160;</a></span>R_max</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; BucketGraph::R_max</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00394">394</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a48546d29c98eb6ade3bcdb9a1a26e690" name="a48546d29c98eb6ade3bcdb9a1a26e690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48546d29c98eb6ade3bcdb9a1a26e690">&#9670;&#160;</a></span>R_min</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; BucketGraph::R_min</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00395">395</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a4542d7fc2a7a659eec479e10d172fb73" name="a4542d7fc2a7a659eec479e10d172fb73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4542d7fc2a7a659eec479e10d172fb73">&#9670;&#160;</a></span>redefine_counter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::redefine_counter = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00259">259</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="af227da41aee6febd9cb4d2c3ba1d1cc4" name="af227da41aee6febd9cb4d2c3ba1d1cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af227da41aee6febd9cb4d2c3ba1d1cc4">&#9670;&#160;</a></span>relaxation</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double BucketGraph::relaxation = std::numeric_limits&lt;double&gt;::infinity()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00281">281</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a2e8b5cdc1f1ddb1fe7cd748a0140b746" name="a2e8b5cdc1f1ddb1fe7cd748a0140b746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e8b5cdc1f1ddb1fe7cd748a0140b746">&#9670;&#160;</a></span>s1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::s1 = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00240">240</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a28aa57cbb7d8802e78a4bc71850f4a87" name="a28aa57cbb7d8802e78a4bc71850f4a87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28aa57cbb7d8802e78a4bc71850f4a87">&#9670;&#160;</a></span>s2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::s2 = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00241">241</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a30b166597f82abf21bbe2a51e8f21378" name="a30b166597f82abf21bbe2a51e8f21378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b166597f82abf21bbe2a51e8f21378">&#9670;&#160;</a></span>s3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::s3 = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00242">242</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="ad5d9485bc083081dca81bea86b92d37b" name="ad5d9485bc083081dca81bea86b92d37b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5d9485bc083081dca81bea86b92d37b">&#9670;&#160;</a></span>s4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::s4 = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00243">243</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="ae9d3e4e82d8213ad4ba5308099342fd5" name="ae9d3e4e82d8213ad4ba5308099342fd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9d3e4e82d8213ad4ba5308099342fd5">&#9670;&#160;</a></span>s5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::s5 = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00244">244</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a6cb517bce7adfe964278c41d48b8140a" name="a6cb517bce7adfe964278c41d48b8140a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb517bce7adfe964278c41d48b8140a">&#9670;&#160;</a></span>ss</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::ss = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00245">245</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="ac9f682a4f77f436707be4b3726009ef8" name="ac9f682a4f77f436707be4b3726009ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9f682a4f77f436707be4b3726009ef8">&#9670;&#160;</a></span>stage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::stage = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00246">246</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a5e92704829aedd6e29ea78db17a5f725" name="a5e92704829aedd6e29ea78db17a5f725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e92704829aedd6e29ea78db17a5f725">&#9670;&#160;</a></span>stat_n_dom_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint BucketGraph::stat_n_dom_bw = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00392">392</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a946362de3ef65c33ec847f671caa89bf" name="a946362de3ef65c33ec847f671caa89bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a946362de3ef65c33ec847f671caa89bf">&#9670;&#160;</a></span>stat_n_dom_fw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint BucketGraph::stat_n_dom_fw = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00391">391</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="adccf2c5d28f7f38e189524998ef647eb" name="adccf2c5d28f7f38e189524998ef647eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adccf2c5d28f7f38e189524998ef647eb">&#9670;&#160;</a></span>stat_n_labels_bw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::stat_n_labels_bw = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00390">390</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a14021a42efc2a10246ddb4004f538a0f" name="a14021a42efc2a10246ddb4004f538a0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14021a42efc2a10246ddb4004f538a0f">&#9670;&#160;</a></span>stat_n_labels_fw</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int BucketGraph::stat_n_labels_fw = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00389">389</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a5929b489cdfe15a32c1e72e1e09f461b" name="a5929b489cdfe15a32c1e72e1e09f461b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5929b489cdfe15a32c1e72e1e09f461b">&#9670;&#160;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70b">Status</a> BucketGraph::status = <a class="el" href="Definitions_8h.html#a67a0db04d321a74b7e7fcfd3f1a3f70ba9acf053269da0d635abfb5d3c5359e8c">Status::NotOptimal</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00250">250</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="afa087af81831da7d55a3a5e017b257e3" name="afa087af81831da7d55a3a5e017b257e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa087af81831da7d55a3a5e017b257e3">&#9670;&#160;</a></span>threshold</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double BucketGraph::threshold = -1.5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00084">84</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="a45a2da1c51413ab2df16bf3745fcf03b" name="a45a2da1c51413ab2df16bf3745fcf03b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45a2da1c51413ab2df16bf3745fcf03b">&#9670;&#160;</a></span>topHeurRoutes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; BucketGraph::topHeurRoutes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00987">987</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<a id="aa5f44a67587b3c2ff92903e0a824a233" name="aa5f44a67587b3c2ff92903e0a824a233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5f44a67587b3c2ff92903e0a824a233">&#9670;&#160;</a></span>transition</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool BucketGraph::transition = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="BucketGraph_8h_source.html#l00249">249</a> of file <a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="BucketGraph_8h_source.html">BucketGraph.h</a></li>
<li><a class="el" href="BucketGraph_8cpp_source.html">BucketGraph.cpp</a></li>
<li><a class="el" href="BucketPSTEP_8cpp_source.html">BucketPSTEP.cpp</a></li>
<li><a class="el" href="BucketJump_8h_source.html">BucketJump.h</a></li>
<li><a class="el" href="BucketRes_8h_source.html">BucketRes.h</a></li>
<li><a class="el" href="BucketSolve_8h_source.html">BucketSolve.h</a></li>
<li><a class="el" href="BucketUtils_8h_source.html">BucketUtils.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classBucketGraph.html">BucketGraph</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
